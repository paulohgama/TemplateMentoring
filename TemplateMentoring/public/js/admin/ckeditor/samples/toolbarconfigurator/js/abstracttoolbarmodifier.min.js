"function"!=typeof Object.create&&function(){var o=function(){};Object.create=function(t){if(1<arguments.length)throw Error("Second argument not supported");if(null===t)throw Error("Cannot set a null [[Prototype]]");if("object"!=typeof t)throw TypeError("Argument must be an object");return o.prototype=t,new o}}(),CKEDITOR.plugins.add("toolbarconfiguratorarea",{afterInit:function(e){e.addMode("wysiwyg",function(t){var o=CKEDITOR.dom.element.createFromHtml('<div class="cke_wysiwyg_div cke_reset" hidefocus="true"></div>');e.ui.space("contents").append(o),(o=e.editable(o)).detach=CKEDITOR.tools.override(o.detach,function(t){return function(){t.apply(this,arguments),this.remove()}}),e.setData(e.getData(1),t),e.fire("contentDom")}),e.dataProcessor.toHtml=function(t){return t},e.dataProcessor.toDataFormat=function(t){return t}}}),Object.keys||(Object.keys=function(){var n=Object.prototype.hasOwnProperty,i=!{toString:null}.propertyIsEnumerable("toString"),r="toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" "),a=r.length;return function(t){if("object"!=typeof t&&("function"!=typeof t||null===t))throw new TypeError("Object.keys called on non-object");var o,e=[];for(o in t)n.call(t,o)&&e.push(o);if(i)for(o=0;o<a;o++)n.call(t,r[o])&&e.push(r[o]);return e}}()),function(){function r(t,o){this.cfg=o||{},this.hidden=!1,this.editorId=t,this.fullToolbarEditor=new ToolbarConfigurator.FullToolbarEditor,this.actualConfig=this.originalConfig=this.mainContainer=null,this.isEditableVisible=this.waitForReady=!1,this.toolbarContainer=null,this.toolbarButtons=[]}(ToolbarConfigurator.AbstractToolbarModifier=r).prototype.setConfig=function(t){this._onInit(void 0,t,!0)},r.prototype.init=function(t){var o=this;if(this.mainContainer=new CKEDITOR.dom.element("div"),null!==this.fullToolbarEditor.editorInstance)throw"Only one instance of ToolbarModifier is allowed";return this.editorInstance||this._createEditor(!1),this.editorInstance.once("loaded",function(){o.fullToolbarEditor.init(function(){o._onInit(t),"function"==typeof o.onRefresh&&o.onRefresh()},o.editorInstance.config)}),this.mainContainer},r.prototype._onInit=function(t,o){if(this.originalConfig=this.editorInstance.config,this.actualConfig=o?JSON.parse(o):JSON.parse(JSON.stringify(this.originalConfig)),!this.actualConfig.toolbarGroups&&!this.actualConfig.toolbar){for(var e=this.actualConfig,n=this.editorInstance.toolbar,i=[],r=n.length,a=0;a<r;a++){var s=n[a];"string"==typeof s?i.push(s):i.push({name:s.name,groups:s.groups?s.groups.slice():[]})}e.toolbarGroups=i}"function"==typeof t&&t(this.mainContainer)},r.prototype._createModifier=function(){return this.mainContainer.addClass("unselectable"),this.modifyContainer&&this.modifyContainer.remove(),this.modifyContainer=new CKEDITOR.dom.element("div"),this.modifyContainer.addClass("toolbarModifier"),this.mainContainer.append(this.modifyContainer),this.mainContainer},r.prototype.getEditableArea=function(){return this.editorInstance.container.findOne("#"+this.editorInstance.id+"_contents")},r.prototype._hideEditable=function(){var t=this.getEditableArea();this.isEditableVisible=!1,this.lastEditableAreaHeight=t.getStyle("height"),t.setStyle("height","0")},r.prototype._showEditable=function(){this.isEditableVisible=!0,this.getEditableArea().setStyle("height",this.lastEditableAreaHeight||"auto")},r.prototype._toggleEditable=function(){this.isEditableVisible?this._hideEditable():this._showEditable()},r.prototype._refreshEditor=function(){function t(){o.editorInstance.destroy(),o._createEditor(!0,o.getActualConfig()),o.waitForReady=!1}var o=this,e=this.editorInstance.status;this.waitForReady||("unloaded"==e||"loaded"==e?(this.waitForReady=!0,this.editorInstance.once("instanceReady",function(){t()},this)):t())},r.prototype._createEditor=function(e,o){function n(){}var i=this;this.editorInstance=CKEDITOR.replace(this.editorId),this.editorInstance.on("configLoaded",function(){var t=i.editorInstance.config;o&&CKEDITOR.tools.extend(t,o,!0),r.extendPluginsConfig(t)}),this.editorInstance.on("uiSpace",function(t){"top"!=t.data.space&&t.stop()},null,null,-999),this.editorInstance.once("loaded",function(){var t,o=i.editorInstance.ui.instances;for(t in o)o[t]&&(o[t].click=n,o[t].onClick=n);i.isEditableVisible||i._hideEditable(),i.currentActive&&i.currentActive.name&&i._highlightGroup(i.currentActive.name),i.hidden?i.hideUI():i.showUI(),e&&"function"==typeof i.onRefresh&&i.onRefresh()})},r.prototype.getActualConfig=function(){return JSON.parse(JSON.stringify(this.actualConfig))},r.prototype._createToolbar=function(){if(this.toolbarButtons.length){this.toolbarContainer=new CKEDITOR.dom.element("div"),this.toolbarContainer.addClass("toolbar");for(var t=this.toolbarButtons.length,o=0;o<t;o+=1)this._createToolbarBtn(this.toolbarButtons[o])}},r.prototype._createToolbarBtn=function(t){var o=ToolbarConfigurator.FullToolbarEditor.createButton("string"==typeof t.text?t.text:t.text.inactive,t.cssClass);return this.toolbarContainer.append(o),o.data("group",t.group),o.addClass(t.position),o.on("click",function(){t.clickCallback.call(this,o,t)},this),o},r.prototype._fixGroups=function(t){for(var o=(t=t.toolbarGroups||[]).length,e=0;e<o;e+=1){var n=t[e];"/"==n?((n=t[e]={}).type="separator",n.name="separator"+CKEDITOR.tools.getNextNumber()):(n.groups=n.groups||[],-1==CKEDITOR.tools.indexOf(n.groups,n.name)&&(this.editorInstance.ui.addToolbarGroup(n.name,n.groups[n.groups.length-1],n.name),n.groups.push(n.name)),this._fixSubgroups(n))}},r.prototype._fixSubgroups=function(t){for(var o=(t=t.groups).length,e=0;e<o;e+=1){var n=t[e];t[e]={name:n,totalBtns:ToolbarConfigurator.ToolbarModifier.getTotalSubGroupButtonsNumber(n,this.fullToolbarEditor)}}},r.stringifyJSONintoOneLine=function(t,o){o=o||{};var e=(e=JSON.stringify(t,null,"")).replace(/\n/g,"");return o.addSpaces&&(e=(e=e.replace(/(\{|:|,|\[|\])/g,function(t){return t+" "})).replace(/(\])/g,function(t){return" "+t})),o.noQuotesOnKey&&(e=e.replace(/"(\w*)":/g,function(t,o){return o+":"})),o.singleQuotes&&(e=e.replace(/\"/g,"'")),e},r.prototype.hideUI=function(){this.hidden=!0,this.mainContainer.hide(),this.editorInstance.container&&this.editorInstance.container.hide()},r.prototype.showUI=function(){this.hidden=!1,this.mainContainer.show(),this.editorInstance.container&&this.editorInstance.container.show()},r.extendPluginsConfig=function(t){var o=t.extraPlugins;t.extraPlugins=(o?o+",":"")+"toolbarconfiguratorarea"}}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNrZWRpdG9yL3NhbXBsZXMvdG9vbGJhcmNvbmZpZ3VyYXRvci9qcy9hYnN0cmFjdHRvb2xiYXJtb2RpZmllci5qcyJdLCJuYW1lcyI6WyJPYmplY3QiLCJjcmVhdGUiLCJhIiwiYiIsImFyZ3VtZW50cyIsImxlbmd0aCIsIkVycm9yIiwiVHlwZUVycm9yIiwicHJvdG90eXBlIiwiQ0tFRElUT1IiLCJwbHVnaW5zIiwiYWRkIiwiYWZ0ZXJJbml0IiwiYWRkTW9kZSIsImMiLCJkb20iLCJlbGVtZW50IiwiY3JlYXRlRnJvbUh0bWwiLCJ1aSIsInNwYWNlIiwiYXBwZW5kIiwiZWRpdGFibGUiLCJkZXRhY2giLCJ0b29scyIsIm92ZXJyaWRlIiwiYXBwbHkiLCJ0aGlzIiwicmVtb3ZlIiwic2V0RGF0YSIsImdldERhdGEiLCJmaXJlIiwiZGF0YVByb2Nlc3NvciIsInRvSHRtbCIsInRvRGF0YUZvcm1hdCIsImtleXMiLCJoYXNPd25Qcm9wZXJ0eSIsInRvU3RyaW5nIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJzcGxpdCIsImUiLCJkIiwiZiIsImciLCJjYWxsIiwicHVzaCIsImNmZyIsImhpZGRlbiIsImVkaXRvcklkIiwiZnVsbFRvb2xiYXJFZGl0b3IiLCJUb29sYmFyQ29uZmlndXJhdG9yIiwiRnVsbFRvb2xiYXJFZGl0b3IiLCJhY3R1YWxDb25maWciLCJvcmlnaW5hbENvbmZpZyIsIm1haW5Db250YWluZXIiLCJpc0VkaXRhYmxlVmlzaWJsZSIsIndhaXRGb3JSZWFkeSIsInRvb2xiYXJDb250YWluZXIiLCJ0b29sYmFyQnV0dG9ucyIsIkFic3RyYWN0VG9vbGJhck1vZGlmaWVyIiwic2V0Q29uZmlnIiwiX29uSW5pdCIsImluaXQiLCJlZGl0b3JJbnN0YW5jZSIsIl9jcmVhdGVFZGl0b3IiLCJvbmNlIiwib25SZWZyZXNoIiwiY29uZmlnIiwiSlNPTiIsInBhcnNlIiwic3RyaW5naWZ5IiwidG9vbGJhckdyb3VwcyIsInRvb2xiYXIiLCJrIiwiaCIsIm5hbWUiLCJncm91cHMiLCJzbGljZSIsIl9jcmVhdGVNb2RpZmllciIsImFkZENsYXNzIiwibW9kaWZ5Q29udGFpbmVyIiwiZ2V0RWRpdGFibGVBcmVhIiwiY29udGFpbmVyIiwiZmluZE9uZSIsImlkIiwiX2hpZGVFZGl0YWJsZSIsImxhc3RFZGl0YWJsZUFyZWFIZWlnaHQiLCJnZXRTdHlsZSIsInNldFN0eWxlIiwiX3Nob3dFZGl0YWJsZSIsIl90b2dnbGVFZGl0YWJsZSIsIl9yZWZyZXNoRWRpdG9yIiwiZGVzdHJveSIsImdldEFjdHVhbENvbmZpZyIsInN0YXR1cyIsInJlcGxhY2UiLCJvbiIsImV4dGVuZCIsImV4dGVuZFBsdWdpbnNDb25maWciLCJkYXRhIiwic3RvcCIsImluc3RhbmNlcyIsImNsaWNrIiwib25DbGljayIsImN1cnJlbnRBY3RpdmUiLCJfaGlnaGxpZ2h0R3JvdXAiLCJoaWRlVUkiLCJzaG93VUkiLCJfY3JlYXRlVG9vbGJhciIsIl9jcmVhdGVUb29sYmFyQnRuIiwiY3JlYXRlQnV0dG9uIiwidGV4dCIsImluYWN0aXZlIiwiY3NzQ2xhc3MiLCJncm91cCIsInBvc2l0aW9uIiwiY2xpY2tDYWxsYmFjayIsIl9maXhHcm91cHMiLCJ0eXBlIiwiZ2V0TmV4dE51bWJlciIsImluZGV4T2YiLCJhZGRUb29sYmFyR3JvdXAiLCJfZml4U3ViZ3JvdXBzIiwidG90YWxCdG5zIiwiVG9vbGJhck1vZGlmaWVyIiwiZ2V0VG90YWxTdWJHcm91cEJ1dHRvbnNOdW1iZXIiLCJzdHJpbmdpZnlKU09OaW50b09uZUxpbmUiLCJhZGRTcGFjZXMiLCJub1F1b3Rlc09uS2V5Iiwic2luZ2xlUXVvdGVzIiwiaGlkZSIsInNob3ciLCJleHRyYVBsdWdpbnMiXSwibWFwcGluZ3MiOiJBQUFBLG1CQUFtQkEsT0FBT0MsUUFBUSxXQUFXLElBQUlDLEVBQUUsYUFBYUYsT0FBT0MsT0FBTyxTQUFTRSxHQUFHLEdBQUcsRUFBRUMsVUFBVUMsT0FBTyxNQUFNQyxNQUFNLGlDQUFpQyxHQUFHLE9BQU9ILEVB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V0FBVy9FLEtBQUtvQixRQUFPLEVBQUdwQixLQUFLMkIsY0FBYzRFLE9BQU92RyxLQUFLb0MsZUFBZW1CLFdBQVd2RCxLQUFLb0MsZUFBZW1CLFVBQVVnRCxRQUFRL0gsRUFBRU0sVUFBVWtHLE9BQU8sV0FBV2hGLEtBQUtvQixRQUFPLEVBQUdwQixLQUFLMkIsY0FBYzZFLE9BQU94RyxLQUFLb0MsZUFBZW1CLFdBQVd2RCxLQUFLb0MsZUFBZW1CLFVBQVVpRCxRQUFRaEksRUFBRStGLG9CQUFvQixTQUFTL0YsR0FBRyxJQUFJWSxFQUFFWixFQUFFaUksYUFBYWpJLEVBQUVpSSxjQUFjckgsRUFBRUEsRUFBRSxJQUFJLElBQUksMkJBVDNlIiwiZmlsZSI6ImNrZWRpdG9yL3NhbXBsZXMvdG9vbGJhcmNvbmZpZ3VyYXRvci9qcy9hYnN0cmFjdHRvb2xiYXJtb2RpZmllci5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwiZnVuY3Rpb25cIiE9dHlwZW9mIE9iamVjdC5jcmVhdGUmJmZ1bmN0aW9uKCl7dmFyIGE9ZnVuY3Rpb24oKXt9O09iamVjdC5jcmVhdGU9ZnVuY3Rpb24oYil7aWYoMTxhcmd1bWVudHMubGVuZ3RoKXRocm93IEVycm9yKFwiU2Vjb25kIGFyZ3VtZW50IG5vdCBzdXBwb3J0ZWRcIik7aWYobnVsbD09PWIpdGhyb3cgRXJyb3IoXCJDYW5ub3Qgc2V0IGEgbnVsbCBbW1Byb3RvdHlwZV1dXCIpO2lmKFwib2JqZWN0XCIhPXR5cGVvZiBiKXRocm93IFR5cGVFcnJvcihcIkFyZ3VtZW50IG11c3QgYmUgYW4gb2JqZWN0XCIpO2EucHJvdG90eXBlPWI7cmV0dXJuIG5ldyBhfX0oKTtcclxuQ0tFRElUT1IucGx1Z2lucy5hZGQoXCJ0b29sYmFyY29uZmlndXJhdG9yYXJlYVwiLHthZnRlckluaXQ6ZnVuY3Rpb24oYSl7YS5hZGRNb2RlKFwid3lzaXd5Z1wiLGZ1bmN0aW9uKGIpe3ZhciBjPUNLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKCdcXHgzY2RpdiBjbGFzc1xceDNkXCJja2Vfd3lzaXd5Z19kaXYgY2tlX3Jlc2V0XCIgaGlkZWZvY3VzXFx4M2RcInRydWVcIlxceDNlXFx4M2MvZGl2XFx4M2UnKTthLnVpLnNwYWNlKFwiY29udGVudHNcIikuYXBwZW5kKGMpO2M9YS5lZGl0YWJsZShjKTtjLmRldGFjaD1DS0VESVRPUi50b29scy5vdmVycmlkZShjLmRldGFjaCxmdW5jdGlvbihiKXtyZXR1cm4gZnVuY3Rpb24oKXtiLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLnJlbW92ZSgpfX0pO2Euc2V0RGF0YShhLmdldERhdGEoMSksYik7YS5maXJlKFwiY29udGVudERvbVwiKX0pO2EuZGF0YVByb2Nlc3Nvci50b0h0bWw9ZnVuY3Rpb24oYil7cmV0dXJuIGJ9O2EuZGF0YVByb2Nlc3Nvci50b0RhdGFGb3JtYXQ9XHJcbmZ1bmN0aW9uKGIpe3JldHVybiBifX19KTtPYmplY3Qua2V5c3x8KE9iamVjdC5rZXlzPWZ1bmN0aW9uKCl7dmFyIGE9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxiPSF7dG9TdHJpbmc6bnVsbH0ucHJvcGVydHlJc0VudW1lcmFibGUoXCJ0b1N0cmluZ1wiKSxjPVwidG9TdHJpbmcgdG9Mb2NhbGVTdHJpbmcgdmFsdWVPZiBoYXNPd25Qcm9wZXJ0eSBpc1Byb3RvdHlwZU9mIHByb3BlcnR5SXNFbnVtZXJhYmxlIGNvbnN0cnVjdG9yXCIuc3BsaXQoXCIgXCIpLGU9Yy5sZW5ndGg7cmV0dXJuIGZ1bmN0aW9uKGQpe2lmKFwib2JqZWN0XCIhPT10eXBlb2YgZCYmKFwiZnVuY3Rpb25cIiE9PXR5cGVvZiBkfHxudWxsPT09ZCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIk9iamVjdC5rZXlzIGNhbGxlZCBvbiBub24tb2JqZWN0XCIpO3ZhciBnPVtdLGY7Zm9yKGYgaW4gZClhLmNhbGwoZCxmKSYmZy5wdXNoKGYpO2lmKGIpZm9yKGY9MDtmPGU7ZisrKWEuY2FsbChkLGNbZl0pJiZnLnB1c2goY1tmXSk7cmV0dXJuIGd9fSgpKTtcclxuKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShiLGMpe3RoaXMuY2ZnPWN8fHt9O3RoaXMuaGlkZGVuPSExO3RoaXMuZWRpdG9ySWQ9Yjt0aGlzLmZ1bGxUb29sYmFyRWRpdG9yPW5ldyBUb29sYmFyQ29uZmlndXJhdG9yLkZ1bGxUb29sYmFyRWRpdG9yO3RoaXMuYWN0dWFsQ29uZmlnPXRoaXMub3JpZ2luYWxDb25maWc9dGhpcy5tYWluQ29udGFpbmVyPW51bGw7dGhpcy5pc0VkaXRhYmxlVmlzaWJsZT10aGlzLndhaXRGb3JSZWFkeT0hMTt0aGlzLnRvb2xiYXJDb250YWluZXI9bnVsbDt0aGlzLnRvb2xiYXJCdXR0b25zPVtdfVRvb2xiYXJDb25maWd1cmF0b3IuQWJzdHJhY3RUb29sYmFyTW9kaWZpZXI9YTthLnByb3RvdHlwZS5zZXRDb25maWc9ZnVuY3Rpb24oYil7dGhpcy5fb25Jbml0KHZvaWQgMCxiLCEwKX07YS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbihiKXt2YXIgYz10aGlzO3RoaXMubWFpbkNvbnRhaW5lcj1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoXCJkaXZcIik7aWYobnVsbCE9PVxyXG50aGlzLmZ1bGxUb29sYmFyRWRpdG9yLmVkaXRvckluc3RhbmNlKXRocm93XCJPbmx5IG9uZSBpbnN0YW5jZSBvZiBUb29sYmFyTW9kaWZpZXIgaXMgYWxsb3dlZFwiO3RoaXMuZWRpdG9ySW5zdGFuY2V8fHRoaXMuX2NyZWF0ZUVkaXRvcighMSk7dGhpcy5lZGl0b3JJbnN0YW5jZS5vbmNlKFwibG9hZGVkXCIsZnVuY3Rpb24oKXtjLmZ1bGxUb29sYmFyRWRpdG9yLmluaXQoZnVuY3Rpb24oKXtjLl9vbkluaXQoYik7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgYy5vblJlZnJlc2gpYy5vblJlZnJlc2goKX0sYy5lZGl0b3JJbnN0YW5jZS5jb25maWcpfSk7cmV0dXJuIHRoaXMubWFpbkNvbnRhaW5lcn07YS5wcm90b3R5cGUuX29uSW5pdD1mdW5jdGlvbihiLGMpe3RoaXMub3JpZ2luYWxDb25maWc9dGhpcy5lZGl0b3JJbnN0YW5jZS5jb25maWc7dGhpcy5hY3R1YWxDb25maWc9Yz9KU09OLnBhcnNlKGMpOkpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5vcmlnaW5hbENvbmZpZykpO2lmKCF0aGlzLmFjdHVhbENvbmZpZy50b29sYmFyR3JvdXBzJiZcclxuIXRoaXMuYWN0dWFsQ29uZmlnLnRvb2xiYXIpe2Zvcih2YXIgYT10aGlzLmFjdHVhbENvbmZpZyxkPXRoaXMuZWRpdG9ySW5zdGFuY2UudG9vbGJhcixnPVtdLGY9ZC5sZW5ndGgsaz0wO2s8ZjtrKyspe3ZhciBoPWRba107XCJzdHJpbmdcIj09dHlwZW9mIGg/Zy5wdXNoKGgpOmcucHVzaCh7bmFtZTpoLm5hbWUsZ3JvdXBzOmguZ3JvdXBzP2guZ3JvdXBzLnNsaWNlKCk6W119KX1hLnRvb2xiYXJHcm91cHM9Z31cImZ1bmN0aW9uXCI9PT10eXBlb2YgYiYmYih0aGlzLm1haW5Db250YWluZXIpfTthLnByb3RvdHlwZS5fY3JlYXRlTW9kaWZpZXI9ZnVuY3Rpb24oKXt0aGlzLm1haW5Db250YWluZXIuYWRkQ2xhc3MoXCJ1bnNlbGVjdGFibGVcIik7dGhpcy5tb2RpZnlDb250YWluZXImJnRoaXMubW9kaWZ5Q29udGFpbmVyLnJlbW92ZSgpO3RoaXMubW9kaWZ5Q29udGFpbmVyPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcImRpdlwiKTt0aGlzLm1vZGlmeUNvbnRhaW5lci5hZGRDbGFzcyhcInRvb2xiYXJNb2RpZmllclwiKTtcclxudGhpcy5tYWluQ29udGFpbmVyLmFwcGVuZCh0aGlzLm1vZGlmeUNvbnRhaW5lcik7cmV0dXJuIHRoaXMubWFpbkNvbnRhaW5lcn07YS5wcm90b3R5cGUuZ2V0RWRpdGFibGVBcmVhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWRpdG9ySW5zdGFuY2UuY29udGFpbmVyLmZpbmRPbmUoXCIjXCIrdGhpcy5lZGl0b3JJbnN0YW5jZS5pZCtcIl9jb250ZW50c1wiKX07YS5wcm90b3R5cGUuX2hpZGVFZGl0YWJsZT1mdW5jdGlvbigpe3ZhciBiPXRoaXMuZ2V0RWRpdGFibGVBcmVhKCk7dGhpcy5pc0VkaXRhYmxlVmlzaWJsZT0hMTt0aGlzLmxhc3RFZGl0YWJsZUFyZWFIZWlnaHQ9Yi5nZXRTdHlsZShcImhlaWdodFwiKTtiLnNldFN0eWxlKFwiaGVpZ2h0XCIsXCIwXCIpfTthLnByb3RvdHlwZS5fc2hvd0VkaXRhYmxlPWZ1bmN0aW9uKCl7dGhpcy5pc0VkaXRhYmxlVmlzaWJsZT0hMDt0aGlzLmdldEVkaXRhYmxlQXJlYSgpLnNldFN0eWxlKFwiaGVpZ2h0XCIsdGhpcy5sYXN0RWRpdGFibGVBcmVhSGVpZ2h0fHxcImF1dG9cIil9O1xyXG5hLnByb3RvdHlwZS5fdG9nZ2xlRWRpdGFibGU9ZnVuY3Rpb24oKXt0aGlzLmlzRWRpdGFibGVWaXNpYmxlP3RoaXMuX2hpZGVFZGl0YWJsZSgpOnRoaXMuX3Nob3dFZGl0YWJsZSgpfTthLnByb3RvdHlwZS5fcmVmcmVzaEVkaXRvcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGIoKXtjLmVkaXRvckluc3RhbmNlLmRlc3Ryb3koKTtjLl9jcmVhdGVFZGl0b3IoITAsYy5nZXRBY3R1YWxDb25maWcoKSk7Yy53YWl0Rm9yUmVhZHk9ITF9dmFyIGM9dGhpcyxhPXRoaXMuZWRpdG9ySW5zdGFuY2Uuc3RhdHVzO3RoaXMud2FpdEZvclJlYWR5fHwoXCJ1bmxvYWRlZFwiPT1hfHxcImxvYWRlZFwiPT1hPyh0aGlzLndhaXRGb3JSZWFkeT0hMCx0aGlzLmVkaXRvckluc3RhbmNlLm9uY2UoXCJpbnN0YW5jZVJlYWR5XCIsZnVuY3Rpb24oKXtiKCl9LHRoaXMpKTpiKCkpfTthLnByb3RvdHlwZS5fY3JlYXRlRWRpdG9yPWZ1bmN0aW9uKGIsYyl7ZnVuY3Rpb24gZSgpe312YXIgZD10aGlzO3RoaXMuZWRpdG9ySW5zdGFuY2U9XHJcbkNLRURJVE9SLnJlcGxhY2UodGhpcy5lZGl0b3JJZCk7dGhpcy5lZGl0b3JJbnN0YW5jZS5vbihcImNvbmZpZ0xvYWRlZFwiLGZ1bmN0aW9uKCl7dmFyIGI9ZC5lZGl0b3JJbnN0YW5jZS5jb25maWc7YyYmQ0tFRElUT1IudG9vbHMuZXh0ZW5kKGIsYywhMCk7YS5leHRlbmRQbHVnaW5zQ29uZmlnKGIpfSk7dGhpcy5lZGl0b3JJbnN0YW5jZS5vbihcInVpU3BhY2VcIixmdW5jdGlvbihiKXtcInRvcFwiIT1iLmRhdGEuc3BhY2UmJmIuc3RvcCgpfSxudWxsLG51bGwsLTk5OSk7dGhpcy5lZGl0b3JJbnN0YW5jZS5vbmNlKFwibG9hZGVkXCIsZnVuY3Rpb24oKXt2YXIgYz1kLmVkaXRvckluc3RhbmNlLnVpLmluc3RhbmNlcyxhO2ZvcihhIGluIGMpY1thXSYmKGNbYV0uY2xpY2s9ZSxjW2FdLm9uQ2xpY2s9ZSk7ZC5pc0VkaXRhYmxlVmlzaWJsZXx8ZC5faGlkZUVkaXRhYmxlKCk7ZC5jdXJyZW50QWN0aXZlJiZkLmN1cnJlbnRBY3RpdmUubmFtZSYmZC5faGlnaGxpZ2h0R3JvdXAoZC5jdXJyZW50QWN0aXZlLm5hbWUpO1xyXG5kLmhpZGRlbj9kLmhpZGVVSSgpOmQuc2hvd1VJKCk7aWYoYiYmXCJmdW5jdGlvblwiPT09dHlwZW9mIGQub25SZWZyZXNoKWQub25SZWZyZXNoKCl9KX07YS5wcm90b3R5cGUuZ2V0QWN0dWFsQ29uZmlnPWZ1bmN0aW9uKCl7cmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5hY3R1YWxDb25maWcpKX07YS5wcm90b3R5cGUuX2NyZWF0ZVRvb2xiYXI9ZnVuY3Rpb24oKXtpZih0aGlzLnRvb2xiYXJCdXR0b25zLmxlbmd0aCl7dGhpcy50b29sYmFyQ29udGFpbmVyPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcImRpdlwiKTt0aGlzLnRvb2xiYXJDb250YWluZXIuYWRkQ2xhc3MoXCJ0b29sYmFyXCIpO2Zvcih2YXIgYj10aGlzLnRvb2xiYXJCdXR0b25zLmxlbmd0aCxjPTA7YzxiO2MrPTEpdGhpcy5fY3JlYXRlVG9vbGJhckJ0bih0aGlzLnRvb2xiYXJCdXR0b25zW2NdKX19O2EucHJvdG90eXBlLl9jcmVhdGVUb29sYmFyQnRuPWZ1bmN0aW9uKGIpe3ZhciBjPVRvb2xiYXJDb25maWd1cmF0b3IuRnVsbFRvb2xiYXJFZGl0b3IuY3JlYXRlQnV0dG9uKFwic3RyaW5nXCI9PT1cclxudHlwZW9mIGIudGV4dD9iLnRleHQ6Yi50ZXh0LmluYWN0aXZlLGIuY3NzQ2xhc3MpO3RoaXMudG9vbGJhckNvbnRhaW5lci5hcHBlbmQoYyk7Yy5kYXRhKFwiZ3JvdXBcIixiLmdyb3VwKTtjLmFkZENsYXNzKGIucG9zaXRpb24pO2Mub24oXCJjbGlja1wiLGZ1bmN0aW9uKCl7Yi5jbGlja0NhbGxiYWNrLmNhbGwodGhpcyxjLGIpfSx0aGlzKTtyZXR1cm4gY307YS5wcm90b3R5cGUuX2ZpeEdyb3Vwcz1mdW5jdGlvbihiKXtiPWIudG9vbGJhckdyb3Vwc3x8W107Zm9yKHZhciBjPWIubGVuZ3RoLGE9MDthPGM7YSs9MSl7dmFyIGQ9YlthXTtcIi9cIj09ZD8oZD1iW2FdPXt9LGQudHlwZT1cInNlcGFyYXRvclwiLGQubmFtZT1cInNlcGFyYXRvclwiK0NLRURJVE9SLnRvb2xzLmdldE5leHROdW1iZXIoKSk6KGQuZ3JvdXBzPWQuZ3JvdXBzfHxbXSwtMT09Q0tFRElUT1IudG9vbHMuaW5kZXhPZihkLmdyb3VwcyxkLm5hbWUpJiYodGhpcy5lZGl0b3JJbnN0YW5jZS51aS5hZGRUb29sYmFyR3JvdXAoZC5uYW1lLFxyXG5kLmdyb3Vwc1tkLmdyb3Vwcy5sZW5ndGgtMV0sZC5uYW1lKSxkLmdyb3Vwcy5wdXNoKGQubmFtZSkpLHRoaXMuX2ZpeFN1Ymdyb3VwcyhkKSl9fTthLnByb3RvdHlwZS5fZml4U3ViZ3JvdXBzPWZ1bmN0aW9uKGIpe2I9Yi5ncm91cHM7Zm9yKHZhciBjPWIubGVuZ3RoLGE9MDthPGM7YSs9MSl7dmFyIGQ9YlthXTtiW2FdPXtuYW1lOmQsdG90YWxCdG5zOlRvb2xiYXJDb25maWd1cmF0b3IuVG9vbGJhck1vZGlmaWVyLmdldFRvdGFsU3ViR3JvdXBCdXR0b25zTnVtYmVyKGQsdGhpcy5mdWxsVG9vbGJhckVkaXRvcil9fX07YS5zdHJpbmdpZnlKU09OaW50b09uZUxpbmU9ZnVuY3Rpb24oYixhKXthPWF8fHt9O3ZhciBlPUpTT04uc3RyaW5naWZ5KGIsbnVsbCxcIlwiKSxlPWUucmVwbGFjZSgvXFxuL2csXCJcIik7YS5hZGRTcGFjZXMmJihlPWUucmVwbGFjZSgvKFxce3w6fCx8XFxbfFxcXSkvZyxmdW5jdGlvbihhKXtyZXR1cm4gYStcIiBcIn0pLGU9ZS5yZXBsYWNlKC8oXFxdKS9nLGZ1bmN0aW9uKGEpe3JldHVyblwiIFwiK1xyXG5hfSkpO2Eubm9RdW90ZXNPbktleSYmKGU9ZS5yZXBsYWNlKC9cIihcXHcqKVwiOi9nLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGIrXCI6XCJ9KSk7YS5zaW5nbGVRdW90ZXMmJihlPWUucmVwbGFjZSgvXFxcIi9nLFwiJ1wiKSk7cmV0dXJuIGV9O2EucHJvdG90eXBlLmhpZGVVST1mdW5jdGlvbigpe3RoaXMuaGlkZGVuPSEwO3RoaXMubWFpbkNvbnRhaW5lci5oaWRlKCk7dGhpcy5lZGl0b3JJbnN0YW5jZS5jb250YWluZXImJnRoaXMuZWRpdG9ySW5zdGFuY2UuY29udGFpbmVyLmhpZGUoKX07YS5wcm90b3R5cGUuc2hvd1VJPWZ1bmN0aW9uKCl7dGhpcy5oaWRkZW49ITE7dGhpcy5tYWluQ29udGFpbmVyLnNob3coKTt0aGlzLmVkaXRvckluc3RhbmNlLmNvbnRhaW5lciYmdGhpcy5lZGl0b3JJbnN0YW5jZS5jb250YWluZXIuc2hvdygpfTthLmV4dGVuZFBsdWdpbnNDb25maWc9ZnVuY3Rpb24oYSl7dmFyIGM9YS5leHRyYVBsdWdpbnM7YS5leHRyYVBsdWdpbnM9KGM/YytcIixcIjpcIlwiKStcInRvb2xiYXJjb25maWd1cmF0b3JhcmVhXCJ9fSkoKTsiXX0=
