!function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)}(function(g){function i(t,i){this.cm=t,this.options=this.buildOptions(i),this.widget=null,this.tick=this.debounce=0,this.startPos=this.cm.getCursor(),this.startLen=this.cm.getLine(this.startPos.line).length;var e=this;t.on("cursorActivity",this.activityFunc=function(){e.cursorActivity()})}function v(t,i){for(;i&&i!=t;){if("LI"===i.nodeName.toUpperCase()&&i.parentNode==t)return i;i=i.parentNode}}function e(o,t){this.completion=o,this.data=t,this.picked=!1;var e=this,s=o.cm,c=this.hints=document.createElement("ul");c.className="CodeMirror-hints",this.selectedHint=t.selectedHint||0;for(var i=t.list,n=0;n<i.length;++n){var h=c.appendChild(document.createElement("li")),l=i[n],r="CodeMirror-hint"+(n!=this.selectedHint?"":" CodeMirror-hint-active");null!=l.className&&(r=l.className+" "+r),h.className=r,l.render?l.render(h,t,l):h.appendChild(document.createTextNode(l.displayText||("string"==typeof l?l:l.text))),h.hintId=n}var a,u=(n=s.cursorCoords(o.options.alignWithWord?t.from:null)).left,f=n.bottom,d=!0;if(c.style.left=u+"px",c.style.top=f+"px",h=window.innerWidth||Math.max(document.body.offsetWidth,document.documentElement.offsetWidth),r=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight),(o.options.container||document.body).appendChild(c),0<(l=c.getBoundingClientRect()).bottom-r){var p=l.bottom-l.top;0<n.top-(n.bottom-l.top)-p?(c.style.top=(f=n.top-p)+"px",d=!1):r<p&&(c.style.height=r-5+"px",c.style.top=(f=n.bottom-l.top)+"px",r=s.getCursor(),t.from.ch!=r.ch&&(n=s.cursorCoords(r),c.style.left=(u=n.left)+"px",l=c.getBoundingClientRect()))}(0<(r=l.right-h)&&(l.right-l.left>h&&(c.style.width=h-5+"px",r-=l.right-l.left-h),c.style.left=(u=n.left-r)+"px"),s.addKeyMap(this.keyMap=function(t,n){function i(t,i){var e;e="string"!=typeof i?function(t){return i(t,n)}:o.hasOwnProperty(i)?o[i]:i,s[t]=e}var o={Up:function(){n.moveFocus(-1)},Down:function(){n.moveFocus(1)},PageUp:function(){n.moveFocus(1-n.menuSize(),!0)},PageDown:function(){n.moveFocus(n.menuSize()-1,!0)},Home:function(){n.setFocus(0)},End:function(){n.setFocus(n.length-1)},Enter:n.pick,Tab:n.pick,Esc:n.close},e=t.options.customKeys,s=e?{}:o;if(e)for(var c in e)e.hasOwnProperty(c)&&i(c,e[c]);if(e=t.options.extraKeys)for(c in e)e.hasOwnProperty(c)&&i(c,e[c]);return s}(o,{moveFocus:function(t,i){e.changeActive(e.selectedHint+t,i)},setFocus:function(t){e.changeActive(t)},menuSize:function(){return e.screenAmount()},length:i.length,close:function(){o.close()},pick:function(){e.pick()},data:t})),o.options.closeOnUnfocus)&&(s.on("blur",this.onBlur=function(){a=setTimeout(function(){o.close()},100)}),s.on("focus",this.onFocus=function(){clearTimeout(a)}));var m=s.getScrollInfo();return s.on("scroll",this.onScroll=function(){var t=s.getScrollInfo(),i=s.getWrapperElement().getBoundingClientRect(),e=f+m.top-t.top,n=e-(window.pageYOffset||(document.documentElement||document.body).scrollTop);if(d||(n+=c.offsetHeight),n<=i.top||n>=i.bottom)return o.close();c.style.top=e+"px",c.style.left=u+m.left-t.left+"px"}),g.on(c,"dblclick",function(t){(t=v(c,t.target||t.srcElement))&&null!=t.hintId&&(e.changeActive(t.hintId),e.pick())}),g.on(c,"click",function(t){(t=v(c,t.target||t.srcElement))&&null!=t.hintId&&(e.changeActive(t.hintId),o.options.completeOnSingleClick&&e.pick())}),g.on(c,"mousedown",function(){setTimeout(function(){s.focus()},20)}),g.signal(t,"select",i[0],c.firstChild),!0}g.showHint=function(t,i,e){if(!i)return t.showHint(e);if(e&&e.async&&(i.async=!0),i={hint:i},e)for(var n in e)i[n]=e[n];return t.showHint(i)},g.defineExtension("showHint",function(t){1<this.listSelections().length||this.somethingSelected()||(this.state.completionActive&&this.state.completionActive.close(),(t=this.state.completionActive=new i(this,t)).options.hint&&(g.signal(this,"startCompletion",this),t.update()))});var n=window.requestAnimationFrame||function(t){return setTimeout(t,1e3/60)},o=window.cancelAnimationFrame||clearTimeout;i.prototype={close:function(){this.active()&&(this.tick=this.cm.state.completionActive=null,this.cm.off("cursorActivity",this.activityFunc),this.widget&&this.widget.close(),g.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(t,i){var e=t.list[i];e.hint?e.hint(this.cm,t,e):this.cm.replaceRange("string"==typeof e?e:e.text,e.from||t.from,e.to||t.to,"complete"),g.signal(t,"pick",e),this.close()},showHints:function(t){if(!t||!t.list.length||!this.active())return this.close();this.options.completeSingle&&1==t.list.length?this.pick(t,0):this.showWidget(t)},cursorActivity:function(){this.debounce&&(o(this.debounce),this.debounce=0);var t=this.cm.getCursor(),i=this.cm.getLine(t.line);if(t.line!=this.startPos.line||i.length-t.ch!=this.startLen-this.startPos.ch||t.ch<this.startPos.ch||this.cm.somethingSelected()||t.ch&&this.options.closeCharacters.test(i.charAt(t.ch-1)))this.close();else{var e=this;this.debounce=n(function(){e.update()}),this.widget&&this.widget.disable()}},update:function(){if(null!=this.tick)if(this.data&&g.signal(this.data,"update"),this.options.hint.async){var i=++this.tick,e=this;this.options.hint(this.cm,function(t){e.tick==i&&e.finishUpdate(t)},this.options)}else this.finishUpdate(this.options.hint(this.cm,this.options),i)},finishUpdate:function(t){this.data=t;var i=this.widget&&this.widget.picked;this.widget&&this.widget.close(),t&&t.list.length&&(i&&1==t.list.length?this.pick(t,0):this.widget=new e(this,t))},showWidget:function(t){this.data=t,this.widget=new e(this,t),g.signal(t,"shown")},buildOptions:function(t){var i,e=this.cm.options.hintOptions,n={};for(i in s)n[i]=s[i];if(e)for(i in e)void 0!==e[i]&&(n[i]=e[i]);if(t)for(i in t)void 0!==t[i]&&(n[i]=t[i]);return n}},e.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var t=this.completion.cm;this.completion.options.closeOnUnfocus&&(t.off("blur",this.onBlur),t.off("focus",this.onFocus)),t.off("scroll",this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var t=this;this.keyMap={Enter:function(){t.picked=!0}},this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(t,i){if(t>=this.data.list.length?t=i?this.data.list.length-1:0:t<0&&(t=i?0:this.data.list.length-1),this.selectedHint!=t){var e=this.hints.childNodes[this.selectedHint];e.className=e.className.replace(" CodeMirror-hint-active",""),(e=this.hints.childNodes[this.selectedHint=t]).className+=" CodeMirror-hint-active",e.offsetTop<this.hints.scrollTop?this.hints.scrollTop=e.offsetTop-3:e.offsetTop+e.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=e.offsetTop+e.offsetHeight-this.hints.clientHeight+3),g.signal(this.data,"select",this.data.list[this.selectedHint],e)}},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1}},g.registerHelper("hint","auto",function(t,i){var e=t.getHelpers(t.getCursor(),"hint");if(e.length)for(var n=0;n<e.length;n++){var o=e[n](t,i);if(o&&o.list.length)return o}else if(e=t.getHelper(t.getCursor(),"hintWords")){if(e)return g.hint.fromList(t,{words:e})}else if(g.hint.anyword)return g.hint.anyword(t,i)}),g.registerHelper("hint","fromList",function(t,i){for(var e=t.getCursor(),n=t.getTokenAt(e),o=[],s=0;s<i.words.length;s++){var c=i.words[s];c.slice(0,n.string.length)==n.string&&o.push(c)}if(o.length)return{list:o,from:g.Pos(e.line,n.start),to:g.Pos(e.line,n.end)}}),g.commands.autocomplete=g.showHint;var s={hint:g.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnUnfocus:!0,completeOnSingleClick:!1,container:null,customKeys:null,extraKeys:null};g.defineOption("hintOptions",null)});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNrZWRpdG9yL3NhbXBsZXMvdG9vbGJhcmNvbmZpZ3VyYXRvci9saWIvY29kZW1pcnJvci9zaG93LWhpbnQuanMiXSwibmFtZXMiOlsiZiIsImV4cG9ydHMiLCJtb2R1bGUiLCJyZXF1aXJlIiwiZGVmaW5lIiwiYW1kIiwiQ29kZU1pcnJvciIsInAiLCJhIiwiYiIsInRoaXMiLCJjbSIsIm9wdGlvbnMiLCJidWlsZE9wdGlvbnMiLCJ3aWRnZXQiLCJ0aWNrIiwiZGVib3VuY2UiLCJzdGFydFBvcyIsImdldEN1cnNvciIsInN0YXJ0TGVuIiwiZ2V0TGluZSIsImxpbmUiLCJsZW5ndGgiLCJjIiwib24iLCJhY3Rpdml0eUZ1bmMiLCJjdXJzb3JBY3Rpdml0eSIsInYiLCJub2RlTmFtZSIsInRvVXBwZXJDYXNlIiwicGFyZW50Tm9kZSIsIm4iLCJjb21wbGV0aW9uIiwiZGF0YSIsInBpY2tlZCIsImUiLCJkIiwiaGludHMiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJzZWxlY3RlZEhpbnQiLCJtIiwibGlzdCIsImciLCJsIiwiYXBwZW5kQ2hpbGQiLCJoIiwiayIsInJlbmRlciIsImNyZWF0ZVRleHROb2RlIiwiZGlzcGxheVRleHQiLCJ0ZXh0IiwiaGludElkIiwiciIsImN1cnNvckNvb3JkcyIsImFsaWduV2l0aFdvcmQiLCJmcm9tIiwibGVmdCIsInQiLCJib3R0b20iLCJzdHlsZSIsInRvcCIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJNYXRoIiwibWF4IiwiYm9keSIsIm9mZnNldFdpZHRoIiwiZG9jdW1lbnRFbGVtZW50IiwiaW5uZXJIZWlnaHQiLCJvZmZzZXRIZWlnaHQiLCJjb250YWluZXIiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ1IiwiaGVpZ2h0IiwiY2giLCJyaWdodCIsIndpZHRoIiwiYWRkS2V5TWFwIiwia2V5TWFwIiwiaGFzT3duUHJvcGVydHkiLCJVcCIsIm1vdmVGb2N1cyIsIkRvd24iLCJQYWdlVXAiLCJtZW51U2l6ZSIsIlBhZ2VEb3duIiwiSG9tZSIsInNldEZvY3VzIiwiRW5kIiwiRW50ZXIiLCJwaWNrIiwiVGFiIiwiRXNjIiwiY2xvc2UiLCJjdXN0b21LZXlzIiwiZXh0cmFLZXlzIiwidyIsImNoYW5nZUFjdGl2ZSIsInNjcmVlbkFtb3VudCIsImNsb3NlT25VbmZvY3VzIiwib25CbHVyIiwic2V0VGltZW91dCIsIm9uRm9jdXMiLCJjbGVhclRpbWVvdXQiLCJxIiwiZ2V0U2Nyb2xsSW5mbyIsIm9uU2Nyb2xsIiwiZ2V0V3JhcHBlckVsZW1lbnQiLCJwYWdlWU9mZnNldCIsInNjcm9sbFRvcCIsInRhcmdldCIsInNyY0VsZW1lbnQiLCJjb21wbGV0ZU9uU2luZ2xlQ2xpY2siLCJmb2N1cyIsInNpZ25hbCIsImZpcnN0Q2hpbGQiLCJzaG93SGludCIsImFzeW5jIiwiaGludCIsImRlZmluZUV4dGVuc2lvbiIsImxpc3RTZWxlY3Rpb25zIiwic29tZXRoaW5nU2VsZWN0ZWQiLCJzdGF0ZSIsImNvbXBsZXRpb25BY3RpdmUiLCJ1cGRhdGUiLCJ4IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwieSIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwicHJvdG90eXBlIiwiYWN0aXZlIiwib2ZmIiwicmVwbGFjZVJhbmdlIiwidG8iLCJzaG93SGludHMiLCJjb21wbGV0ZVNpbmdsZSIsInNob3dXaWRnZXQiLCJjbG9zZUNoYXJhY3RlcnMiLCJ0ZXN0IiwiY2hhckF0IiwiZGlzYWJsZSIsImZpbmlzaFVwZGF0ZSIsImhpbnRPcHRpb25zIiwicmVtb3ZlQ2hpbGQiLCJyZW1vdmVLZXlNYXAiLCJjaGlsZE5vZGVzIiwicmVwbGFjZSIsIm9mZnNldFRvcCIsImNsaWVudEhlaWdodCIsImZsb29yIiwicmVnaXN0ZXJIZWxwZXIiLCJnZXRIZWxwZXJzIiwiZ2V0SGVscGVyIiwiZnJvbUxpc3QiLCJ3b3JkcyIsImFueXdvcmQiLCJnZXRUb2tlbkF0Iiwic2xpY2UiLCJzdHJpbmciLCJwdXNoIiwiUG9zIiwic3RhcnQi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ZUFBYyxFQUFHbUYsZ0JBQWdCLG1CQUFtQnRDLGdCQUFlLEVBQUdhLHVCQUFzQixFQUFHMUMsVUFBVSxLQUFLd0IsV0FBVyxLQUFLQyxVQUFVLE1BQU1qRyxFQUFFd0ssYUFBYSxjQUFjIiwiZmlsZSI6ImNrZWRpdG9yL3NhbXBsZXMvdG9vbGJhcmNvbmZpZ3VyYXRvci9saWIvY29kZW1pcnJvci9zaG93LWhpbnQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oZil7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGU/ZihyZXF1aXJlKFwiLi4vLi4vbGliL2NvZGVtaXJyb3JcIikpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW1wiLi4vLi4vbGliL2NvZGVtaXJyb3JcIl0sZik6ZihDb2RlTWlycm9yKX0pKGZ1bmN0aW9uKGYpe2Z1bmN0aW9uIHAoYSxiKXt0aGlzLmNtPWE7dGhpcy5vcHRpb25zPXRoaXMuYnVpbGRPcHRpb25zKGIpO3RoaXMud2lkZ2V0PW51bGw7dGhpcy50aWNrPXRoaXMuZGVib3VuY2U9MDt0aGlzLnN0YXJ0UG9zPXRoaXMuY20uZ2V0Q3Vyc29yKCk7dGhpcy5zdGFydExlbj10aGlzLmNtLmdldExpbmUodGhpcy5zdGFydFBvcy5saW5lKS5sZW5ndGg7dmFyIGM9dGhpczthLm9uKFwiY3Vyc29yQWN0aXZpdHlcIix0aGlzLmFjdGl2aXR5RnVuYz1mdW5jdGlvbigpe2MuY3Vyc29yQWN0aXZpdHkoKX0pfWZ1bmN0aW9uIHcoYSxiKXtmdW5jdGlvbiBjKGEsXHJcbmMpe3ZhciBkO2Q9XCJzdHJpbmdcIiE9dHlwZW9mIGM/ZnVuY3Rpb24oYSl7cmV0dXJuIGMoYSxiKX06ZS5oYXNPd25Qcm9wZXJ0eShjKT9lW2NdOmM7ZlthXT1kfXZhciBlPXtVcDpmdW5jdGlvbigpe2IubW92ZUZvY3VzKC0xKX0sRG93bjpmdW5jdGlvbigpe2IubW92ZUZvY3VzKDEpfSxQYWdlVXA6ZnVuY3Rpb24oKXtiLm1vdmVGb2N1cygtYi5tZW51U2l6ZSgpKzEsITApfSxQYWdlRG93bjpmdW5jdGlvbigpe2IubW92ZUZvY3VzKGIubWVudVNpemUoKS0xLCEwKX0sSG9tZTpmdW5jdGlvbigpe2Iuc2V0Rm9jdXMoMCl9LEVuZDpmdW5jdGlvbigpe2Iuc2V0Rm9jdXMoYi5sZW5ndGgtMSl9LEVudGVyOmIucGljayxUYWI6Yi5waWNrLEVzYzpiLmNsb3NlfSxkPWEub3B0aW9ucy5jdXN0b21LZXlzLGY9ZD97fTplO2lmKGQpZm9yKHZhciBnIGluIGQpZC5oYXNPd25Qcm9wZXJ0eShnKSYmYyhnLGRbZ10pO2lmKGQ9YS5vcHRpb25zLmV4dHJhS2V5cylmb3IoZyBpbiBkKWQuaGFzT3duUHJvcGVydHkoZykmJlxyXG5jKGcsZFtnXSk7cmV0dXJuIGZ9ZnVuY3Rpb24gdihhLGIpe2Zvcig7YiYmYiE9YTspe2lmKFwiTElcIj09PWIubm9kZU5hbWUudG9VcHBlckNhc2UoKSYmYi5wYXJlbnROb2RlPT1hKXJldHVybiBiO2I9Yi5wYXJlbnROb2RlfX1mdW5jdGlvbiBuKGEsYil7dGhpcy5jb21wbGV0aW9uPWE7dGhpcy5kYXRhPWI7dGhpcy5waWNrZWQ9ITE7dmFyIGM9dGhpcyxlPWEuY20sZD10aGlzLmhpbnRzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ1bFwiKTtkLmNsYXNzTmFtZT1cIkNvZGVNaXJyb3ItaGludHNcIjt0aGlzLnNlbGVjdGVkSGludD1iLnNlbGVjdGVkSGludHx8MDtmb3IodmFyIG09Yi5saXN0LGc9MDtnPG0ubGVuZ3RoOysrZyl7dmFyIGw9ZC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIikpLGg9bVtnXSxrPVwiQ29kZU1pcnJvci1oaW50XCIrKGchPXRoaXMuc2VsZWN0ZWRIaW50P1wiXCI6XCIgQ29kZU1pcnJvci1oaW50LWFjdGl2ZVwiKTtudWxsIT1oLmNsYXNzTmFtZSYmKGs9XHJcbmguY2xhc3NOYW1lK1wiIFwiK2spO2wuY2xhc3NOYW1lPWs7aC5yZW5kZXI/aC5yZW5kZXIobCxiLGgpOmwuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoaC5kaXNwbGF5VGV4dHx8KFwic3RyaW5nXCI9PXR5cGVvZiBoP2g6aC50ZXh0KSkpO2wuaGludElkPWd9dmFyIGc9ZS5jdXJzb3JDb29yZHMoYS5vcHRpb25zLmFsaWduV2l0aFdvcmQ/Yi5mcm9tOm51bGwpLHI9Zy5sZWZ0LHQ9Zy5ib3R0b20sbj0hMDtkLnN0eWxlLmxlZnQ9citcInB4XCI7ZC5zdHlsZS50b3A9dCtcInB4XCI7bD13aW5kb3cuaW5uZXJXaWR0aHx8TWF0aC5tYXgoZG9jdW1lbnQuYm9keS5vZmZzZXRXaWR0aCxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQub2Zmc2V0V2lkdGgpO2s9d2luZG93LmlubmVySGVpZ2h0fHxNYXRoLm1heChkb2N1bWVudC5ib2R5Lm9mZnNldEhlaWdodCxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQub2Zmc2V0SGVpZ2h0KTsoYS5vcHRpb25zLmNvbnRhaW5lcnx8ZG9jdW1lbnQuYm9keSkuYXBwZW5kQ2hpbGQoZCk7XHJcbmg9ZC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtpZigwPGguYm90dG9tLWspe3ZhciB1PWguYm90dG9tLWgudG9wOzA8Zy50b3AtKGcuYm90dG9tLWgudG9wKS11PyhkLnN0eWxlLnRvcD0odD1nLnRvcC11KStcInB4XCIsbj0hMSk6dT5rJiYoZC5zdHlsZS5oZWlnaHQ9ay01K1wicHhcIixkLnN0eWxlLnRvcD0odD1nLmJvdHRvbS1oLnRvcCkrXCJweFwiLGs9ZS5nZXRDdXJzb3IoKSxiLmZyb20uY2ghPWsuY2gmJihnPWUuY3Vyc29yQ29vcmRzKGspLGQuc3R5bGUubGVmdD0ocj1nLmxlZnQpK1wicHhcIixoPWQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpKX1rPWgucmlnaHQtbDswPGsmJihoLnJpZ2h0LWgubGVmdD5sJiYoZC5zdHlsZS53aWR0aD1sLTUrXCJweFwiLGstPWgucmlnaHQtaC5sZWZ0LWwpLGQuc3R5bGUubGVmdD0ocj1nLmxlZnQtaykrXCJweFwiKTtlLmFkZEtleU1hcCh0aGlzLmtleU1hcD13KGEse21vdmVGb2N1czpmdW5jdGlvbihhLGIpe2MuY2hhbmdlQWN0aXZlKGMuc2VsZWN0ZWRIaW50K1xyXG5hLGIpfSxzZXRGb2N1czpmdW5jdGlvbihhKXtjLmNoYW5nZUFjdGl2ZShhKX0sbWVudVNpemU6ZnVuY3Rpb24oKXtyZXR1cm4gYy5zY3JlZW5BbW91bnQoKX0sbGVuZ3RoOm0ubGVuZ3RoLGNsb3NlOmZ1bmN0aW9uKCl7YS5jbG9zZSgpfSxwaWNrOmZ1bmN0aW9uKCl7Yy5waWNrKCl9LGRhdGE6Yn0pKTtpZihhLm9wdGlvbnMuY2xvc2VPblVuZm9jdXMpe3ZhciBwO2Uub24oXCJibHVyXCIsdGhpcy5vbkJsdXI9ZnVuY3Rpb24oKXtwPXNldFRpbWVvdXQoZnVuY3Rpb24oKXthLmNsb3NlKCl9LDEwMCl9KTtlLm9uKFwiZm9jdXNcIix0aGlzLm9uRm9jdXM9ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQocCl9KX12YXIgcT1lLmdldFNjcm9sbEluZm8oKTtlLm9uKFwic2Nyb2xsXCIsdGhpcy5vblNjcm9sbD1mdW5jdGlvbigpe3ZhciBjPWUuZ2V0U2Nyb2xsSW5mbygpLGI9ZS5nZXRXcmFwcGVyRWxlbWVudCgpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGY9dCtxLnRvcC1jLnRvcCxnPWYtKHdpbmRvdy5wYWdlWU9mZnNldHx8XHJcbihkb2N1bWVudC5kb2N1bWVudEVsZW1lbnR8fGRvY3VtZW50LmJvZHkpLnNjcm9sbFRvcCk7bnx8KGcrPWQub2Zmc2V0SGVpZ2h0KTtpZihnPD1iLnRvcHx8Zz49Yi5ib3R0b20pcmV0dXJuIGEuY2xvc2UoKTtkLnN0eWxlLnRvcD1mK1wicHhcIjtkLnN0eWxlLmxlZnQ9citxLmxlZnQtYy5sZWZ0K1wicHhcIn0pO2Yub24oZCxcImRibGNsaWNrXCIsZnVuY3Rpb24oYSl7KGE9dihkLGEudGFyZ2V0fHxhLnNyY0VsZW1lbnQpKSYmbnVsbCE9YS5oaW50SWQmJihjLmNoYW5nZUFjdGl2ZShhLmhpbnRJZCksYy5waWNrKCkpfSk7Zi5vbihkLFwiY2xpY2tcIixmdW5jdGlvbihiKXsoYj12KGQsYi50YXJnZXR8fGIuc3JjRWxlbWVudCkpJiZudWxsIT1iLmhpbnRJZCYmKGMuY2hhbmdlQWN0aXZlKGIuaGludElkKSxhLm9wdGlvbnMuY29tcGxldGVPblNpbmdsZUNsaWNrJiZjLnBpY2soKSl9KTtmLm9uKGQsXCJtb3VzZWRvd25cIixmdW5jdGlvbigpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXtlLmZvY3VzKCl9LDIwKX0pO1xyXG5mLnNpZ25hbChiLFwic2VsZWN0XCIsbVswXSxkLmZpcnN0Q2hpbGQpO3JldHVybiEwfWYuc2hvd0hpbnQ9ZnVuY3Rpb24oYSxiLGMpe2lmKCFiKXJldHVybiBhLnNob3dIaW50KGMpO2MmJmMuYXN5bmMmJihiLmFzeW5jPSEwKTtiPXtoaW50OmJ9O2lmKGMpZm9yKHZhciBlIGluIGMpYltlXT1jW2VdO3JldHVybiBhLnNob3dIaW50KGIpfTtmLmRlZmluZUV4dGVuc2lvbihcInNob3dIaW50XCIsZnVuY3Rpb24oYSl7MTx0aGlzLmxpc3RTZWxlY3Rpb25zKCkubGVuZ3RofHx0aGlzLnNvbWV0aGluZ1NlbGVjdGVkKCl8fCh0aGlzLnN0YXRlLmNvbXBsZXRpb25BY3RpdmUmJnRoaXMuc3RhdGUuY29tcGxldGlvbkFjdGl2ZS5jbG9zZSgpLGE9dGhpcy5zdGF0ZS5jb21wbGV0aW9uQWN0aXZlPW5ldyBwKHRoaXMsYSksYS5vcHRpb25zLmhpbnQmJihmLnNpZ25hbCh0aGlzLFwic3RhcnRDb21wbGV0aW9uXCIsdGhpcyksYS51cGRhdGUoKSkpfSk7dmFyIHg9d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZXx8XHJcbmZ1bmN0aW9uKGEpe3JldHVybiBzZXRUaW1lb3V0KGEsMUUzLzYwKX0seT13aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWV8fGNsZWFyVGltZW91dDtwLnByb3RvdHlwZT17Y2xvc2U6ZnVuY3Rpb24oKXt0aGlzLmFjdGl2ZSgpJiYodGhpcy50aWNrPXRoaXMuY20uc3RhdGUuY29tcGxldGlvbkFjdGl2ZT1udWxsLHRoaXMuY20ub2ZmKFwiY3Vyc29yQWN0aXZpdHlcIix0aGlzLmFjdGl2aXR5RnVuYyksdGhpcy53aWRnZXQmJnRoaXMud2lkZ2V0LmNsb3NlKCksZi5zaWduYWwodGhpcy5jbSxcImVuZENvbXBsZXRpb25cIix0aGlzLmNtKSl9LGFjdGl2ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNtLnN0YXRlLmNvbXBsZXRpb25BY3RpdmU9PXRoaXN9LHBpY2s6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmxpc3RbYl07Yy5oaW50P2MuaGludCh0aGlzLmNtLGEsYyk6dGhpcy5jbS5yZXBsYWNlUmFuZ2UoXCJzdHJpbmdcIj09dHlwZW9mIGM/YzpjLnRleHQsYy5mcm9tfHxhLmZyb20sYy50b3x8YS50byxcclxuXCJjb21wbGV0ZVwiKTtmLnNpZ25hbChhLFwicGlja1wiLGMpO3RoaXMuY2xvc2UoKX0sc2hvd0hpbnRzOmZ1bmN0aW9uKGEpe2lmKCFhfHwhYS5saXN0Lmxlbmd0aHx8IXRoaXMuYWN0aXZlKCkpcmV0dXJuIHRoaXMuY2xvc2UoKTt0aGlzLm9wdGlvbnMuY29tcGxldGVTaW5nbGUmJjE9PWEubGlzdC5sZW5ndGg/dGhpcy5waWNrKGEsMCk6dGhpcy5zaG93V2lkZ2V0KGEpfSxjdXJzb3JBY3Rpdml0eTpmdW5jdGlvbigpe3RoaXMuZGVib3VuY2UmJih5KHRoaXMuZGVib3VuY2UpLHRoaXMuZGVib3VuY2U9MCk7dmFyIGE9dGhpcy5jbS5nZXRDdXJzb3IoKSxiPXRoaXMuY20uZ2V0TGluZShhLmxpbmUpO2lmKGEubGluZSE9dGhpcy5zdGFydFBvcy5saW5lfHxiLmxlbmd0aC1hLmNoIT10aGlzLnN0YXJ0TGVuLXRoaXMuc3RhcnRQb3MuY2h8fGEuY2g8dGhpcy5zdGFydFBvcy5jaHx8dGhpcy5jbS5zb21ldGhpbmdTZWxlY3RlZCgpfHxhLmNoJiZ0aGlzLm9wdGlvbnMuY2xvc2VDaGFyYWN0ZXJzLnRlc3QoYi5jaGFyQXQoYS5jaC1cclxuMSkpKXRoaXMuY2xvc2UoKTtlbHNle3ZhciBjPXRoaXM7dGhpcy5kZWJvdW5jZT14KGZ1bmN0aW9uKCl7Yy51cGRhdGUoKX0pO3RoaXMud2lkZ2V0JiZ0aGlzLndpZGdldC5kaXNhYmxlKCl9fSx1cGRhdGU6ZnVuY3Rpb24oKXtpZihudWxsIT10aGlzLnRpY2spaWYodGhpcy5kYXRhJiZmLnNpZ25hbCh0aGlzLmRhdGEsXCJ1cGRhdGVcIiksdGhpcy5vcHRpb25zLmhpbnQuYXN5bmMpe3ZhciBhPSsrdGhpcy50aWNrLGI9dGhpczt0aGlzLm9wdGlvbnMuaGludCh0aGlzLmNtLGZ1bmN0aW9uKGMpe2IudGljaz09YSYmYi5maW5pc2hVcGRhdGUoYyl9LHRoaXMub3B0aW9ucyl9ZWxzZSB0aGlzLmZpbmlzaFVwZGF0ZSh0aGlzLm9wdGlvbnMuaGludCh0aGlzLmNtLHRoaXMub3B0aW9ucyksYSl9LGZpbmlzaFVwZGF0ZTpmdW5jdGlvbihhKXt0aGlzLmRhdGE9YTt2YXIgYj10aGlzLndpZGdldCYmdGhpcy53aWRnZXQucGlja2VkO3RoaXMud2lkZ2V0JiZ0aGlzLndpZGdldC5jbG9zZSgpO2EmJmEubGlzdC5sZW5ndGgmJlxyXG4oYiYmMT09YS5saXN0Lmxlbmd0aD90aGlzLnBpY2soYSwwKTp0aGlzLndpZGdldD1uZXcgbih0aGlzLGEpKX0sc2hvd1dpZGdldDpmdW5jdGlvbihhKXt0aGlzLmRhdGE9YTt0aGlzLndpZGdldD1uZXcgbih0aGlzLGEpO2Yuc2lnbmFsKGEsXCJzaG93blwiKX0sYnVpbGRPcHRpb25zOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY20ub3B0aW9ucy5oaW50T3B0aW9ucyxjPXt9LGU7Zm9yKGUgaW4gcSljW2VdPXFbZV07aWYoYilmb3IoZSBpbiBiKXZvaWQgMCE9PWJbZV0mJihjW2VdPWJbZV0pO2lmKGEpZm9yKGUgaW4gYSl2b2lkIDAhPT1hW2VdJiYoY1tlXT1hW2VdKTtyZXR1cm4gY319O24ucHJvdG90eXBlPXtjbG9zZTpmdW5jdGlvbigpe2lmKHRoaXMuY29tcGxldGlvbi53aWRnZXQ9PXRoaXMpe3RoaXMuY29tcGxldGlvbi53aWRnZXQ9bnVsbDt0aGlzLmhpbnRzLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5oaW50cyk7dGhpcy5jb21wbGV0aW9uLmNtLnJlbW92ZUtleU1hcCh0aGlzLmtleU1hcCk7XHJcbnZhciBhPXRoaXMuY29tcGxldGlvbi5jbTt0aGlzLmNvbXBsZXRpb24ub3B0aW9ucy5jbG9zZU9uVW5mb2N1cyYmKGEub2ZmKFwiYmx1clwiLHRoaXMub25CbHVyKSxhLm9mZihcImZvY3VzXCIsdGhpcy5vbkZvY3VzKSk7YS5vZmYoXCJzY3JvbGxcIix0aGlzLm9uU2Nyb2xsKX19LGRpc2FibGU6ZnVuY3Rpb24oKXt0aGlzLmNvbXBsZXRpb24uY20ucmVtb3ZlS2V5TWFwKHRoaXMua2V5TWFwKTt2YXIgYT10aGlzO3RoaXMua2V5TWFwPXtFbnRlcjpmdW5jdGlvbigpe2EucGlja2VkPSEwfX07dGhpcy5jb21wbGV0aW9uLmNtLmFkZEtleU1hcCh0aGlzLmtleU1hcCl9LHBpY2s6ZnVuY3Rpb24oKXt0aGlzLmNvbXBsZXRpb24ucGljayh0aGlzLmRhdGEsdGhpcy5zZWxlY3RlZEhpbnQpfSxjaGFuZ2VBY3RpdmU6ZnVuY3Rpb24oYSxiKXthPj10aGlzLmRhdGEubGlzdC5sZW5ndGg/YT1iP3RoaXMuZGF0YS5saXN0Lmxlbmd0aC0xOjA6MD5hJiYoYT1iPzA6dGhpcy5kYXRhLmxpc3QubGVuZ3RoLTEpO1xyXG5pZih0aGlzLnNlbGVjdGVkSGludCE9YSl7dmFyIGM9dGhpcy5oaW50cy5jaGlsZE5vZGVzW3RoaXMuc2VsZWN0ZWRIaW50XTtjLmNsYXNzTmFtZT1jLmNsYXNzTmFtZS5yZXBsYWNlKFwiIENvZGVNaXJyb3ItaGludC1hY3RpdmVcIixcIlwiKTtjPXRoaXMuaGludHMuY2hpbGROb2Rlc1t0aGlzLnNlbGVjdGVkSGludD1hXTtjLmNsYXNzTmFtZSs9XCIgQ29kZU1pcnJvci1oaW50LWFjdGl2ZVwiO2Mub2Zmc2V0VG9wPHRoaXMuaGludHMuc2Nyb2xsVG9wP3RoaXMuaGludHMuc2Nyb2xsVG9wPWMub2Zmc2V0VG9wLTM6Yy5vZmZzZXRUb3ArYy5vZmZzZXRIZWlnaHQ+dGhpcy5oaW50cy5zY3JvbGxUb3ArdGhpcy5oaW50cy5jbGllbnRIZWlnaHQmJih0aGlzLmhpbnRzLnNjcm9sbFRvcD1jLm9mZnNldFRvcCtjLm9mZnNldEhlaWdodC10aGlzLmhpbnRzLmNsaWVudEhlaWdodCszKTtmLnNpZ25hbCh0aGlzLmRhdGEsXCJzZWxlY3RcIix0aGlzLmRhdGEubGlzdFt0aGlzLnNlbGVjdGVkSGludF0sYyl9fSxcclxuc2NyZWVuQW1vdW50OmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguZmxvb3IodGhpcy5oaW50cy5jbGllbnRIZWlnaHQvdGhpcy5oaW50cy5maXJzdENoaWxkLm9mZnNldEhlaWdodCl8fDF9fTtmLnJlZ2lzdGVySGVscGVyKFwiaGludFwiLFwiYXV0b1wiLGZ1bmN0aW9uKGEsYil7dmFyIGM9YS5nZXRIZWxwZXJzKGEuZ2V0Q3Vyc29yKCksXCJoaW50XCIpO2lmKGMubGVuZ3RoKWZvcih2YXIgZT0wO2U8Yy5sZW5ndGg7ZSsrKXt2YXIgZD1jW2VdKGEsYik7aWYoZCYmZC5saXN0Lmxlbmd0aClyZXR1cm4gZH1lbHNlIGlmKGM9YS5nZXRIZWxwZXIoYS5nZXRDdXJzb3IoKSxcImhpbnRXb3Jkc1wiKSl7aWYoYylyZXR1cm4gZi5oaW50LmZyb21MaXN0KGEse3dvcmRzOmN9KX1lbHNlIGlmKGYuaGludC5hbnl3b3JkKXJldHVybiBmLmhpbnQuYW55d29yZChhLGIpfSk7Zi5yZWdpc3RlckhlbHBlcihcImhpbnRcIixcImZyb21MaXN0XCIsZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9YS5nZXRDdXJzb3IoKSxlPWEuZ2V0VG9rZW5BdChjKSxcclxuZD1bXSxtPTA7bTxiLndvcmRzLmxlbmd0aDttKyspe3ZhciBnPWIud29yZHNbbV07Zy5zbGljZSgwLGUuc3RyaW5nLmxlbmd0aCk9PWUuc3RyaW5nJiZkLnB1c2goZyl9aWYoZC5sZW5ndGgpcmV0dXJue2xpc3Q6ZCxmcm9tOmYuUG9zKGMubGluZSxlLnN0YXJ0KSx0bzpmLlBvcyhjLmxpbmUsZS5lbmQpfX0pO2YuY29tbWFuZHMuYXV0b2NvbXBsZXRlPWYuc2hvd0hpbnQ7dmFyIHE9e2hpbnQ6Zi5oaW50LmF1dG8sY29tcGxldGVTaW5nbGU6ITAsYWxpZ25XaXRoV29yZDohMCxjbG9zZUNoYXJhY3RlcnM6L1tcXHMoKVxcW1xcXXt9Ozo+LF0vLGNsb3NlT25VbmZvY3VzOiEwLGNvbXBsZXRlT25TaW5nbGVDbGljazohMSxjb250YWluZXI6bnVsbCxjdXN0b21LZXlzOm51bGwsZXh0cmFLZXlzOm51bGx9O2YuZGVmaW5lT3B0aW9uKFwiaGludE9wdGlvbnNcIixudWxsKX0pOyJdfQ==
