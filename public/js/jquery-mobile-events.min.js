"use strict";!function(_){_.attrFn=_.attrFn||{};var e="ontouchstart"in window,T={tap_pixel_range:5,swipe_h_threshold:50,swipe_v_threshold:50,taphold_threshold:750,doubletap_int:500,shake_threshold:15,touch_capable:e,orientation_support:"orientation"in window&&"onorientationchange"in window,startevent:e?"touchstart":"mousedown",endevent:e?"touchend":"mouseup",moveevent:e?"touchmove":"mousemove",tapevent:e?"tap":"click",scrollevent:e?"touchmove":"scroll",hold_timer:null,tap_timer:null};_.touch={},_.isTouchCapable=function(){return T.touch_capable},_.getStartEvent=function(){return T.startevent},_.getEndEvent=function(){return T.endevent},_.getMoveEvent=function(){return T.moveevent},_.getTapEvent=function(){return T.tapevent},_.getScrollEvent=function(){return T.scrollevent},_.touch.setSwipeThresholdX=function(e){if("number"!=typeof e)throw new Error("Threshold parameter must be a type of number");T.swipe_h_threshold=e},_.touch.setSwipeThresholdY=function(e){if("number"!=typeof e)throw new Error("Threshold parameter must be a type of number");T.swipe_v_threshold=e},_.touch.setDoubleTapInt=function(e){if("number"!=typeof e)throw new Error("Interval parameter must be a type of number");T.doubletap_int=e},_.touch.setTapHoldThreshold=function(e){if("number"!=typeof e)throw new Error("Threshold parameter must be a type of number");T.taphold_threshold=e},_.touch.setTapRange=function(e){if("number"!=typeof e)throw new Error("Ranger parameter must be a type of number");T.tap_pixel_range=threshold},_.each(["tapstart","tapend","tapmove","tap","singletap","doubletap","taphold","swipe","swipeup","swiperight","swipedown","swipeleft","swipeend","scrollstart","scrollend","orientationchange","tap2","taphold2"],function(e,t){_.fn[t]=function(e){return e?this.on(t,e):this.trigger(t)},_.attrFn[t]=!0}),_.event.special.tapstart={setup:function(){var n=this,i=_(n);i.on(T.startevent,function e(t){if(i.data("callee",e),t.which&&1!==t.which)return!1;var a=t.originalEvent,o={position:{x:T.touch_capable?a.touches[0].pageX:t.pageX,y:T.touch_capable?a.touches[0].pageY:t.pageY},offset:{x:T.touch_capable?Math.round(a.changedTouches[0].pageX-(i.offset()?i.offset().left:0)):Math.round(t.pageX-(i.offset()?i.offset().left:0)),y:T.touch_capable?Math.round(a.changedTouches[0].pageY-(i.offset()?i.offset().top:0)):Math.round(t.pageY-(i.offset()?i.offset().top:0))},time:Date.now(),target:t.target};return m(n,"tapstart",t,o),!0})},remove:function(){_(this).off(T.startevent,_(this).data.callee)}},_.event.special.tapmove={setup:function(){var n=this,i=_(n);i.on(T.moveevent,function e(t){i.data("callee",e);var a=t.originalEvent,o={position:{x:T.touch_capable?a.touches[0].pageX:t.pageX,y:T.touch_capable?a.touches[0].pageY:t.pageY},offset:{x:T.touch_capable?Math.round(a.changedTouches[0].pageX-(i.offset()?i.offset().left:0)):Math.round(t.pageX-(i.offset()?i.offset().left:0)),y:T.touch_capable?Math.round(a.changedTouches[0].pageY-(i.offset()?i.offset().top:0)):Math.round(t.pageY-(i.offset()?i.offset().top:0))},time:Date.now(),target:t.target};return m(n,"tapmove",t,o),!0})},remove:function(){_(this).off(T.moveevent,_(this).data.callee)}},_.event.special.tapend={setup:function(){var n=this,i=_(n);i.on(T.endevent,function e(t){i.data("callee",e);var a=t.originalEvent,o={position:{x:T.touch_capable?a.changedTouches[0].pageX:t.pageX,y:T.touch_capable?a.changedTouches[0].pageY:t.pageY},offset:{x:T.touch_capable?Math.round(a.changedTouches[0].pageX-(i.offset()?i.offset().left:0)):Math.round(t.pageX-(i.offset()?i.offset().left:0)),y:T.touch_capable?Math.round(a.changedTouches[0].pageY-(i.offset()?i.offset().top:0)):Math.round(t.pageY-(i.offset()?i.offset().top:0))},time:Date.now(),target:t.target};return m(n,"tapend",t,o),!0})},remove:function(){_(this).off(T.endevent,_(this).data.callee)}},_.event.special.taphold={setup:function(){var l,f=this,g=_(f),d={x:0,y:0},v=0,w=0;g.on(T.startevent,function p(h){if(h.which&&1!==h.which)return!1;g.data("tapheld",!1),l=h.target;var c=h.originalEvent,u=Date.now();T.touch_capable?c.touches[0].pageX:h.pageX,T.touch_capable?c.touches[0].pageY:h.pageY,T.touch_capable?(c.touches[0].pageX,c.touches[0].target.offsetLeft):h.offsetX,T.touch_capable?(c.touches[0].pageY,c.touches[0].target.offsetTop):h.offsetY;d.x=h.originalEvent.targetTouches?h.originalEvent.targetTouches[0].pageX:h.pageX,d.y=h.originalEvent.targetTouches?h.originalEvent.targetTouches[0].pageY:h.pageY,v=d.x,w=d.y;var e=g.parent().data("threshold")?g.parent().data("threshold"):g.data("threshold"),t=void 0!==e&&!1!==e&&parseInt(e)?parseInt(e):T.taphold_threshold;return T.hold_timer=window.setTimeout(function(){var e=d.x-v,t=d.y-w;if(h.target==l&&(d.x==v&&d.y==w||e>=-T.tap_pixel_range&&e<=T.tap_pixel_range&&t>=-T.tap_pixel_range&&t<=T.tap_pixel_range)){g.data("tapheld",!0);for(var a=Date.now()-u,o=h.originalEvent.targetTouches?h.originalEvent.targetTouches:[h],n=[],i=0;i<o.length;i++){var r={position:{x:T.touch_capable?c.changedTouches[i].pageX:h.pageX,y:T.touch_capable?c.changedTouches[i].pageY:h.pageY},offset:{x:T.touch_capable?Math.round(c.changedTouches[i].pageX-(g.offset()?g.offset().left:0)):Math.round(h.pageX-(g.offset()?g.offset().left:0)),y:T.touch_capable?Math.round(c.changedTouches[i].pageY-(g.offset()?g.offset().top:0)):Math.round(h.pageY-(g.offset()?g.offset().top:0))},time:Date.now(),target:h.target,duration:a};n.push(r)}var s=2==o.length?"taphold2":"taphold";g.data("callee1",p),m(f,s,h,n)}},t),!0}).on(T.endevent,function e(){g.data("callee2",e),g.data("tapheld",!1),window.clearTimeout(T.hold_timer)}).on(T.moveevent,function e(t){g.data("callee3",e),v=t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageX:t.pageX,w=t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageY:t.pageY})},remove:function(){_(this).off(T.startevent,_(this).data.callee1).off(T.endevent,_(this).data.callee2).off(T.moveevent,_(this).data.callee3)}},_.event.special.doubletap={setup:function(){var r,s,p=this,h=_(p),c=null,u=!1;h.on(T.startevent,function e(t){return(!t.which||1===t.which)&&(h.data("doubletapped",!1),t.target,h.data("callee1",e),s=t.originalEvent,c||(c={position:{x:T.touch_capable?s.touches[0].pageX:t.pageX,y:T.touch_capable?s.touches[0].pageY:t.pageY},offset:{x:T.touch_capable?Math.round(s.changedTouches[0].pageX-(h.offset()?h.offset().left:0)):Math.round(t.pageX-(h.offset()?h.offset().left:0)),y:T.touch_capable?Math.round(s.changedTouches[0].pageY-(h.offset()?h.offset().top:0)):Math.round(t.pageY-(h.offset()?h.offset().top:0))},time:Date.now(),target:t.target,element:t.originalEvent.srcElement,index:_(t.target).index()}),!0)}).on(T.endevent,function e(t){var a=Date.now(),o=a-(h.data("lastTouch")||a+1);if(window.clearTimeout(r),h.data("callee2",e),o<T.doubletap_int&&_(t.target).index()==c.index&&100<o){h.data("doubletapped",!0),window.clearTimeout(T.tap_timer);var n={position:{x:T.touch_capable?t.originalEvent.changedTouches[0].pageX:t.pageX,y:T.touch_capable?t.originalEvent.changedTouches[0].pageY:t.pageY},offset:{x:T.touch_capable?Math.round(s.changedTouches[0].pageX-(h.offset()?h.offset().left:0)):Math.round(t.pageX-(h.offset()?h.offset().left:0)),y:T.touch_capable?Math.round(s.changedTouches[0].pageY-(h.offset()?h.offset().top:0)):Math.round(t.pageY-(h.offset()?h.offset().top:0))},time:Date.now(),target:t.target,element:t.originalEvent.srcElement,index:_(t.target).index()},i={firstTap:c,secondTap:n,interval:n.time-c.time};u||(m(p,"doubletap",t,i),c=null),u=!0,window.setTimeout(function(){u=!1},T.doubletap_int)}else h.data("lastTouch",a),r=window.setTimeout(function(){c=null,window.clearTimeout(r)},T.doubletap_int,[t]);h.data("lastTouch",a)})},remove:function(){_(this).off(T.startevent,_(this).data.callee1).off(T.endevent,_(this).data.callee2)}},_.event.special.singletap={setup:function(){var s=this,p=_(s),a=null,h=null,c={x:0,y:0};p.on(T.startevent,function e(t){return(!t.which||1===t.which)&&(h=Date.now(),a=t.target,p.data("callee1",e),c.x=t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageX:t.pageX,c.y=t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageY:t.pageY,!0)}).on(T.endevent,function e(n){if(p.data("callee2",e),n.target==a){var i=n.originalEvent.changedTouches?n.originalEvent.changedTouches[0].pageX:n.pageX,r=n.originalEvent.changedTouches?n.originalEvent.changedTouches[0].pageY:n.pageY;T.tap_timer=window.setTimeout(function(){var e=c.x-i,t=c.y-r;if(!p.data("doubletapped")&&!p.data("tapheld")&&(c.x==i&&c.y==r||e>=-T.tap_pixel_range&&e<=T.tap_pixel_range&&t>=-T.tap_pixel_range&&t<=T.tap_pixel_range)){var a=n.originalEvent,o={position:{x:T.touch_capable?a.changedTouches[0].pageX:n.pageX,y:T.touch_capable?a.changedTouches[0].pageY:n.pageY},offset:{x:T.touch_capable?Math.round(a.changedTouches[0].pageX-(p.offset()?p.offset().left:0)):Math.round(n.pageX-(p.offset()?p.offset().left:0)),y:T.touch_capable?Math.round(a.changedTouches[0].pageY-(p.offset()?p.offset().top:0)):Math.round(n.pageY-(p.offset()?p.offset().top:0))},time:Date.now(),target:n.target};o.time-h<T.taphold_threshold&&m(s,"singletap",n,o)}},T.doubletap_int)}})},remove:function(){_(this).off(T.startevent,_(this).data.callee1).off(T.endevent,_(this).data.callee2)}},_.event.special.tap={setup:function(){var u,l,f=this,g=_(f),d=!1,v=null,w={x:0,y:0};g.on(T.startevent,function e(t){return g.data("callee1",e),(!t.which||1===t.which)&&(d=!0,w.x=t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageX:t.pageX,w.y=t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageY:t.pageY,u=Date.now(),v=t.target,l=t.originalEvent.targetTouches?t.originalEvent.targetTouches:[t],!0)}).on(T.endevent,function e(t){g.data("callee2",e);var a=t.originalEvent.targetTouches?t.originalEvent.changedTouches[0].pageX:t.pageX,o=t.originalEvent.targetTouches?t.originalEvent.changedTouches[0].pageY:t.pageY,n=w.x-a,i=w.y-o;if(v==t.target&&d&&Date.now()-u<T.taphold_threshold&&(w.x==a&&w.y==o||n>=-T.tap_pixel_range&&n<=T.tap_pixel_range&&i>=-T.tap_pixel_range&&i<=T.tap_pixel_range)){for(var r=t.originalEvent,s=[],p=0;p<l.length;p++){var h={position:{x:T.touch_capable?r.changedTouches[p].pageX:t.pageX,y:T.touch_capable?r.changedTouches[p].pageY:t.pageY},offset:{x:T.touch_capable?Math.round(r.changedTouches[p].pageX-(g.offset()?g.offset().left:0)):Math.round(t.pageX-(g.offset()?g.offset().left:0)),y:T.touch_capable?Math.round(r.changedTouches[p].pageY-(g.offset()?g.offset().top:0)):Math.round(t.pageY-(g.offset()?g.offset().top:0))},time:Date.now(),target:t.target};s.push(h)}var c=2==l.length?"tap2":"tap";m(f,c,t,s)}})},remove:function(){_(this).off(T.startevent,_(this).data.callee1).off(T.endevent,_(this).data.callee2)}},_.event.special.swipe={setup:function(){var l,f=_(this),g=!1,d=!1,v={x:0,y:0},w={x:0,y:0};f.on(T.startevent,function e(t){(f=_(t.currentTarget)).data("callee1",e),v.x=t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageX:t.pageX,v.y=t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageY:t.pageY,w.x=v.x,w.y=v.y,g=!0;var a=t.originalEvent;l={position:{x:T.touch_capable?a.touches[0].pageX:t.pageX,y:T.touch_capable?a.touches[0].pageY:t.pageY},offset:{x:T.touch_capable?Math.round(a.changedTouches[0].pageX-(f.offset()?f.offset().left:0)):Math.round(t.pageX-(f.offset()?f.offset().left:0)),y:T.touch_capable?Math.round(a.changedTouches[0].pageY-(f.offset()?f.offset().top:0)):Math.round(t.pageY-(f.offset()?f.offset().top:0))},time:Date.now(),target:t.target}}),f.on(T.moveevent,function e(t){var a;(f=_(t.currentTarget)).data("callee2",e),w.x=t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageX:t.pageX,w.y=t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageY:t.pageY;var o=f.parent().data("xthreshold")?f.parent().data("xthreshold"):f.data("xthreshold"),n=f.parent().data("ythreshold")?f.parent().data("ythreshold"):f.data("ythreshold"),i=void 0!==o&&!1!==o&&parseInt(o)?parseInt(o):T.swipe_h_threshold,r=void 0!==n&&!1!==n&&parseInt(n)?parseInt(n):T.swipe_v_threshold;if(v.y>w.y&&v.y-w.y>r&&(a="swipeup"),v.x<w.x&&w.x-v.x>i&&(a="swiperight"),v.y<w.y&&w.y-v.y>r&&(a="swipedown"),v.x>w.x&&v.x-w.x>i&&(a="swipeleft"),null!=a&&g){v.x=0,v.y=0,w.x=0,w.y=0,g=!1;var s=t.originalEvent,p={position:{x:T.touch_capable?s.touches[0].pageX:t.pageX,y:T.touch_capable?s.touches[0].pageY:t.pageY},offset:{x:T.touch_capable?Math.round(s.changedTouches[0].pageX-(f.offset()?f.offset().left:0)):Math.round(t.pageX-(f.offset()?f.offset().left:0)),y:T.touch_capable?Math.round(s.changedTouches[0].pageY-(f.offset()?f.offset().top:0)):Math.round(t.pageY-(f.offset()?f.offset().top:0))},time:Date.now(),target:t.target},h=Math.abs(l.position.x-p.position.x),c=Math.abs(l.position.y-p.position.y),u={startEvnt:l,endEvnt:p,direction:a.replace("swipe",""),xAmount:h,yAmount:c,duration:p.time-l.time};d=!0,f.trigger("swipe",u).trigger(a,u)}}),f.on(T.endevent,function e(t){var a="";if((f=_(t.currentTarget)).data("callee3",e),d){var o=f.data("xthreshold"),n=f.data("ythreshold"),i=void 0!==o&&!1!==o&&parseInt(o)?parseInt(o):T.swipe_h_threshold,r=void 0!==n&&!1!==n&&parseInt(n)?parseInt(n):T.swipe_v_threshold,s=t.originalEvent,p={position:{x:T.touch_capable?s.changedTouches[0].pageX:t.pageX,y:T.touch_capable?s.changedTouches[0].pageY:t.pageY},offset:{x:T.touch_capable?Math.round(s.changedTouches[0].pageX-(f.offset()?f.offset().left:0)):Math.round(t.pageX-(f.offset()?f.offset().left:0)),y:T.touch_capable?Math.round(s.changedTouches[0].pageY-(f.offset()?f.offset().top:0)):Math.round(t.pageY-(f.offset()?f.offset().top:0))},time:Date.now(),target:t.target};l.position.y>p.position.y&&l.position.y-p.position.y>r&&(a="swipeup"),l.position.x<p.position.x&&p.position.x-l.position.x>i&&(a="swiperight"),l.position.y<p.position.y&&p.position.y-l.position.y>r&&(a="swipedown"),l.position.x>p.position.x&&l.position.x-p.position.x>i&&(a="swipeleft");var h=Math.abs(l.position.x-p.position.x),c=Math.abs(l.position.y-p.position.y),u={startEvnt:l,endEvnt:p,direction:a.replace("swipe",""),xAmount:h,yAmount:c,duration:p.time-l.time};f.trigger("swipeend",u)}d=g=!1})},remove:function(){_(this).off(T.startevent,_(this).data.callee1).off(T.moveevent,_(this).data.callee2).off(T.endevent,_(this).data.callee3)}},_.event.special.scrollstart={setup:function(){var a,o,n=this,i=_(n);function r(e,t){m(n,(a=t)?"scrollstart":"scrollend",e)}i.on(T.scrollevent,function e(t){i.data("callee",e),a||r(t,!0),clearTimeout(o),o=setTimeout(function(){r(t,!1)},50)})},remove:function(){_(this).off(T.scrollevent,_(this).data.callee)}};var a,t,o,n,i=_(window),r={0:!0,180:!0};if(T.orientation_support){var s=window.innerWidth||i.width(),p=window.innerHeight||i.height();o=p<s&&50<s-p,n=r[window.orientation],(o&&n||!o&&!n)&&(r={"-90":!0,90:!0})}function h(){var e=a();e!==t&&(t=e,i.trigger("orientationchange"))}_.event.special.orientationchange={setup:function(){return!T.orientation_support&&(t=a(),i.on("throttledresize",h),!0)},teardown:function(){return!T.orientation_support&&(i.off("throttledresize",h),!0)},add:function(e){var t=e.handler;e.handler=function(e){return e.orientation=a(),t.apply(this,arguments)}}},_.event.special.orientationchange.orientation=a=function(){var e=document.documentElement;return(T.orientation_support?r[window.orientation]:e&&e.clientWidth/e.clientHeight<1.1)?"portrait":"landscape"},_.event.special.throttledresize={setup:function(){_(this).on("resize",f)},teardown:function(){_(this).off("resize",f)}};var c,u,l,f=function(){u=Date.now(),250<=(l=u-g)?(g=u,_(this).trigger("throttledresize")):(c&&window.clearTimeout(c),c=window.setTimeout(h,250-l))},g=0;function m(e,t,a,o){var n=a.type;a.type=t,_.event.dispatch.call(e,a,o),a.type=n}_.each({scrollend:"scrollstart",swipeup:"swipe",swiperight:"swipe",swipedown:"swipe",swipeleft:"swipe",swipeend:"swipe",tap2:"tap",taphold2:"taphold"},function(e,t){_.event.special[e]={setup:function(){_(this).on(t,_.noop)}}})}(jQuery);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS1tb2JpbGUtZXZlbnRzLmpzIl0sIm5hbWVzIjpbIiQiLCJhdHRyRm4iLCJ0b3VjaENhcGFibGUiLCJ3aW5kb3ciLCJzZXR0aW5ncyIsInRhcF9waXhlbF9yYW5nZSIsInN3aXBlX2hfdGhyZXNob2xkIiwic3dpcGVfdl90aHJlc2hvbGQiLCJ0YXBob2xkX3RocmVzaG9sZCIsImRvdWJsZXRhcF9pbnQiLCJzaGFrZV90aHJlc2hvbGQiLCJ0b3VjaF9jYXBhYmxlIiwib3JpZW50YXRpb25fc3VwcG9ydCIsInN0YXJ0ZXZlbnQiLCJlbmRldmVudCIsIm1vdmVldmVudCIsInRhcGV2ZW50Iiwic2Nyb2xsZXZlbnQiLCJob2xkX3RpbWVyIiwidGFwX3RpbWVyIiwidG91Y2giLCJpc1RvdWNoQ2FwYWJsZSIsImdldFN0YXJ0RXZlbnQiLCJnZXRFbmRFdmVudCIsImdldE1vdmVFdmVudCIsImdldFRhcEV2ZW50IiwiZ2V0U2Nyb2xsRXZlbnQiLCJzZXRTd2lwZVRocmVzaG9sZFgiLCJ0aHJlc2hvbGQiLCJFcnJvciIsInNldFN3aXBlVGhyZXNob2xkWSIsInNldERvdWJsZVRhcEludCIsImludGVydmFsIiwic2V0VGFwSG9sZFRocmVzaG9sZCIsInNldFRhcFJhbmdlIiwicmFuZ2UiLCJlYWNoIiwiaSIsIm5hbWUiLCJmbiIsInRoaXMiLCJvbiIsInRyaWdnZXIiLCJldmVudCIsInNwZWNpYWwiLCJ0YXBzdGFydCIsInNldHVwIiwidGhpc09iamVjdCIsIiR0aGlzIiwidGFwU3RhcnRGdW5jIiwiZSIsImRhdGEiLCJ3aGljaCIsIm9yaWdFdmVudCIsIm9yaWdpbmFsRXZlbnQiLCJ0b3VjaERhdGEiLCJwb3NpdGlvbiIsIngiLCJ0b3VjaGVzIiwicGFnZVgiLCJ5IiwicGFnZVkiLCJvZmZzZXQiLCJNYXRoIiwicm91bmQiLCJjaGFuZ2VkVG91Y2hlcyIsImxlZnQiLCJ0b3AiLCJ0aW1lIiwiRGF0ZSIsIm5vdyIsInRhcmdldCIsInRyaWdnZXJDdXN0b21FdmVudCIsInJlbW92ZSIsIm9mZiIsImNhbGxlZSIsInRhcG1vdmUiLCJ0YXBNb3ZlRnVuYyIsInRhcGVuZCIsInRhcEVuZEZ1bmMiLCJ0YXBob2xkIiwib3JpZ1RhcmdldCIsInN0YXJ0X3BvcyIsImVuZF94IiwiZW5kX3kiLCJ0YXBIb2xkRnVuYzEiLCJzdGFydF90aW1lIiwib2Zmc2V0TGVmdCIsIm9mZnNldFgiLCJvZmZzZXRUb3AiLCJvZmZzZXRZIiwidGFyZ2V0VG91Y2hlcyIsImVsZV90aHJlc2hvbGQiLCJwYXJlbnQiLCJwYXJzZUludCIsInNldFRpbWVvdXQiLCJkaWZmX3giLCJkaWZmX3kiLCJkdXJhdGlvbiIsImxlbmd0aCIsInB1c2giLCJldnRfbmFtZSIsInRhcEhvbGRGdW5jMiIsImNsZWFyVGltZW91dCIsInRhcEhvbGRGdW5jMyIsImNhbGxlZTEiLCJjYWxsZWUyIiwiY2FsbGVlMyIsImRvdWJsZXRhcCIsImFjdGlvbiIsImZpcnN0VGFwIiwiY29vbGluZyIsImRvdWJsZVRhcEZ1bmMxIiwiZWxlbWVudCIsInNyY0VsZW1lbnQiLCJpbmRleCIsImRvdWJsZVRhcEZ1bmMyIiwiZGVsdGEiLCJsYXN0VGFwIiwic2Vjb25kVGFwIiwic2luZ2xldGFwIiwic3RhcnRUaW1lIiwic2luZ2xlVGFwRnVuYzEiLCJzaW5nbGVUYXBGdW5jMiIsImVuZF9wb3NfeCIsImVuZF9wb3NfeSIsInRhcCIsInN0YXJ0ZWQiLCJ0YXBGdW5jMSIsInRhcEZ1bmMyIiwic3dpcGUiLCJzdGFydEV2bnQiLCJoYXNTd2lwZWQiLCJvcmlnaW5hbENvb3JkIiwiZmluYWxDb29yZCIsInRvdWNoU3RhcnQiLCJjdXJyZW50VGFyZ2V0IiwidG91Y2hNb3ZlIiwic3dpcGVkaXIiLCJlbGVfeF90aHJlc2hvbGQiLCJlbGVfeV90aHJlc2hvbGQiLCJoX3RocmVzaG9sZCIsInZfdGhyZXNob2xkIiwidW5kZWZpbmVkIiwiZW5kRXZudCIsInhBbW91bnQiLCJhYnMiLCJ5QW1vdW50IiwiZGlyZWN0aW9uIiwicmVwbGFjZSIsInRvdWNoRW5kIiwic2Nyb2xsc3RhcnQiLCJzY3JvbGxpbmciLCJ0aW1lciIsInN0YXRlIiwic2Nyb2xsRnVuYyIsImdldF9vcmllbnRhdGlvbiIsImxhc3Rfb3JpZW50YXRpb24iLCJpbml0aWFsX29yaWVudGF0aW9uX2lzX2xhbmRzY2FwZSIsImluaXRpYWxfb3JpZW50YXRpb25faXNfZGVmYXVsdCIsIndpbiIsInBvcnRyYWl0X21hcCIsIjAiLCIxODAiLCJ3dyIsImlubmVyV2lkdGgiLCJ3aWR0aCIsIndoIiwiaW5uZXJIZWlnaHQiLCJoZWlnaHQiLCJvcmllbnRhdGlvbiIsIi05MCIsIjkwIiwiaGFuZGxlciIsIm9yaWVudGF0aW9uY2hhbmdlIiwidGVhcmRvd24iLCJhZGQiLCJoYW5kbGVPYmoiLCJvbGRfaGFuZGxlciIsImFwcGx5IiwiYXJndW1lbnRzIiwiZWxlbSIsImRvY3VtZW50IiwiZG9jdW1lbnRFbGVtZW50IiwiY2xpZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiLCJ0aHJvdHRsZWRyZXNpemUiLCJ0aHJvdHRsZV9oYW5kbGVyIiwiaGVsZENhbGwiLCJjdXJyIiwiZGlmZiIsImxhc3RDYWxsIiwib2JqIiwiZXZlbnRUeXBlIiwib3JpZ2luYWxUeXBlIiwidHlwZSIsImRpc3BhdGNoIiwiY2FsbCIsInNjcm9sbGVuZCIsInN3aXBldXAiLCJzd2lwZXJpZ2h0Iiwic3dpcGVkb3duIiwic3dpcGVsZWZ0Iiwic3dpcGVlbmQiLCJ0YXAyIiwidGFwaG9sZDIiLCJzcmNFIiwibm9vcCIsImpRdWVyeSJdLCJtYXBwaW5ncyI6IkFBMkJBLGNBRUMsU0FBVUEsR0FDUEEsRUFBRUMsT0FBU0QsRUFBRUMsUUFBVSxHQUV2QixJQUFJQyxFQUFpQixpQkFBa0JDLE9BRW5DQyxFQUFXLENBQ1BDLGdCQUFpQixFQUNqQkMsa0JBQW1CLEdBQ25CQyxrQkFBbUIsR0FDbkJDLGtCQUFtQixJQUNuQkMsY0FBZSxJQUN4QkMsZ0JBQWlCLEdBRVJDLGNBQWVULEVBQ2ZVLG9CQUFzQixnQkFBaUJULFFBQVUsd0JBQXlCQSxPQUUxRVUsV0FBYSxFQUFpQixhQUFlLFlBQzdDQyxTQUFhLEVBQWlCLFdBQWEsVUFDM0NDLFVBQWEsRUFBaUIsWUFBYyxZQUM1Q0MsU0FBYSxFQUFpQixNQUFRLFFBQ3RDQyxZQUFhLEVBQWlCLFlBQWMsU0FFNUNDLFdBQVksS0FDWkMsVUFBVyxNQUl0Qm5CLEVBQUVvQixNQUFRLEdBR1BwQixFQUFFcUIsZUFBaUIsV0FBYSxPQUFPakIsRUFBU08sZUFDaERYLEVBQUVzQixjQUFpQixXQUFhLE9BQU9sQixFQUFTUyxZQUNoRGIsRUFBRXVCLFlBQWlCLFdBQWEsT0FBT25CLEVBQVNVLFVBQ2hEZCxFQUFFd0IsYUFBaUIsV0FBYSxPQUFPcEIsRUFBU1csV0FDaERmLEVBQUV5QixZQUFpQixXQUFhLE9BQU9yQixFQUFTWSxVQUNoRGhCLEVBQUUwQixlQUFpQixXQUFhLE9BQU90QixFQUFTYSxhQUluRGpCLEVBQUVvQixNQUFNTyxtQkFBcUIsU0FBVUMsR0FDdEMsR0FBeUIsaUJBQWRBLEVBQTJCLE1BQU0sSUFBSUMsTUFBTSxnREFDdER6QixFQUFTRSxrQkFBb0JzQixHQUk5QjVCLEVBQUVvQixNQUFNVSxtQkFBcUIsU0FBVUYsR0FDdEMsR0FBeUIsaUJBQWRBLEVBQTJCLE1BQU0sSUFBSUMsTUFBTSxnREFDdER6QixFQUFTRyxrQkFBb0JxQixHQUk5QjVCLEVBQUVvQixNQUFNVyxnQkFBcUIsU0FBVUMsR0FDdEMsR0FBd0IsaUJBQWJBLEVBQTBCLE1BQU0sSUFBSUgsTUFBTSwrQ0FDckR6QixFQUFTSyxjQUFnQnVCLEdBSTFCaEMsRUFBRW9CLE1BQU1hLG9CQUFzQixTQUFVTCxHQUN2QyxHQUF5QixpQkFBZEEsRUFBMkIsTUFBTSxJQUFJQyxNQUFNLGdEQUN0RHpCLEVBQVNJLGtCQUFvQm9CLEdBSTlCNUIsRUFBRW9CLE1BQU1jLFlBQWMsU0FBVUMsR0FDL0IsR0FBcUIsaUJBQVZBLEVBQXVCLE1BQU0sSUFBSU4sTUFBTSw2Q0FDbER6QixFQUFTQyxnQkFBa0J1QixXQUl6QjVCLEVBQUVvQyxLQUFLLENBQUMsV0FBWSxTQUFVLFVBQVcsTUFBTyxZQUFhLFlBQWEsVUFBVyxRQUFTLFVBQVcsYUFBYyxZQUFhLFlBQWEsV0FBWSxjQUFlLFlBQWEsb0JBQXFCLE9BQVEsWUFBYSxTQUFVQyxFQUFHQyxHQUM1T3RDLEVBQUV1QyxHQUFHRCxHQUFRLFNBQVVDLEdBQ25CLE9BQU9BLEVBQUtDLEtBQUtDLEdBQUdILEVBQU1DLEdBQU1DLEtBQUtFLFFBQVFKLElBR2pEdEMsRUFBRUMsT0FBT3FDLElBQVEsSUFJckJ0QyxFQUFFMkMsTUFBTUMsUUFBUUMsU0FBVyxDQUN2QkMsTUFBTyxXQUVILElBQUlDLEVBQWFQLEtBQ2JRLEVBQVFoRCxFQUFFK0MsR0FFZEMsRUFBTVAsR0FBR3JDLEVBQVNTLFdBQVksU0FBU29DLEVBQWFDLEdBR2hELEdBREFGLEVBQU1HLEtBQUssU0FBVUYsR0FDakJDLEVBQUVFLE9BQXFCLElBQVpGLEVBQUVFLE1BQ2IsT0FBTyxFQUdYLElBQUlDLEVBQVlILEVBQUVJLGNBQ2RDLEVBQVksQ0FDUkMsU0FBWSxDQUNSQyxFQUFPckQsRUFBc0IsY0FBSWlELEVBQVVLLFFBQVEsR0FBR0MsTUFBUVQsRUFBRVMsTUFDaEVDLEVBQU14RCxFQUFzQixjQUFJaUQsRUFBVUssUUFBUSxHQUFHRyxNQUFRWCxFQUFFVyxPQUVuRUMsT0FBVSxDQUNOTCxFQUFNckQsRUFBc0IsY0FBSTJELEtBQUtDLE1BQU1YLEVBQVVZLGVBQWUsR0FBR04sT0FBU1gsRUFBTWMsU0FBV2QsRUFBTWMsU0FBU0ksS0FBTyxJQUFNSCxLQUFLQyxNQUFNZCxFQUFFUyxPQUFTWCxFQUFNYyxTQUFXZCxFQUFNYyxTQUFTSSxLQUFPLElBQzFMTixFQUFNeEQsRUFBc0IsY0FBSTJELEtBQUtDLE1BQU1YLEVBQVVZLGVBQWUsR0FBR0osT0FBU2IsRUFBTWMsU0FBV2QsRUFBTWMsU0FBU0ssSUFBTSxJQUFNSixLQUFLQyxNQUFNZCxFQUFFVyxPQUFTYixFQUFNYyxTQUFXZCxFQUFNYyxTQUFTSyxJQUFNLEtBRTVMQyxLQUFRQyxLQUFLQyxNQUNiQyxPQUFVckIsRUFBRXFCLFFBSXBCLE9BREFDLEVBQW1CekIsRUFBWSxXQUFZRyxFQUFHSyxJQUN2QyxLQUlma0IsT0FBUSxXQUNKekUsRUFBRXdDLE1BQU1rQyxJQUFJdEUsRUFBU1MsV0FBWWIsRUFBRXdDLE1BQU1XLEtBQUt3QixVQUt0RDNFLEVBQUUyQyxNQUFNQyxRQUFRZ0MsUUFBVSxDQUN6QjlCLE1BQU8sV0FDQSxJQUFJQyxFQUFhUCxLQUNqQlEsRUFBUWhELEVBQUUrQyxHQUVWQyxFQUFNUCxHQUFHckMsRUFBU1csVUFBVyxTQUFTOEQsRUFBWTNCLEdBQzlDRixFQUFNRyxLQUFLLFNBQVUwQixHQUVyQixJQUFJeEIsRUFBWUgsRUFBRUksY0FDZEMsRUFBWSxDQUNSQyxTQUFZLENBQ1JDLEVBQU9yRCxFQUFzQixjQUFJaUQsRUFBVUssUUFBUSxHQUFHQyxNQUFRVCxFQUFFUyxNQUNoRUMsRUFBTXhELEVBQXNCLGNBQUlpRCxFQUFVSyxRQUFRLEdBQUdHLE1BQVFYLEVBQUVXLE9BRW5FQyxPQUFVLENBQ05MLEVBQU1yRCxFQUFzQixjQUFJMkQsS0FBS0MsTUFBTVgsRUFBVVksZUFBZSxHQUFHTixPQUFTWCxFQUFNYyxTQUFXZCxFQUFNYyxTQUFTSSxLQUFPLElBQU1ILEtBQUtDLE1BQU1kLEVBQUVTLE9BQVNYLEVBQU1jLFNBQVdkLEVBQU1jLFNBQVNJLEtBQU8sSUFDL01OLEVBQU14RCxFQUFzQixjQUFJMkQsS0FBS0MsTUFBTVgsRUFBVVksZUFBZSxHQUFHSixPQUFTYixFQUFNYyxTQUFXZCxFQUFNYyxTQUFTSyxJQUFNLElBQU1KLEtBQUtDLE1BQU1kLEVBQUVXLE9BQVNiLEVBQU1jLFNBQVdkLEVBQU1jLFNBQVNLLElBQU0sS0FFdktDLEtBQVFDLEtBQUtDLE1BQ2JDLE9BQVVyQixFQUFFcUIsUUFJcEIsT0FEQUMsRUFBbUJ6QixFQUFZLFVBQVdHLEVBQUdLLElBQ3RDLEtBR2ZrQixPQUFRLFdBQ0p6RSxFQUFFd0MsTUFBTWtDLElBQUl0RSxFQUFTVyxVQUFXZixFQUFFd0MsTUFBTVcsS0FBS3dCLFVBS3JEM0UsRUFBRTJDLE1BQU1DLFFBQVFrQyxPQUFTLENBQ3JCaEMsTUFBTyxXQUNILElBQUlDLEVBQWFQLEtBQ2JRLEVBQVFoRCxFQUFFK0MsR0FFZEMsRUFBTVAsR0FBR3JDLEVBQVNVLFNBQVUsU0FBU2lFLEVBQVc3QixHQUU1Q0YsRUFBTUcsS0FBSyxTQUFVNEIsR0FFckIsSUFBSTFCLEVBQVlILEVBQUVJLGNBQ2RDLEVBQVksQ0FDWkMsU0FBWSxDQUNSQyxFQUFNckQsRUFBc0IsY0FBSWlELEVBQVVZLGVBQWUsR0FBR04sTUFBUVQsRUFBRVMsTUFDdEVDLEVBQU14RCxFQUFzQixjQUFJaUQsRUFBVVksZUFBZSxHQUFHSixNQUFRWCxFQUFFVyxPQUUxRUMsT0FBVSxDQUNOTCxFQUFNckQsRUFBc0IsY0FBSTJELEtBQUtDLE1BQU1YLEVBQVVZLGVBQWUsR0FBR04sT0FBU1gsRUFBTWMsU0FBV2QsRUFBTWMsU0FBU0ksS0FBTyxJQUFNSCxLQUFLQyxNQUFNZCxFQUFFUyxPQUFTWCxFQUFNYyxTQUFXZCxFQUFNYyxTQUFTSSxLQUFPLElBQzFMTixFQUFNeEQsRUFBc0IsY0FBSTJELEtBQUtDLE1BQU1YLEVBQVVZLGVBQWUsR0FBR0osT0FBU2IsRUFBTWMsU0FBV2QsRUFBTWMsU0FBU0ssSUFBTSxJQUFNSixLQUFLQyxNQUFNZCxFQUFFVyxPQUFTYixFQUFNYyxTQUFXZCxFQUFNYyxTQUFTSyxJQUFNLEtBRTVMQyxLQUFRQyxLQUFLQyxNQUNiQyxPQUFVckIsRUFBRXFCLFFBR2hCLE9BREFDLEVBQW1CekIsRUFBWSxTQUFVRyxFQUFHSyxJQUNyQyxLQUdma0IsT0FBUSxXQUNKekUsRUFBRXdDLE1BQU1rQyxJQUFJdEUsRUFBU1UsU0FBVWQsRUFBRXdDLE1BQU1XLEtBQUt3QixVQUtwRDNFLEVBQUUyQyxNQUFNQyxRQUFRb0MsUUFBVSxDQUN0QmxDLE1BQU8sV0FDSCxJQUVJbUMsRUFGQWxDLEVBQWFQLEtBQ2JRLEVBQVFoRCxFQUFFK0MsR0FFVm1DLEVBQVksQ0FDUnpCLEVBQUcsRUFDSEcsRUFBRyxHQUVQdUIsRUFBUSxFQUNSQyxFQUFRLEVBRVpwQyxFQUFNUCxHQUFHckMsRUFBU1MsV0FBWSxTQUFTd0UsRUFBYW5DLEdBQ2hELEdBQUlBLEVBQUVFLE9BQXFCLElBQVpGLEVBQUVFLE1BQ2IsT0FBTyxFQUVQSixFQUFNRyxLQUFLLFdBQVcsR0FDdEI4QixFQUFhL0IsRUFBRXFCLE9BRWYsSUFBSWxCLEVBQVlILEVBQUVJLGNBQ2RnQyxFQUFhakIsS0FBS0MsTUFFUmxFLEVBQXNCLGNBQUlpRCxFQUFVSyxRQUFRLEdBQUdDLE1BQVFULEVBQUVTLE1BQ3pEdkQsRUFBc0IsY0FBSWlELEVBQVVLLFFBQVEsR0FBR0csTUFBUVgsRUFBRVcsTUFHekR6RCxFQUFzQixlQUFJaUQsRUFBVUssUUFBUSxHQUFHQyxNQUFRTixFQUFVSyxRQUFRLEdBQUdhLE9BQU9nQixZQUFhckMsRUFBRXNDLFFBQ2xHcEYsRUFBc0IsZUFBSWlELEVBQVVLLFFBQVEsR0FBR0csTUFBUVIsRUFBVUssUUFBUSxHQUFHYSxPQUFPa0IsV0FBWXZDLEVBQUV3QyxRQUcvR1IsRUFBVXpCLEVBQUtQLEVBQUVJLGNBQTJCLGNBQUlKLEVBQUVJLGNBQWNxQyxjQUFjLEdBQUdoQyxNQUFRVCxFQUFFUyxNQUMzRnVCLEVBQVV0QixFQUFLVixFQUFFSSxjQUEyQixjQUFJSixFQUFFSSxjQUFjcUMsY0FBYyxHQUFHOUIsTUFBUVgsRUFBRVcsTUFFM0ZzQixFQUFRRCxFQUFVekIsRUFDbEIyQixFQUFRRixFQUFVdEIsRUFHbEIsSUFBSWdDLEVBQWlCNUMsRUFBTTZDLFNBQVMxQyxLQUFLLGFBQWdCSCxFQUFNNkMsU0FBUzFDLEtBQUssYUFBZUgsRUFBTUcsS0FBSyxhQUNuR3ZCLE9BQXNDLElBQWxCZ0UsSUFBbUQsSUFBbEJBLEdBQTJCRSxTQUFTRixHQUFrQkUsU0FBU0YsR0FBaUJ4RixFQUFTSSxrQkEyQ2xKLE9BekNBSixFQUFTYyxXQUFhZixPQUFPNEYsV0FBVyxXQUVwQyxJQUFJQyxFQUFVZCxFQUFVekIsRUFBSTBCLEVBQ3hCYyxFQUFVZixFQUFVdEIsRUFBSXdCLEVBRTVCLEdBQUlsQyxFQUFFcUIsUUFBVVUsSUFBZ0JDLEVBQVV6QixHQUFLMEIsR0FBU0QsRUFBVXRCLEdBQUt3QixHQUFXWSxJQUFZNUYsRUFBd0IsaUJBQUs0RixHQUFVNUYsRUFBU0MsaUJBQW1CNEYsSUFBWTdGLEVBQXdCLGlCQUFLNkYsR0FBVTdGLEVBQVNDLGlCQUFtQixDQUM1TzJDLEVBQU1HLEtBQUssV0FBVyxHQVEzQyxJQU5xQixJQUVJK0MsRUFGVzdCLEtBQUtDLE1BRU9nQixFQUMvQzVCLEVBQWFSLEVBQUVJLGNBQTJCLGNBQUlKLEVBQUVJLGNBQWNxQyxjQUFnQixDQUFFekMsR0FDaEZLLEVBQVksR0FFSmxCLEVBQUksRUFBR0EsRUFBSXFCLEVBQVF5QyxPQUFROUQsSUFDcEMsQ0FDQyxJQUFJakIsRUFBUSxDQUNYb0MsU0FBWSxDQUNYQyxFQUFNckQsRUFBc0IsY0FBSWlELEVBQVVZLGVBQWU1QixHQUFHc0IsTUFBUVQsRUFBRVMsTUFDdEVDLEVBQU14RCxFQUFzQixjQUFJaUQsRUFBVVksZUFBZTVCLEdBQUd3QixNQUFRWCxFQUFFVyxPQUV2RUMsT0FBVSxDQUNUTCxFQUFNckQsRUFBc0IsY0FBSTJELEtBQUtDLE1BQU1YLEVBQVVZLGVBQWU1QixHQUFHc0IsT0FBU1gsRUFBTWMsU0FBV2QsRUFBTWMsU0FBU0ksS0FBTyxJQUFNSCxLQUFLQyxNQUFNZCxFQUFFUyxPQUFTWCxFQUFNYyxTQUFXZCxFQUFNYyxTQUFTSSxLQUFPLElBQzFMTixFQUFNeEQsRUFBc0IsY0FBSTJELEtBQUtDLE1BQU1YLEVBQVVZLGVBQWU1QixHQUFHd0IsT0FBU2IsRUFBTWMsU0FBV2QsRUFBTWMsU0FBU0ssSUFBTSxJQUFNSixLQUFLQyxNQUFNZCxFQUFFVyxPQUFTYixFQUFNYyxTQUFXZCxFQUFNYyxTQUFTSyxJQUFNLEtBRXpMQyxLQUFRQyxLQUFLQyxNQUNiQyxPQUFVckIsRUFBRXFCLE9BQ1oyQixTQUFZQSxHQUdiM0MsRUFBVTZDLEtBQU1oRixHQUdqQixJQUFJaUYsRUFBK0IsR0FBbEIzQyxFQUFReUMsT0FBZ0IsV0FBYSxVQUV0RG5ELEVBQU1HLEtBQUssVUFBV2tDLEdBRURiLEVBQW1CekIsRUFBWXNELEVBQVVuRCxFQUFHSyxLQUVqRDNCLElBRUksSUFFWmEsR0FBR3JDLEVBQVNVLFNBQVUsU0FBU3dGLElBQzlCdEQsRUFBTUcsS0FBSyxVQUFXbUQsR0FDdEJ0RCxFQUFNRyxLQUFLLFdBQVcsR0FDdEJoRCxPQUFPb0csYUFBYW5HLEVBQVNjLGNBRWhDdUIsR0FBR3JDLEVBQVNXLFVBQVcsU0FBU3lGLEVBQWF0RCxHQUMxQ0YsRUFBTUcsS0FBSyxVQUFXcUQsR0FFdEJyQixFQUFTakMsRUFBRUksY0FBMkIsY0FBSUosRUFBRUksY0FBY3FDLGNBQWMsR0FBR2hDLE1BQVFULEVBQUVTLE1BQ3JGeUIsRUFBU2xDLEVBQUVJLGNBQTJCLGNBQUlKLEVBQUVJLGNBQWNxQyxjQUFjLEdBQUc5QixNQUFRWCxFQUFFVyxTQUk3RlksT0FBUSxXQUNKekUsRUFBRXdDLE1BQU1rQyxJQUFJdEUsRUFBU1MsV0FBWWIsRUFBRXdDLE1BQU1XLEtBQUtzRCxTQUFTL0IsSUFBSXRFLEVBQVNVLFNBQVVkLEVBQUV3QyxNQUFNVyxLQUFLdUQsU0FBU2hDLElBQUl0RSxFQUFTVyxVQUFXZixFQUFFd0MsTUFBTVcsS0FBS3dELFdBS2pKM0csRUFBRTJDLE1BQU1DLFFBQVFnRSxVQUFZLENBQ3hCOUQsTUFBTyxXQUNILElBR0krRCxFQUVBeEQsRUFMQU4sRUFBYVAsS0FDYlEsRUFBUWhELEVBQUUrQyxHQUdWK0QsRUFBVyxLQUd2QkMsR0FBVSxFQUVGL0QsRUFBTVAsR0FBR3JDLEVBQVNTLFdBQVksU0FBU21HLEVBQWU5RCxHQUNsRCxRQUFJQSxFQUFFRSxPQUFxQixJQUFaRixFQUFFRSxTQUlqQkosRUFBTUcsS0FBSyxnQkFBZ0IsR0FDZEQsRUFBRXFCLE9BQ2Z2QixFQUFNRyxLQUFLLFVBQVc2RCxHQUV0QjNELEVBQVlILEVBQUVJLGNBQ1R3RCxJQUNEQSxFQUFXLENBQ1B0RCxTQUFZLENBQ1JDLEVBQU1yRCxFQUFzQixjQUFJaUQsRUFBVUssUUFBUSxHQUFHQyxNQUFRVCxFQUFFUyxNQUMvREMsRUFBTXhELEVBQXNCLGNBQUlpRCxFQUFVSyxRQUFRLEdBQUdHLE1BQVFYLEVBQUVXLE9BRW5FQyxPQUFVLENBQ05MLEVBQU1yRCxFQUFzQixjQUFJMkQsS0FBS0MsTUFBTVgsRUFBVVksZUFBZSxHQUFHTixPQUFTWCxFQUFNYyxTQUFXZCxFQUFNYyxTQUFTSSxLQUFPLElBQU1ILEtBQUtDLE1BQU1kLEVBQUVTLE9BQVNYLEVBQU1jLFNBQVdkLEVBQU1jLFNBQVNJLEtBQU8sSUFDMUxOLEVBQU14RCxFQUFzQixjQUFJMkQsS0FBS0MsTUFBTVgsRUFBVVksZUFBZSxHQUFHSixPQUFTYixFQUFNYyxTQUFXZCxFQUFNYyxTQUFTSyxJQUFNLElBQU1KLEtBQUtDLE1BQU1kLEVBQUVXLE9BQVNiLEVBQU1jLFNBQVdkLEVBQU1jLFNBQVNLLElBQU0sS0FFNUxDLEtBQVFDLEtBQUtDLE1BQ2JDLE9BQVVyQixFQUFFcUIsT0FDWjBDLFFBQVcvRCxFQUFFSSxjQUFjNEQsV0FDM0JDLE1BQVduSCxFQUFFa0QsRUFBRXFCLFFBQVE0QyxXQUl4QixLQUNSMUUsR0FBR3JDLEVBQVNVLFNBQVUsU0FBU3NHLEVBQWVsRSxHQUU3QyxJQUFJb0IsRUFBTUQsS0FBS0MsTUFFWCtDLEVBQVEvQyxHQURJdEIsRUFBTUcsS0FBSyxjQUFnQm1CLEVBQU0sR0FLakQsR0FIQW5FLE9BQU9vRyxhQUFhTSxHQUNwQjdELEVBQU1HLEtBQUssVUFBV2lFLEdBRWxCQyxFQUFRakgsRUFBU0ssZUFBa0JULEVBQUVrRCxFQUFFcUIsUUFBUTRDLFNBQVdMLEVBQVNLLE9BQWtCLElBQVJFLEVBQWEsQ0FDMUZyRSxFQUFNRyxLQUFLLGdCQUFnQixHQUMzQmhELE9BQU9vRyxhQUFhbkcsRUFBU2UsV0FHN0IsSUFBSW1HLEVBQVUsQ0FDVjlELFNBQVksQ0FDUkMsRUFBTXJELEVBQXNCLGNBQUk4QyxFQUFFSSxjQUFjVyxlQUFlLEdBQUdOLE1BQVFULEVBQUVTLE1BQzVFQyxFQUFNeEQsRUFBc0IsY0FBSThDLEVBQUVJLGNBQWNXLGVBQWUsR0FBR0osTUFBUVgsRUFBRVcsT0FFaEZDLE9BQVUsQ0FDTkwsRUFBTXJELEVBQXNCLGNBQUkyRCxLQUFLQyxNQUFNWCxFQUFVWSxlQUFlLEdBQUdOLE9BQVNYLEVBQU1jLFNBQVdkLEVBQU1jLFNBQVNJLEtBQU8sSUFBTUgsS0FBS0MsTUFBTWQsRUFBRVMsT0FBU1gsRUFBTWMsU0FBV2QsRUFBTWMsU0FBU0ksS0FBTyxJQUMxTE4sRUFBTXhELEVBQXNCLGNBQUkyRCxLQUFLQyxNQUFNWCxFQUFVWSxlQUFlLEdBQUdKLE9BQVNiLEVBQU1jLFNBQVdkLEVBQU1jLFNBQVNLLElBQU0sSUFBTUosS0FBS0MsTUFBTWQsRUFBRVcsT0FBU2IsRUFBTWMsU0FBV2QsRUFBTWMsU0FBU0ssSUFBTSxLQUU1TEMsS0FBUUMsS0FBS0MsTUFDYkMsT0FBVXJCLEVBQUVxQixPQUNaMEMsUUFBVy9ELEVBQUVJLGNBQWM0RCxXQUMzQkMsTUFBU25ILEVBQUVrRCxFQUFFcUIsUUFBUTRDLFNBR3JCNUQsRUFBWSxDQUNadUQsU0FBWUEsRUFDWlMsVUFBYUQsRUFDYnRGLFNBQVlzRixFQUFRbEQsS0FBTzBDLEVBQVMxQyxNQUduQzJDLElBQ0p2QyxFQUFtQnpCLEVBQVksWUFBYUcsRUFBR0ssR0FDNUN1RCxFQUFXLE1BR2ZDLEdBQVUsRUFFQTVHLE9BQU80RixXQUFXLFdBQzNCZ0IsR0FBVSxHQUNSM0csRUFBU0ssb0JBR1p1QyxFQUFNRyxLQUFLLFlBQWFtQixHQUN4QnVDLEVBQVMxRyxPQUFPNEYsV0FBVyxXQUN2QmUsRUFBVyxLQUNYM0csT0FBT29HLGFBQWFNLElBQ3JCekcsRUFBU0ssY0FBZSxDQUFDeUMsSUFFaENGLEVBQU1HLEtBQUssWUFBYW1CLE1BR2hDRyxPQUFRLFdBQ0p6RSxFQUFFd0MsTUFBTWtDLElBQUl0RSxFQUFTUyxXQUFZYixFQUFFd0MsTUFBTVcsS0FBS3NELFNBQVMvQixJQUFJdEUsRUFBU1UsU0FBVWQsRUFBRXdDLE1BQU1XLEtBQUt1RCxXQU1uRzFHLEVBQUUyQyxNQUFNQyxRQUFRNEUsVUFBWSxDQUN4QjFFLE1BQU8sV0FDSCxJQUFJQyxFQUFhUCxLQUNiUSxFQUFRaEQsRUFBRStDLEdBQ1ZrQyxFQUFhLEtBQ2J3QyxFQUFZLEtBQ1p2QyxFQUFZLENBQ1J6QixFQUFHLEVBQ0hHLEVBQUcsR0FHWFosRUFBTVAsR0FBR3JDLEVBQVNTLFdBQVksU0FBUzZHLEVBQWV4RSxHQUNsRCxRQUFJQSxFQUFFRSxPQUFxQixJQUFaRixFQUFFRSxTQUdicUUsRUFBWXBELEtBQUtDLE1BQ2pCVyxFQUFhL0IsRUFBRXFCLE9BQ2Z2QixFQUFNRyxLQUFLLFVBQVd1RSxHQUd0QnhDLEVBQVV6QixFQUFLUCxFQUFFSSxjQUEyQixjQUFJSixFQUFFSSxjQUFjcUMsY0FBYyxHQUFHaEMsTUFBUVQsRUFBRVMsTUFDM0Z1QixFQUFVdEIsRUFBS1YsRUFBRUksY0FBMkIsY0FBSUosRUFBRUksY0FBY3FDLGNBQWMsR0FBRzlCLE1BQVFYLEVBQUVXLE9BRXBGLEtBRVpwQixHQUFHckMsRUFBU1UsU0FBVSxTQUFTNkcsRUFBZXpFLEdBRTdDLEdBREFGLEVBQU1HLEtBQUssVUFBV3dFLEdBQ2xCekUsRUFBRXFCLFFBQVVVLEVBQVksQ0FHeEIsSUFBSTJDLEVBQWExRSxFQUFFSSxjQUE0QixlQUFJSixFQUFFSSxjQUFjVyxlQUFlLEdBQUdOLE1BQVFULEVBQUVTLE1BQzNGa0UsRUFBYTNFLEVBQUVJLGNBQTRCLGVBQUlKLEVBQUVJLGNBQWNXLGVBQWUsR0FBR0osTUFBUVgsRUFBRVcsTUFJL0Z6RCxFQUFTZSxVQUFZaEIsT0FBTzRGLFdBQVcsV0FFbkMsSUFBSUMsRUFBVWQsRUFBVXpCLEVBQUltRSxFQUFZM0IsRUFBVWYsRUFBVXRCLEVBQUlpRSxFQUVoRSxJQUFJN0UsRUFBTUcsS0FBSyxrQkFBb0JILEVBQU1HLEtBQUssYUFBaUIrQixFQUFVekIsR0FBS21FLEdBQWUxQyxFQUFVdEIsR0FBS2lFLEdBQWdCN0IsSUFBWTVGLEVBQXdCLGlCQUFLNEYsR0FBVTVGLEVBQVNDLGlCQUFtQjRGLElBQVk3RixFQUF3QixpQkFBSzZGLEdBQVU3RixFQUFTQyxpQkFBbUIsQ0FFdFIsSUFBSWdELEVBQVlILEVBQUVJLGNBQ2RDLEVBQVksQ0FDWkMsU0FBWSxDQUNSQyxFQUFNckQsRUFBc0IsY0FBSWlELEVBQVVZLGVBQWUsR0FBR04sTUFBUVQsRUFBRVMsTUFDdEVDLEVBQU14RCxFQUFzQixjQUFJaUQsRUFBVVksZUFBZSxHQUFHSixNQUFRWCxFQUFFVyxPQUUxRUMsT0FBVSxDQUNOTCxFQUFNckQsRUFBc0IsY0FBSTJELEtBQUtDLE1BQU1YLEVBQVVZLGVBQWUsR0FBR04sT0FBU1gsRUFBTWMsU0FBV2QsRUFBTWMsU0FBU0ksS0FBTyxJQUFNSCxLQUFLQyxNQUFNZCxFQUFFUyxPQUFTWCxFQUFNYyxTQUFXZCxFQUFNYyxTQUFTSSxLQUFPLElBQ3JOTixFQUFNeEQsRUFBc0IsY0FBSTJELEtBQUtDLE1BQU1YLEVBQVVZLGVBQWUsR0FBR0osT0FBU2IsRUFBTWMsU0FBV2QsRUFBTWMsU0FBU0ssSUFBTSxJQUFNSixLQUFLQyxNQUFNZCxFQUFFVyxPQUFTYixFQUFNYyxTQUFXZCxFQUFNYyxTQUFTSyxJQUFNLEtBRWpLQyxLQUFRQyxLQUFLQyxNQUNiQyxPQUFVckIsRUFBRXFCLFFBSVpoQixFQUFVYSxLQUFPcUQsRUFBYXJILEVBQVNJLG1CQUV2Q2dFLEVBQW1CekIsRUFBWSxZQUFhRyxFQUFHSyxLQUd4RG5ELEVBQVNLLG1CQUt4QmdFLE9BQVEsV0FDSnpFLEVBQUV3QyxNQUFNa0MsSUFBSXRFLEVBQVNTLFdBQVliLEVBQUV3QyxNQUFNVyxLQUFLc0QsU0FBUy9CLElBQUl0RSxFQUFTVSxTQUFVZCxFQUFFd0MsTUFBTVcsS0FBS3VELFdBS25HMUcsRUFBRTJDLE1BQU1DLFFBQVFrRixJQUFNLENBQ2xCaEYsTUFBTyxXQUNILElBSUl3QyxFQUtBNUIsRUFUQVgsRUFBYVAsS0FDYlEsRUFBUWhELEVBQUUrQyxHQUNWZ0YsR0FBVSxFQUNWOUMsRUFBYSxLQUViQyxFQUFZLENBQ1J6QixFQUFHLEVBQ0hHLEVBQUcsR0FJWFosRUFBTVAsR0FBR3JDLEVBQVNTLFdBQVksU0FBU21ILEVBQVM5RSxHQUc1QyxPQUZBRixFQUFNRyxLQUFLLFVBQVc2RSxLQUVsQjlFLEVBQUVFLE9BQXFCLElBQVpGLEVBQUVFLFNBTWIyRSxHQUFVLEVBQ1Y3QyxFQUFVekIsRUFBS1AsRUFBRUksY0FBMkIsY0FBSUosRUFBRUksY0FBY3FDLGNBQWMsR0FBR2hDLE1BQVFULEVBQUVTLE1BQzNGdUIsRUFBVXRCLEVBQUtWLEVBQUVJLGNBQTJCLGNBQUlKLEVBQUVJLGNBQWNxQyxjQUFjLEdBQUc5QixNQUFRWCxFQUFFVyxNQUMzRnlCLEVBQWFqQixLQUFLQyxNQUNsQlcsRUFBYS9CLEVBQUVxQixPQUVmYixFQUFXUixFQUFFSSxjQUEyQixjQUFJSixFQUFFSSxjQUFjcUMsY0FBZ0IsQ0FBRXpDLElBQ3ZFLEtBRVpULEdBQUdyQyxFQUFTVSxTQUFVLFNBQVNtSCxFQUFTL0UsR0FDdkNGLEVBQU1HLEtBQUssVUFBVzhFLEdBR3RCLElBQUk5QyxFQUFTakMsRUFBRUksY0FBMkIsY0FBSUosRUFBRUksY0FBY1csZUFBZSxHQUFHTixNQUFRVCxFQUFFUyxNQUN0RnlCLEVBQVNsQyxFQUFFSSxjQUEyQixjQUFJSixFQUFFSSxjQUFjVyxlQUFlLEdBQUdKLE1BQVFYLEVBQUVXLE1BQ3RGbUMsRUFBVWQsRUFBVXpCLEVBQUkwQixFQUN4QmMsRUFBVWYsRUFBVXRCLEVBQUl3QixFQUc1QixHQUFJSCxHQUFjL0IsRUFBRXFCLFFBQVV3RCxHQUFhMUQsS0FBS0MsTUFBUWdCLEVBQWNsRixFQUFTSSxvQkFBd0IwRSxFQUFVekIsR0FBSzBCLEdBQVNELEVBQVV0QixHQUFLd0IsR0FBV1ksSUFBWTVGLEVBQXdCLGlCQUFLNEYsR0FBVTVGLEVBQVNDLGlCQUFtQjRGLElBQVk3RixFQUF3QixpQkFBSzZGLEdBQVU3RixFQUFTQyxpQkFBbUIsQ0FJblQsSUFIQSxJQUFJZ0QsRUFBWUgsRUFBRUksY0FDZEMsRUFBWSxHQUVQbEIsRUFBSSxFQUFHQSxFQUFJcUIsRUFBUXlDLE9BQVE5RCxJQUNwQyxDQUNJLElBQUlqQixFQUFRLENBQ1JvQyxTQUFZLENBQ1JDLEVBQU1yRCxFQUFzQixjQUFJaUQsRUFBVVksZUFBZTVCLEdBQUdzQixNQUFRVCxFQUFFUyxNQUN0RUMsRUFBTXhELEVBQXNCLGNBQUlpRCxFQUFVWSxlQUFlNUIsR0FBR3dCLE1BQVFYLEVBQUVXLE9BRTFFQyxPQUFVLENBQ05MLEVBQU1yRCxFQUFzQixjQUFJMkQsS0FBS0MsTUFBTVgsRUFBVVksZUFBZTVCLEdBQUdzQixPQUFTWCxFQUFNYyxTQUFXZCxFQUFNYyxTQUFTSSxLQUFPLElBQU1ILEtBQUtDLE1BQU1kLEVBQUVTLE9BQVNYLEVBQU1jLFNBQVdkLEVBQU1jLFNBQVNJLEtBQU8sSUFDMUxOLEVBQU14RCxFQUFzQixjQUFJMkQsS0FBS0MsTUFBTVgsRUFBVVksZUFBZTVCLEdBQUd3QixPQUFTYixFQUFNYyxTQUFXZCxFQUFNYyxTQUFTSyxJQUFNLElBQU1KLEtBQUtDLE1BQU1kLEVBQUVXLE9BQVNiLEVBQU1jLFNBQVdkLEVBQU1jLFNBQVNLLElBQU0sS0FFNUxDLEtBQVFDLEtBQUtDLE1BQ2JDLE9BQVVyQixFQUFFcUIsUUFHaEJoQixFQUFVNkMsS0FBTWhGLEdBR25DLElBQUlpRixFQUErQixHQUFsQjNDLEVBQVF5QyxPQUFnQixPQUFTLE1BRW5DM0IsRUFBbUJ6QixFQUFZc0QsRUFBVW5ELEVBQUdLLE9BS3hEa0IsT0FBUSxXQUNKekUsRUFBRXdDLE1BQU1rQyxJQUFJdEUsRUFBU1MsV0FBWWIsRUFBRXdDLE1BQU1XLEtBQUtzRCxTQUFTL0IsSUFBSXRFLEVBQVNVLFNBQVVkLEVBQUV3QyxNQUFNVyxLQUFLdUQsV0FLbkcxRyxFQUFFMkMsTUFBTUMsUUFBUXNGLE1BQVEsQ0FDcEJwRixNQUFPLFdBQ0gsSUFZSXFGLEVBWEFuRixFQUFRaEQsRUFES3dDLE1BRWJ1RixHQUFVLEVBQ1ZLLEdBQVksRUFDWkMsRUFBZ0IsQ0FDWjVFLEVBQUcsRUFDSEcsRUFBRyxHQUVQMEUsRUFBYSxDQUNUN0UsRUFBRyxFQUNIRyxFQUFHLEdBMkpYWixFQUFNUCxHQUFHckMsRUFBU1MsV0FySmxCLFNBQVMwSCxFQUFXckYsSUFDaEJGLEVBQVFoRCxFQUFFa0QsRUFBRXNGLGdCQUNOckYsS0FBSyxVQUFXb0YsR0FDdEJGLEVBQWM1RSxFQUFLUCxFQUFFSSxjQUEyQixjQUFJSixFQUFFSSxjQUFjcUMsY0FBYyxHQUFHaEMsTUFBUVQsRUFBRVMsTUFDL0YwRSxFQUFjekUsRUFBS1YsRUFBRUksY0FBMkIsY0FBSUosRUFBRUksY0FBY3FDLGNBQWMsR0FBRzlCLE1BQVFYLEVBQUVXLE1BQy9GeUUsRUFBVzdFLEVBQUk0RSxFQUFjNUUsRUFDN0I2RSxFQUFXMUUsRUFBSXlFLEVBQWN6RSxFQUM3Qm1FLEdBQVUsRUFDVixJQUFJMUUsRUFBWUgsRUFBRUksY0FFbEI2RSxFQUFZLENBQ1IzRSxTQUFZLENBQ1JDLEVBQU1yRCxFQUFzQixjQUFJaUQsRUFBVUssUUFBUSxHQUFHQyxNQUFRVCxFQUFFUyxNQUMvREMsRUFBTXhELEVBQXNCLGNBQUlpRCxFQUFVSyxRQUFRLEdBQUdHLE1BQVFYLEVBQUVXLE9BRW5FQyxPQUFVLENBQ05MLEVBQU1yRCxFQUFzQixjQUFJMkQsS0FBS0MsTUFBTVgsRUFBVVksZUFBZSxHQUFHTixPQUFTWCxFQUFNYyxTQUFXZCxFQUFNYyxTQUFTSSxLQUFPLElBQU1ILEtBQUtDLE1BQU1kLEVBQUVTLE9BQVNYLEVBQU1jLFNBQVdkLEVBQU1jLFNBQVNJLEtBQU8sSUFDMUxOLEVBQU14RCxFQUFzQixjQUFJMkQsS0FBS0MsTUFBTVgsRUFBVVksZUFBZSxHQUFHSixPQUFTYixFQUFNYyxTQUFXZCxFQUFNYyxTQUFTSyxJQUFNLElBQU1KLEtBQUtDLE1BQU1kLEVBQUVXLE9BQVNiLEVBQU1jLFNBQVdkLEVBQU1jLFNBQVNLLElBQU0sS0FFNUxDLEtBQVFDLEtBQUtDLE1BQ2JDLE9BQVVyQixFQUFFcUIsVUFrSXBCdkIsRUFBTVAsR0FBR3JDLEVBQVNXLFVBNUhsQixTQUFTMEgsRUFBVXZGLEdBTWYsSUFBSXdGLEdBTEoxRixFQUFRaEQsRUFBRWtELEVBQUVzRixnQkFDTnJGLEtBQUssVUFBV3NGLEdBQ3RCSCxFQUFXN0UsRUFBS1AsRUFBRUksY0FBMkIsY0FBSUosRUFBRUksY0FBY3FDLGNBQWMsR0FBR2hDLE1BQVFULEVBQUVTLE1BQzVGMkUsRUFBVzFFLEVBQUtWLEVBQUVJLGNBQTJCLGNBQUlKLEVBQUVJLGNBQWNxQyxjQUFjLEdBQUc5QixNQUFRWCxFQUFFVyxNQUs1RixJQUFJOEUsRUFBbUIzRixFQUFNNkMsU0FBUzFDLEtBQUssY0FBaUJILEVBQU02QyxTQUFTMUMsS0FBSyxjQUFnQkgsRUFBTUcsS0FBSyxjQUN2R3lGLEVBQW1CNUYsRUFBTTZDLFNBQVMxQyxLQUFLLGNBQWlCSCxFQUFNNkMsU0FBUzFDLEtBQUssY0FBZ0JILEVBQU1HLEtBQUssY0FDdkcwRixPQUEwQyxJQUFwQkYsSUFBdUQsSUFBcEJBLEdBQTZCN0MsU0FBUzZDLEdBQW9CN0MsU0FBUzZDLEdBQW1CdkksRUFBU0Usa0JBQ3hKd0ksT0FBMEMsSUFBcEJGLElBQXVELElBQXBCQSxHQUE2QjlDLFNBQVM4QyxHQUFvQjlDLFNBQVM4QyxHQUFtQnhJLEVBQVNHLGtCQWM1SixHQVpJOEgsRUFBY3pFLEVBQUkwRSxFQUFXMUUsR0FBTXlFLEVBQWN6RSxFQUFJMEUsRUFBVzFFLEVBQUlrRixJQUNwRUosRUFBVyxXQUVYTCxFQUFjNUUsRUFBSTZFLEVBQVc3RSxHQUFNNkUsRUFBVzdFLEVBQUk0RSxFQUFjNUUsRUFBSW9GLElBQ3BFSCxFQUFXLGNBRVhMLEVBQWN6RSxFQUFJMEUsRUFBVzFFLEdBQU0wRSxFQUFXMUUsRUFBSXlFLEVBQWN6RSxFQUFJa0YsSUFDcEVKLEVBQVcsYUFFWEwsRUFBYzVFLEVBQUk2RSxFQUFXN0UsR0FBTTRFLEVBQWM1RSxFQUFJNkUsRUFBVzdFLEVBQUlvRixJQUNwRUgsRUFBVyxhQUVDSyxNQUFaTCxHQUF5QlgsRUFBUyxDQUNsQ00sRUFBYzVFLEVBQUksRUFDbEI0RSxFQUFjekUsRUFBSSxFQUNsQjBFLEVBQVc3RSxFQUFJLEVBQ2Y2RSxFQUFXMUUsRUFBSSxFQUNmbUUsR0FBVSxFQUdWLElBQUkxRSxFQUFZSCxFQUFFSSxjQUNkMEYsRUFBVSxDQUNWeEYsU0FBWSxDQUNSQyxFQUFNckQsRUFBc0IsY0FBSWlELEVBQVVLLFFBQVEsR0FBR0MsTUFBUVQsRUFBRVMsTUFDL0RDLEVBQU14RCxFQUFzQixjQUFJaUQsRUFBVUssUUFBUSxHQUFHRyxNQUFRWCxFQUFFVyxPQUVuRUMsT0FBVSxDQUNOTCxFQUFNckQsRUFBc0IsY0FBSTJELEtBQUtDLE1BQU1YLEVBQVVZLGVBQWUsR0FBR04sT0FBU1gsRUFBTWMsU0FBV2QsRUFBTWMsU0FBU0ksS0FBTyxJQUFNSCxLQUFLQyxNQUFNZCxFQUFFUyxPQUFTWCxFQUFNYyxTQUFXZCxFQUFNYyxTQUFTSSxLQUFPLElBQzFMTixFQUFNeEQsRUFBc0IsY0FBSTJELEtBQUtDLE1BQU1YLEVBQVVZLGVBQWUsR0FBR0osT0FBU2IsRUFBTWMsU0FBV2QsRUFBTWMsU0FBU0ssSUFBTSxJQUFNSixLQUFLQyxNQUFNZCxFQUFFVyxPQUFTYixFQUFNYyxTQUFXZCxFQUFNYyxTQUFTSyxJQUFNLEtBRTVMQyxLQUFRQyxLQUFLQyxNQUNiQyxPQUFVckIsRUFBRXFCLFFBSVowRSxFQUFVbEYsS0FBS21GLElBQUlmLEVBQVUzRSxTQUFTQyxFQUFJdUYsRUFBUXhGLFNBQVNDLEdBQzNEMEYsRUFBVXBGLEtBQUttRixJQUFJZixFQUFVM0UsU0FBU0ksRUFBSW9GLEVBQVF4RixTQUFTSSxHQUUzREwsRUFBWSxDQUNaNEUsVUFBYUEsRUFDYmEsUUFBV0EsRUFDWEksVUFBYVYsRUFBU1csUUFBUSxRQUFTLElBQ3ZDSixRQUFXQSxFQUNYRSxRQUFXQSxFQUNYakQsU0FBWThDLEVBQVE1RSxLQUFPK0QsRUFBVS9ELE1BRXpDZ0UsR0FBWSxFQUNacEYsRUFBTU4sUUFBUSxRQUFTYSxHQUFXYixRQUFRZ0csRUFBVW5GLE1BZ0U1RFAsRUFBTVAsR0FBR3JDLEVBQVNVLFNBNURsQixTQUFTd0ksRUFBU3BHLEdBRWQsSUFBSXdGLEVBQVcsR0FFZixJQUhBMUYsRUFBUWhELEVBQUVrRCxFQUFFc0YsZ0JBRU5yRixLQUFLLFVBQVdtRyxHQUNsQmxCLEVBQVcsQ0FFWCxJQUFJTyxFQUFrQjNGLEVBQU1HLEtBQUssY0FDN0J5RixFQUFrQjVGLEVBQU1HLEtBQUssY0FDN0IwRixPQUEwQyxJQUFwQkYsSUFBdUQsSUFBcEJBLEdBQTZCN0MsU0FBUzZDLEdBQW9CN0MsU0FBUzZDLEdBQW1CdkksRUFBU0Usa0JBQ3hKd0ksT0FBMEMsSUFBcEJGLElBQXVELElBQXBCQSxHQUE2QjlDLFNBQVM4QyxHQUFvQjlDLFNBQVM4QyxHQUFtQnhJLEVBQVNHLGtCQUV4SjhDLEVBQVlILEVBQUVJLGNBQ2QwRixFQUFVLENBQ1Z4RixTQUFZLENBQ1JDLEVBQU1yRCxFQUFzQixjQUFJaUQsRUFBVVksZUFBZSxHQUFHTixNQUFRVCxFQUFFUyxNQUN0RUMsRUFBTXhELEVBQXNCLGNBQUlpRCxFQUFVWSxlQUFlLEdBQUdKLE1BQVFYLEVBQUVXLE9BRTFFQyxPQUFVLENBQ05MLEVBQU1yRCxFQUFzQixjQUFJMkQsS0FBS0MsTUFBTVgsRUFBVVksZUFBZSxHQUFHTixPQUFTWCxFQUFNYyxTQUFXZCxFQUFNYyxTQUFTSSxLQUFPLElBQU1ILEtBQUtDLE1BQU1kLEVBQUVTLE9BQVNYLEVBQU1jLFNBQVdkLEVBQU1jLFNBQVNJLEtBQU8sSUFDMUxOLEVBQU14RCxFQUFzQixjQUFJMkQsS0FBS0MsTUFBTVgsRUFBVVksZUFBZSxHQUFHSixPQUFTYixFQUFNYyxTQUFXZCxFQUFNYyxTQUFTSyxJQUFNLElBQU1KLEtBQUtDLE1BQU1kLEVBQUVXLE9BQVNiLEVBQU1jLFNBQVdkLEVBQU1jLFNBQVNLLElBQU0sS0FFNUxDLEtBQVFDLEtBQUtDLE1BQ2JDLE9BQVVyQixFQUFFcUIsUUFJWjRELEVBQVUzRSxTQUFTSSxFQUFJb0YsRUFBUXhGLFNBQVNJLEdBQU11RSxFQUFVM0UsU0FBU0ksRUFBSW9GLEVBQVF4RixTQUFTSSxFQUFJa0YsSUFDMUZKLEVBQVcsV0FFWFAsRUFBVTNFLFNBQVNDLEVBQUl1RixFQUFReEYsU0FBU0MsR0FBTXVGLEVBQVF4RixTQUFTQyxFQUFJMEUsRUFBVTNFLFNBQVNDLEVBQUlvRixJQUMxRkgsRUFBVyxjQUVYUCxFQUFVM0UsU0FBU0ksRUFBSW9GLEVBQVF4RixTQUFTSSxHQUFNb0YsRUFBUXhGLFNBQVNJLEVBQUl1RSxFQUFVM0UsU0FBU0ksRUFBSWtGLElBQzFGSixFQUFXLGFBRVhQLEVBQVUzRSxTQUFTQyxFQUFJdUYsRUFBUXhGLFNBQVNDLEdBQU0wRSxFQUFVM0UsU0FBU0MsRUFBSXVGLEVBQVF4RixTQUFTQyxFQUFJb0YsSUFDMUZILEVBQVcsYUFJZixJQUFJTyxFQUFVbEYsS0FBS21GLElBQUlmLEVBQVUzRSxTQUFTQyxFQUFJdUYsRUFBUXhGLFNBQVNDLEdBQzNEMEYsRUFBVXBGLEtBQUttRixJQUFJZixFQUFVM0UsU0FBU0ksRUFBSW9GLEVBQVF4RixTQUFTSSxHQUUzREwsRUFBWSxDQUNaNEUsVUFBYUEsRUFDYmEsUUFBV0EsRUFDWEksVUFBYVYsRUFBU1csUUFBUSxRQUFTLElBQ3ZDSixRQUFXQSxFQUNYRSxRQUFXQSxFQUNYakQsU0FBWThDLEVBQVE1RSxLQUFPK0QsRUFBVS9ELE1BRXpDcEIsRUFBTU4sUUFBUSxXQUFZYSxHQUk5QjZFLEVBREFMLEdBQVUsS0FTbEJ0RCxPQUFRLFdBQ0p6RSxFQUFFd0MsTUFBTWtDLElBQUl0RSxFQUFTUyxXQUFZYixFQUFFd0MsTUFBTVcsS0FBS3NELFNBQVMvQixJQUFJdEUsRUFBU1csVUFBV2YsRUFBRXdDLE1BQU1XLEtBQUt1RCxTQUFTaEMsSUFBSXRFLEVBQVNVLFNBQVVkLEVBQUV3QyxNQUFNVyxLQUFLd0QsV0FLakozRyxFQUFFMkMsTUFBTUMsUUFBUTJHLFlBQWMsQ0FDMUJ6RyxNQUFPLFdBQ0gsSUFFSTBHLEVBQ0FDLEVBSEExRyxFQUFhUCxLQUNiUSxFQUFRaEQsRUFBRStDLEdBSWQsU0FBU0wsRUFBUUMsRUFBTytHLEdBRXBCbEYsRUFBbUJ6QixHQURuQnlHLEVBQVlFLEdBQytCLGNBQWdCLFlBQWEvRyxHQUk1RUssRUFBTVAsR0FBR3JDLEVBQVNhLFlBQWEsU0FBUzBJLEVBQVdoSCxHQUMvQ0ssRUFBTUcsS0FBSyxTQUFVd0csR0FFaEJILEdBQ0Q5RyxFQUFRQyxHQUFPLEdBR25CNEQsYUFBYWtELEdBQ2JBLEVBQVExRCxXQUFXLFdBQ2ZyRCxFQUFRQyxHQUFPLElBQ2hCLE9BSVg4QixPQUFRLFdBQ0p6RSxFQUFFd0MsTUFBTWtDLElBQUl0RSxFQUFTYSxZQUFhakIsRUFBRXdDLE1BQU1XLEtBQUt3QixVQUt2RCxJQUVJaUYsRUFDQUMsRUFDQUMsRUFDQUMsRUFMQUMsRUFBTWhLLEVBQUVHLFFBTVI4SixFQUFlLENBQ1hDLEdBQUssRUFDTEMsS0FBTyxHQUdmLEdBQUkvSixFQUFTUSxvQkFBcUIsQ0FDOUIsSUFBSXdKLEVBQUtqSyxPQUFPa0ssWUFBY0wsRUFBSU0sUUFDOUJDLEVBQUtwSyxPQUFPcUssYUFBZVIsRUFBSVMsU0FHbkNYLEVBQXdDUyxFQUFMSCxHQUZULEdBRXFCQSxFQUFLRyxFQUNwRFIsRUFBaUNFLEVBQWE5SixPQUFPdUssY0FFaERaLEdBQW9DQyxJQUFxQ0QsSUFBcUNDLEtBQy9HRSxFQUFlLENBQ1hVLE9BQU8sRUFDUEMsSUFBTSxJQXlDbEIsU0FBU0MsSUFFTCxJQUFJSCxFQUFjZCxJQUVkYyxJQUFnQmIsSUFFaEJBLEVBQW1CYSxFQUNuQlYsRUFBSXRILFFBQVEsc0JBM0NwQjFDLEVBQUUyQyxNQUFNQyxRQUFRa0ksa0JBQW9DLENBQ2hEaEksTUFBTyxXQUdILE9BQUkxQyxFQUFTUSxzQkFLYmlKLEVBQW1CRCxJQUVuQkksRUFBSXZILEdBQUcsa0JBQW1Cb0ksSUFDbkIsSUFFWEUsU0FBVSxXQUNOLE9BQUkzSyxFQUFTUSxzQkFJYm9KLEVBQUl0RixJQUFJLGtCQUFtQm1HLElBQ3BCLElBRVhHLElBQUssU0FBVUMsR0FFWCxJQUFJQyxFQUFjRCxFQUFVSixRQUU1QkksRUFBVUosUUFBVSxTQUFVbEksR0FFMUIsT0FEQUEsRUFBTStILFlBQWNkLElBQ2JzQixFQUFZQyxNQUFNM0ksS0FBTTRJLGNBbUIzQ3BMLEVBQUUyQyxNQUFNQyxRQUFRa0ksa0JBQWtCSixZQUFjZCxFQUFrQixXQUM5RCxJQUNJeUIsRUFBT0MsU0FBU0MsZ0JBUXBCLE9BTkluTCxFQUFTUSxvQkFDSXFKLEVBQWE5SixPQUFPdUssYUFFcEJXLEdBQVFBLEVBQUtHLFlBQWNILEVBQUtJLGFBQWUsS0FHNUMsV0FBYSxhQUlyQ3pMLEVBQUUyQyxNQUFNQyxRQUFROEksZ0JBQWtCLENBQzlCNUksTUFBTyxXQUNIOUMsRUFBRXdDLE1BQU1DLEdBQUcsU0FBVWtKLElBRXpCWixTQUFVLFdBQ04vSyxFQUFFd0MsTUFBTWtDLElBQUksU0FBVWlILEtBSTlCLElBbUJJQyxFQUNBQyxFQUNBQyxFQXBCQUgsRUFBbUIsV0FDZkUsRUFBT3hILEtBQUtDLE1BRkwsTUFHUHdILEVBQU9ELEVBQU9FLElBR1ZBLEVBQVdGLEVBQ1g3TCxFQUFFd0MsTUFBTUUsUUFBUSxxQkFHWmtKLEdBQ0F6TCxPQUFPb0csYUFBYXFGLEdBSXhCQSxFQUFXekwsT0FBTzRGLFdBQVc4RSxFQWYxQixJQWU4Q2lCLEtBR3pEQyxFQUFXLEVBT2YsU0FBU3ZILEVBQW1Cd0gsRUFBS0MsRUFBV3RKLEVBQU9ZLEdBQy9DLElBQUkySSxFQUFldkosRUFBTXdKLEtBQ3pCeEosRUFBTXdKLEtBQU9GLEVBRWJqTSxFQUFFMkMsTUFBTXlKLFNBQVNDLEtBQUtMLEVBQUtySixFQUFPWSxHQUNsQ1osRUFBTXdKLEtBQU9ELEVBSWpCbE0sRUFBRW9DLEtBQUssQ0FDSGtLLFVBQVcsY0FDWEMsUUFBUyxRQUNUQyxXQUFZLFFBQ1pDLFVBQVcsUUFDWEMsVUFBVyxRQUNYQyxTQUFVLFFBQ2hCQyxLQUFVLE1BQ1ZDLFNBQVUsV0FDTCxTQUFVM0osRUFBRzRKLEdBQ1o5TSxFQUFFMkMsTUFBTUMsUUFBUU0sR0FBSyxDQUNqQkosTUFBTyxXQUNIOUMsRUFBRXdDLE1BQU1DLEdBQUdxSyxFQUFNOU0sRUFBRStNLFVBcjNCbkMsQ0EwM0JFQyIsImZpbGUiOiJqcXVlcnktbW9iaWxlLWV2ZW50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIVxyXG4gKiBqUXVlcnkgTW9iaWxlIEV2ZW50c1xyXG4gKiBieSBCZW4gTWFqb3JcclxuICpcclxuICogQ29weXJpZ2h0IDIwMTEtMjAxNywgQmVuIE1ham9yXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZTpcclxuICogXHJcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcclxuICogb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxyXG4gKiBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXHJcbiAqIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcclxuICogY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXHJcbiAqIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XHJcbiAqXHJcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXHJcbiAqIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxyXG4gKlxyXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXHJcbiAqIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxyXG4gKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcclxuICogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxyXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxyXG4gKiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXHJcbiAqIFRIRSBTT0ZUV0FSRS5cclxuICogXHJcbiAqL1xyXG5cclxuXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4oZnVuY3Rpb24gKCQpIHtcclxuICAgICQuYXR0ckZuID0gJC5hdHRyRm4gfHwge307XHJcblxyXG4gICAgdmFyIHRvdWNoQ2FwYWJsZSAgPSAoJ29udG91Y2hzdGFydCcgaW4gd2luZG93KSxcclxuXHRcclxuICAgICAgICBzZXR0aW5ncyA9IHtcclxuICAgICAgICAgICAgdGFwX3BpeGVsX3JhbmdlOiA1LFxyXG4gICAgICAgICAgICBzd2lwZV9oX3RocmVzaG9sZDogNTAsXHJcbiAgICAgICAgICAgIHN3aXBlX3ZfdGhyZXNob2xkOiA1MCxcclxuICAgICAgICAgICAgdGFwaG9sZF90aHJlc2hvbGQ6IDc1MCxcclxuICAgICAgICAgICAgZG91YmxldGFwX2ludDogNTAwLFxyXG5cdFx0XHRzaGFrZV90aHJlc2hvbGQ6IDE1LFxyXG5cclxuICAgICAgICAgICAgdG91Y2hfY2FwYWJsZTogdG91Y2hDYXBhYmxlLFxyXG4gICAgICAgICAgICBvcmllbnRhdGlvbl9zdXBwb3J0OiAoJ29yaWVudGF0aW9uJyBpbiB3aW5kb3cgJiYgJ29ub3JpZW50YXRpb25jaGFuZ2UnIGluIHdpbmRvdyksXHJcblxyXG4gICAgICAgICAgICBzdGFydGV2ZW50OiAgKHRvdWNoQ2FwYWJsZSkgPyAndG91Y2hzdGFydCcgOiAnbW91c2Vkb3duJyxcclxuICAgICAgICAgICAgZW5kZXZlbnQ6ICAgICh0b3VjaENhcGFibGUpID8gJ3RvdWNoZW5kJyA6ICdtb3VzZXVwJyxcclxuICAgICAgICAgICAgbW92ZWV2ZW50OiAgICh0b3VjaENhcGFibGUpID8gJ3RvdWNobW92ZScgOiAnbW91c2Vtb3ZlJyxcclxuICAgICAgICAgICAgdGFwZXZlbnQ6ICAgICh0b3VjaENhcGFibGUpID8gJ3RhcCcgOiAnY2xpY2snLFxyXG4gICAgICAgICAgICBzY3JvbGxldmVudDogKHRvdWNoQ2FwYWJsZSkgPyAndG91Y2htb3ZlJyA6ICdzY3JvbGwnLFxyXG5cclxuICAgICAgICAgICAgaG9sZF90aW1lcjogbnVsbCxcclxuICAgICAgICAgICAgdGFwX3RpbWVyOiBudWxsXHJcbiAgICAgICAgfTtcclxuICAgIFxyXG5cdC8vIERlY2xhcmUgdG91Y2ggbmFtZXNwYWNlOlxyXG5cdCQudG91Y2ggPSB7IH07XHJcblx0XHJcbiAgICAvLyBDb252ZW5pZW5jZSBmdW5jdGlvbnM6XHJcbiAgICAkLmlzVG91Y2hDYXBhYmxlID0gZnVuY3Rpb24oKSB7IHJldHVybiBzZXR0aW5ncy50b3VjaF9jYXBhYmxlOyB9O1xyXG4gICAgJC5nZXRTdGFydEV2ZW50ICA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gc2V0dGluZ3Muc3RhcnRldmVudDsgICAgfTtcclxuICAgICQuZ2V0RW5kRXZlbnQgICAgPSBmdW5jdGlvbigpIHsgcmV0dXJuIHNldHRpbmdzLmVuZGV2ZW50OyAgICAgIH07XHJcbiAgICAkLmdldE1vdmVFdmVudCAgID0gZnVuY3Rpb24oKSB7IHJldHVybiBzZXR0aW5ncy5tb3ZlZXZlbnQ7ICAgICB9O1xyXG4gICAgJC5nZXRUYXBFdmVudCAgICA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gc2V0dGluZ3MudGFwZXZlbnQ7ICAgICAgfTtcclxuICAgICQuZ2V0U2Nyb2xsRXZlbnQgPSBmdW5jdGlvbigpIHsgcmV0dXJuIHNldHRpbmdzLnNjcm9sbGV2ZW50OyAgIH07XHJcbiAgICBcclxuXHQvLyBTRVRURVJTOlxyXG5cdC8vIFNldCB0aGUgWCB0aHJlc2hvbGQgb2Ygc3dpcGUgZXZlbnRzOlxyXG5cdCQudG91Y2guc2V0U3dpcGVUaHJlc2hvbGRYID0gZnVuY3Rpb24oIHRocmVzaG9sZCApIHtcclxuXHRcdGlmKCB0eXBlb2YgdGhyZXNob2xkICE9PSAnbnVtYmVyJyApIHsgdGhyb3cgbmV3IEVycm9yKCdUaHJlc2hvbGQgcGFyYW1ldGVyIG11c3QgYmUgYSB0eXBlIG9mIG51bWJlcicpOyB9XHJcblx0XHRzZXR0aW5ncy5zd2lwZV9oX3RocmVzaG9sZCA9IHRocmVzaG9sZDtcclxuXHR9O1xyXG5cdFxyXG5cdC8vIFNldCB0aGUgWSB0aHJlc2hvbGQgb2Ygc3dpcGUgZXZlbnRzOlxyXG5cdCQudG91Y2guc2V0U3dpcGVUaHJlc2hvbGRZID0gZnVuY3Rpb24oIHRocmVzaG9sZCApIHtcclxuXHRcdGlmKCB0eXBlb2YgdGhyZXNob2xkICE9PSAnbnVtYmVyJyApIHsgdGhyb3cgbmV3IEVycm9yKCdUaHJlc2hvbGQgcGFyYW1ldGVyIG11c3QgYmUgYSB0eXBlIG9mIG51bWJlcicpOyB9XHJcblx0XHRzZXR0aW5ncy5zd2lwZV92X3RocmVzaG9sZCA9IHRocmVzaG9sZDtcclxuXHR9O1xyXG5cdFxyXG5cdC8vIFNldCB0aGUgZG91YmxlIHRhcCBpbnRlcnZhbDpcclxuXHQkLnRvdWNoLnNldERvdWJsZVRhcEludCAgICA9IGZ1bmN0aW9uKCBpbnRlcnZhbCApIHtcclxuXHRcdGlmKCB0eXBlb2YgaW50ZXJ2YWwgIT09ICdudW1iZXInICkgeyB0aHJvdyBuZXcgRXJyb3IoJ0ludGVydmFsIHBhcmFtZXRlciBtdXN0IGJlIGEgdHlwZSBvZiBudW1iZXInKTsgfVxyXG5cdFx0c2V0dGluZ3MuZG91YmxldGFwX2ludCA9IGludGVydmFsO1xyXG5cdH07XHJcblx0XHJcblx0Ly8gU2V0IHRoZSB0YXBob2xkIHRocmVzaG9sZDpcclxuXHQkLnRvdWNoLnNldFRhcEhvbGRUaHJlc2hvbGQgPSBmdW5jdGlvbiggdGhyZXNob2xkICkge1xyXG5cdFx0aWYoIHR5cGVvZiB0aHJlc2hvbGQgIT09ICdudW1iZXInICkgeyB0aHJvdyBuZXcgRXJyb3IoJ1RocmVzaG9sZCBwYXJhbWV0ZXIgbXVzdCBiZSBhIHR5cGUgb2YgbnVtYmVyJyk7IH1cclxuXHRcdHNldHRpbmdzLnRhcGhvbGRfdGhyZXNob2xkID0gdGhyZXNob2xkO1xyXG5cdH07XHJcblx0XHJcblx0Ly8gU2V0IHRoZSBwaXhlbCByYW5nZSBmb3IgdGFwYXM6XHJcblx0JC50b3VjaC5zZXRUYXBSYW5nZSA9IGZ1bmN0aW9uKCByYW5nZSApIHtcclxuXHRcdGlmKCB0eXBlb2YgcmFuZ2UgIT09ICdudW1iZXInICkgeyB0aHJvdyBuZXcgRXJyb3IoJ1JhbmdlciBwYXJhbWV0ZXIgbXVzdCBiZSBhIHR5cGUgb2YgbnVtYmVyJyk7IH1cclxuXHRcdHNldHRpbmdzLnRhcF9waXhlbF9yYW5nZSA9IHRocmVzaG9sZDtcclxuXHR9O1xyXG5cdFxyXG4gICAgLy8gQWRkIEV2ZW50IHNob3J0Y3V0czpcclxuICAgICQuZWFjaChbJ3RhcHN0YXJ0JywgJ3RhcGVuZCcsICd0YXBtb3ZlJywgJ3RhcCcsICdzaW5nbGV0YXAnLCAnZG91YmxldGFwJywgJ3RhcGhvbGQnLCAnc3dpcGUnLCAnc3dpcGV1cCcsICdzd2lwZXJpZ2h0JywgJ3N3aXBlZG93bicsICdzd2lwZWxlZnQnLCAnc3dpcGVlbmQnLCAnc2Nyb2xsc3RhcnQnLCAnc2Nyb2xsZW5kJywgJ29yaWVudGF0aW9uY2hhbmdlJywgJ3RhcDInLCAndGFwaG9sZDInXSwgZnVuY3Rpb24gKGksIG5hbWUpIHtcclxuICAgICAgICAkLmZuW25hbWVdID0gZnVuY3Rpb24gKGZuKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmbiA/IHRoaXMub24obmFtZSwgZm4pIDogdGhpcy50cmlnZ2VyKG5hbWUpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgICQuYXR0ckZuW25hbWVdID0gdHJ1ZTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIHRhcHN0YXJ0IEV2ZW50OlxyXG4gICAgJC5ldmVudC5zcGVjaWFsLnRhcHN0YXJ0ID0ge1xyXG4gICAgICAgIHNldHVwOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFxyXG4gICAgICAgICAgICB2YXIgdGhpc09iamVjdCA9IHRoaXMsXHJcbiAgICAgICAgICAgICAgICAkdGhpcyA9ICQodGhpc09iamVjdCk7XHJcblx0XHRcdFxyXG4gICAgICAgICAgICAkdGhpcy5vbihzZXR0aW5ncy5zdGFydGV2ZW50LCBmdW5jdGlvbiB0YXBTdGFydEZ1bmMoZSkge1xyXG5cdFx0XHRcdFxyXG4gICAgICAgICAgICAgICAgJHRoaXMuZGF0YSgnY2FsbGVlJywgdGFwU3RhcnRGdW5jKTtcclxuICAgICAgICAgICAgICAgIGlmIChlLndoaWNoICYmIGUud2hpY2ggIT09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIG9yaWdFdmVudCA9IGUub3JpZ2luYWxFdmVudCxcclxuICAgICAgICAgICAgICAgICAgICB0b3VjaERhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdwb3NpdGlvbic6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd4JzogKChzZXR0aW5ncy50b3VjaF9jYXBhYmxlKSA/IG9yaWdFdmVudC50b3VjaGVzWzBdLnBhZ2VYIDogZS5wYWdlWCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAneSc6IChzZXR0aW5ncy50b3VjaF9jYXBhYmxlKSA/IG9yaWdFdmVudC50b3VjaGVzWzBdLnBhZ2VZIDogZS5wYWdlWVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnb2Zmc2V0Jzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3gnOiAoc2V0dGluZ3MudG91Y2hfY2FwYWJsZSkgPyBNYXRoLnJvdW5kKG9yaWdFdmVudC5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWCAtICgkdGhpcy5vZmZzZXQoKSA/ICR0aGlzLm9mZnNldCgpLmxlZnQgOiAwKSkgOiBNYXRoLnJvdW5kKGUucGFnZVggLSAoJHRoaXMub2Zmc2V0KCkgPyAkdGhpcy5vZmZzZXQoKS5sZWZ0IDogMCkpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3knOiAoc2V0dGluZ3MudG91Y2hfY2FwYWJsZSkgPyBNYXRoLnJvdW5kKG9yaWdFdmVudC5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWSAtICgkdGhpcy5vZmZzZXQoKSA/ICR0aGlzLm9mZnNldCgpLnRvcCA6IDApKSA6IE1hdGgucm91bmQoZS5wYWdlWSAtICgkdGhpcy5vZmZzZXQoKSA/ICR0aGlzLm9mZnNldCgpLnRvcCA6IDApKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAndGltZSc6IERhdGUubm93KCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICd0YXJnZXQnOiBlLnRhcmdldFxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcblx0XHRcdFx0XHJcbiAgICAgICAgICAgICAgICB0cmlnZ2VyQ3VzdG9tRXZlbnQodGhpc09iamVjdCwgJ3RhcHN0YXJ0JywgZSwgdG91Y2hEYXRhKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICByZW1vdmU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJCh0aGlzKS5vZmYoc2V0dGluZ3Muc3RhcnRldmVudCwgJCh0aGlzKS5kYXRhLmNhbGxlZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHRcclxuICAgIC8vIHRhcG1vdmUgRXZlbnQ6XHJcbiAgICAkLmV2ZW50LnNwZWNpYWwudGFwbW92ZSA9IHtcclxuICAgIFx0c2V0dXA6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgdGhpc09iamVjdCA9IHRoaXMsXHJcbiAgICAgICAgICAgICR0aGlzID0gJCh0aGlzT2JqZWN0KTtcclxuICAgIFx0XHRcdFxyXG4gICAgICAgICAgICAkdGhpcy5vbihzZXR0aW5ncy5tb3ZlZXZlbnQsIGZ1bmN0aW9uIHRhcE1vdmVGdW5jKGUpIHtcclxuICAgICAgICAgICAgICAgICR0aGlzLmRhdGEoJ2NhbGxlZScsIHRhcE1vdmVGdW5jKTtcclxuICAgIFx0XHRcdFxyXG4gICAgICAgICAgICAgICAgdmFyIG9yaWdFdmVudCA9IGUub3JpZ2luYWxFdmVudCxcclxuICAgICAgICAgICAgICAgICAgICB0b3VjaERhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdwb3NpdGlvbic6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd4JzogKChzZXR0aW5ncy50b3VjaF9jYXBhYmxlKSA/IG9yaWdFdmVudC50b3VjaGVzWzBdLnBhZ2VYIDogZS5wYWdlWCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAneSc6IChzZXR0aW5ncy50b3VjaF9jYXBhYmxlKSA/IG9yaWdFdmVudC50b3VjaGVzWzBdLnBhZ2VZIDogZS5wYWdlWVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnb2Zmc2V0Jzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3gnOiAoc2V0dGluZ3MudG91Y2hfY2FwYWJsZSkgPyBNYXRoLnJvdW5kKG9yaWdFdmVudC5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWCAtICgkdGhpcy5vZmZzZXQoKSA/ICR0aGlzLm9mZnNldCgpLmxlZnQgOiAwKSkgOiBNYXRoLnJvdW5kKGUucGFnZVggLSAoJHRoaXMub2Zmc2V0KCkgPyAkdGhpcy5vZmZzZXQoKS5sZWZ0IDogMCkpLFxyXG5cdFx0XHRcdFx0XHRcdCd5JzogKHNldHRpbmdzLnRvdWNoX2NhcGFibGUpID8gTWF0aC5yb3VuZChvcmlnRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVkgLSAoJHRoaXMub2Zmc2V0KCkgPyAkdGhpcy5vZmZzZXQoKS50b3AgOiAwKSkgOiBNYXRoLnJvdW5kKGUucGFnZVkgLSAoJHRoaXMub2Zmc2V0KCkgPyAkdGhpcy5vZmZzZXQoKS50b3AgOiAwKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3RpbWUnOiBEYXRlLm5vdygpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAndGFyZ2V0JzogZS50YXJnZXRcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgXHRcdFx0XHRcclxuICAgICAgICAgICAgICAgIHRyaWdnZXJDdXN0b21FdmVudCh0aGlzT2JqZWN0LCAndGFwbW92ZScsIGUsIHRvdWNoRGF0YSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICByZW1vdmU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAkKHRoaXMpLm9mZihzZXR0aW5ncy5tb3ZlZXZlbnQsICQodGhpcykuZGF0YS5jYWxsZWUpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy8gdGFwZW5kIEV2ZW50OlxyXG4gICAgJC5ldmVudC5zcGVjaWFsLnRhcGVuZCA9IHtcclxuICAgICAgICBzZXR1cDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgdGhpc09iamVjdCA9IHRoaXMsXHJcbiAgICAgICAgICAgICAgICAkdGhpcyA9ICQodGhpc09iamVjdCk7XHJcblxyXG4gICAgICAgICAgICAkdGhpcy5vbihzZXR0aW5ncy5lbmRldmVudCwgZnVuY3Rpb24gdGFwRW5kRnVuYyhlKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBUb3VjaCBldmVudCBkYXRhOlxyXG4gICAgICAgICAgICAgICAgJHRoaXMuZGF0YSgnY2FsbGVlJywgdGFwRW5kRnVuYyk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIG9yaWdFdmVudCA9IGUub3JpZ2luYWxFdmVudDtcclxuICAgICAgICAgICAgICAgIHZhciB0b3VjaERhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJ3Bvc2l0aW9uJzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAneCc6IChzZXR0aW5ncy50b3VjaF9jYXBhYmxlKSA/IG9yaWdFdmVudC5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWCA6IGUucGFnZVgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICd5JzogKHNldHRpbmdzLnRvdWNoX2NhcGFibGUpID8gb3JpZ0V2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VZIDogZS5wYWdlWVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgJ29mZnNldCc6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3gnOiAoc2V0dGluZ3MudG91Y2hfY2FwYWJsZSkgPyBNYXRoLnJvdW5kKG9yaWdFdmVudC5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWCAtICgkdGhpcy5vZmZzZXQoKSA/ICR0aGlzLm9mZnNldCgpLmxlZnQgOiAwKSkgOiBNYXRoLnJvdW5kKGUucGFnZVggLSAoJHRoaXMub2Zmc2V0KCkgPyAkdGhpcy5vZmZzZXQoKS5sZWZ0IDogMCkpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAneSc6IChzZXR0aW5ncy50b3VjaF9jYXBhYmxlKSA/IE1hdGgucm91bmQob3JpZ0V2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VZIC0gKCR0aGlzLm9mZnNldCgpID8gJHRoaXMub2Zmc2V0KCkudG9wIDogMCkpIDogTWF0aC5yb3VuZChlLnBhZ2VZIC0gKCR0aGlzLm9mZnNldCgpID8gJHRoaXMub2Zmc2V0KCkudG9wIDogMCkpXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAndGltZSc6IERhdGUubm93KCksXHJcbiAgICAgICAgICAgICAgICAgICAgJ3RhcmdldCc6IGUudGFyZ2V0XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgdHJpZ2dlckN1c3RvbUV2ZW50KHRoaXNPYmplY3QsICd0YXBlbmQnLCBlLCB0b3VjaERhdGEpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICQodGhpcykub2ZmKHNldHRpbmdzLmVuZGV2ZW50LCAkKHRoaXMpLmRhdGEuY2FsbGVlKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIHRhcGhvbGQgRXZlbnQ6XHJcbiAgICAkLmV2ZW50LnNwZWNpYWwudGFwaG9sZCA9IHtcclxuICAgICAgICBzZXR1cDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgdGhpc09iamVjdCA9IHRoaXMsXHJcbiAgICAgICAgICAgICAgICAkdGhpcyA9ICQodGhpc09iamVjdCksXHJcbiAgICAgICAgICAgICAgICBvcmlnVGFyZ2V0LFxyXG4gICAgICAgICAgICAgICAgc3RhcnRfcG9zID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHg6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgeTogMFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVuZF94ID0gMCxcclxuICAgICAgICAgICAgICAgIGVuZF95ID0gMDtcclxuXHJcbiAgICAgICAgICAgICR0aGlzLm9uKHNldHRpbmdzLnN0YXJ0ZXZlbnQsIGZ1bmN0aW9uIHRhcEhvbGRGdW5jMShlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZS53aGljaCAmJiBlLndoaWNoICE9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAkdGhpcy5kYXRhKCd0YXBoZWxkJywgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIG9yaWdUYXJnZXQgPSBlLnRhcmdldDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9yaWdFdmVudCA9IGUub3JpZ2luYWxFdmVudDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc3RhcnRfdGltZSA9IERhdGUubm93KCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0UG9zaXRpb24gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAneCc6IChzZXR0aW5ncy50b3VjaF9jYXBhYmxlKSA/IG9yaWdFdmVudC50b3VjaGVzWzBdLnBhZ2VYIDogZS5wYWdlWCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd5JzogKHNldHRpbmdzLnRvdWNoX2NhcGFibGUpID8gb3JpZ0V2ZW50LnRvdWNoZXNbMF0ucGFnZVkgOiBlLnBhZ2VZXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0T2Zmc2V0ID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3gnOiAoc2V0dGluZ3MudG91Y2hfY2FwYWJsZSkgPyBvcmlnRXZlbnQudG91Y2hlc1swXS5wYWdlWCAtIG9yaWdFdmVudC50b3VjaGVzWzBdLnRhcmdldC5vZmZzZXRMZWZ0IDogZS5vZmZzZXRYLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3knOiAoc2V0dGluZ3MudG91Y2hfY2FwYWJsZSkgPyBvcmlnRXZlbnQudG91Y2hlc1swXS5wYWdlWSAtIG9yaWdFdmVudC50b3VjaGVzWzBdLnRhcmdldC5vZmZzZXRUb3AgOiBlLm9mZnNldFlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRfcG9zLnggPSAoZS5vcmlnaW5hbEV2ZW50LnRhcmdldFRvdWNoZXMpID8gZS5vcmlnaW5hbEV2ZW50LnRhcmdldFRvdWNoZXNbMF0ucGFnZVggOiBlLnBhZ2VYO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0X3Bvcy55ID0gKGUub3JpZ2luYWxFdmVudC50YXJnZXRUb3VjaGVzKSA/IGUub3JpZ2luYWxFdmVudC50YXJnZXRUb3VjaGVzWzBdLnBhZ2VZIDogZS5wYWdlWTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZW5kX3ggPSBzdGFydF9wb3MueDtcclxuICAgICAgICAgICAgICAgICAgICBlbmRfeSA9IHN0YXJ0X3Bvcy55O1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEdldCB0aGUgZWxlbWVudCdzIHRocmVzaG9sZDpcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZWxlX3RocmVzaG9sZCA9ICgkdGhpcy5wYXJlbnQoKS5kYXRhKCd0aHJlc2hvbGQnKSkgPyAkdGhpcy5wYXJlbnQoKS5kYXRhKCd0aHJlc2hvbGQnKSA6ICR0aGlzLmRhdGEoJ3RocmVzaG9sZCcpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJlc2hvbGQgPSAodHlwZW9mIGVsZV90aHJlc2hvbGQgIT09ICd1bmRlZmluZWQnICYmIGVsZV90aHJlc2hvbGQgIT09IGZhbHNlICYmIHBhcnNlSW50KGVsZV90aHJlc2hvbGQpKSA/IHBhcnNlSW50KGVsZV90aHJlc2hvbGQpIDogc2V0dGluZ3MudGFwaG9sZF90aHJlc2hvbGQ7IFxyXG5cclxuICAgICAgICAgICAgICAgICAgICBzZXR0aW5ncy5ob2xkX3RpbWVyID0gd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpZmZfeCA9IChzdGFydF9wb3MueCAtIGVuZF94KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpZmZfeSA9IChzdGFydF9wb3MueSAtIGVuZF95KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldCA9PSBvcmlnVGFyZ2V0ICYmICgoc3RhcnRfcG9zLnggPT0gZW5kX3ggJiYgc3RhcnRfcG9zLnkgPT0gZW5kX3kpIHx8IChkaWZmX3ggPj0gLShzZXR0aW5ncy50YXBfcGl4ZWxfcmFuZ2UpICYmIGRpZmZfeCA8PSBzZXR0aW5ncy50YXBfcGl4ZWxfcmFuZ2UgJiYgZGlmZl95ID49IC0oc2V0dGluZ3MudGFwX3BpeGVsX3JhbmdlKSAmJiBkaWZmX3kgPD0gc2V0dGluZ3MudGFwX3BpeGVsX3JhbmdlKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLmRhdGEoJ3RhcGhlbGQnLCB0cnVlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZW5kX3RpbWUgPSBEYXRlLm5vdygpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZHVyYXRpb24gID0gZW5kX3RpbWUgLSBzdGFydF90aW1lLFxyXG5cdFx0XHRcdFx0XHRcdFx0dG91Y2hlcyAgID0gKGUub3JpZ2luYWxFdmVudC50YXJnZXRUb3VjaGVzKSA/IGUub3JpZ2luYWxFdmVudC50YXJnZXRUb3VjaGVzIDogWyBlIF0sXHJcblx0XHRcdFx0XHRcdFx0XHR0b3VjaERhdGEgPSBbIF07XHJcblx0XHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdFx0Zm9yKCB2YXIgaSA9IDA7IGkgPCB0b3VjaGVzLmxlbmd0aDsgaSsrKVxyXG5cdFx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcdHZhciB0b3VjaCA9IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0J3Bvc2l0aW9uJzoge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCd4JzogKHNldHRpbmdzLnRvdWNoX2NhcGFibGUpID8gb3JpZ0V2ZW50LmNoYW5nZWRUb3VjaGVzW2ldLnBhZ2VYIDogZS5wYWdlWCxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQneSc6IChzZXR0aW5ncy50b3VjaF9jYXBhYmxlKSA/IG9yaWdFdmVudC5jaGFuZ2VkVG91Y2hlc1tpXS5wYWdlWSA6IGUucGFnZVlcclxuXHRcdFx0XHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0J29mZnNldCc6IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQneCc6IChzZXR0aW5ncy50b3VjaF9jYXBhYmxlKSA/IE1hdGgucm91bmQob3JpZ0V2ZW50LmNoYW5nZWRUb3VjaGVzW2ldLnBhZ2VYIC0gKCR0aGlzLm9mZnNldCgpID8gJHRoaXMub2Zmc2V0KCkubGVmdCA6IDApKSA6IE1hdGgucm91bmQoZS5wYWdlWCAtICgkdGhpcy5vZmZzZXQoKSA/ICR0aGlzLm9mZnNldCgpLmxlZnQgOiAwKSksXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0J3knOiAoc2V0dGluZ3MudG91Y2hfY2FwYWJsZSkgPyBNYXRoLnJvdW5kKG9yaWdFdmVudC5jaGFuZ2VkVG91Y2hlc1tpXS5wYWdlWSAtICgkdGhpcy5vZmZzZXQoKSA/ICR0aGlzLm9mZnNldCgpLnRvcCA6IDApKSA6IE1hdGgucm91bmQoZS5wYWdlWSAtICgkdGhpcy5vZmZzZXQoKSA/ICR0aGlzLm9mZnNldCgpLnRvcCA6IDApKVxyXG5cdFx0XHRcdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRcdFx0XHQndGltZSc6IERhdGUubm93KCksXHJcblx0XHRcdFx0XHRcdFx0XHRcdCd0YXJnZXQnOiBlLnRhcmdldCxcclxuXHRcdFx0XHRcdFx0XHRcdFx0J2R1cmF0aW9uJzogZHVyYXRpb25cclxuXHRcdFx0XHRcdFx0XHRcdH07XHJcblx0XHRcdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0XHRcdHRvdWNoRGF0YS5wdXNoKCB0b3VjaCApO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0XHR2YXIgZXZ0X25hbWUgPSAoIHRvdWNoZXMubGVuZ3RoID09IDIgKSA/ICd0YXBob2xkMicgOiAndGFwaG9sZCc7XHJcblx0XHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdFx0JHRoaXMuZGF0YSgnY2FsbGVlMScsIHRhcEhvbGRGdW5jMSk7XHJcblx0XHRcdFx0XHRcdFx0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyQ3VzdG9tRXZlbnQodGhpc09iamVjdCwgZXZ0X25hbWUsIGUsIHRvdWNoRGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9LCB0aHJlc2hvbGQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSkub24oc2V0dGluZ3MuZW5kZXZlbnQsIGZ1bmN0aW9uIHRhcEhvbGRGdW5jMigpIHtcclxuICAgICAgICAgICAgICAgICR0aGlzLmRhdGEoJ2NhbGxlZTInLCB0YXBIb2xkRnVuYzIpO1xyXG4gICAgICAgICAgICAgICAgJHRoaXMuZGF0YSgndGFwaGVsZCcsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQoc2V0dGluZ3MuaG9sZF90aW1lcik7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbihzZXR0aW5ncy5tb3ZlZXZlbnQsIGZ1bmN0aW9uIHRhcEhvbGRGdW5jMyhlKSB7XHJcbiAgICAgICAgICAgICAgICAkdGhpcy5kYXRhKCdjYWxsZWUzJywgdGFwSG9sZEZ1bmMzKTtcclxuXHRcdFx0XHRcclxuICAgICAgICAgICAgICAgIGVuZF94ID0gKGUub3JpZ2luYWxFdmVudC50YXJnZXRUb3VjaGVzKSA/IGUub3JpZ2luYWxFdmVudC50YXJnZXRUb3VjaGVzWzBdLnBhZ2VYIDogZS5wYWdlWDtcclxuICAgICAgICAgICAgICAgIGVuZF95ID0gKGUub3JpZ2luYWxFdmVudC50YXJnZXRUb3VjaGVzKSA/IGUub3JpZ2luYWxFdmVudC50YXJnZXRUb3VjaGVzWzBdLnBhZ2VZIDogZS5wYWdlWTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICQodGhpcykub2ZmKHNldHRpbmdzLnN0YXJ0ZXZlbnQsICQodGhpcykuZGF0YS5jYWxsZWUxKS5vZmYoc2V0dGluZ3MuZW5kZXZlbnQsICQodGhpcykuZGF0YS5jYWxsZWUyKS5vZmYoc2V0dGluZ3MubW92ZWV2ZW50LCAkKHRoaXMpLmRhdGEuY2FsbGVlMyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBkb3VibGV0YXAgRXZlbnQ6XHJcbiAgICAkLmV2ZW50LnNwZWNpYWwuZG91YmxldGFwID0ge1xyXG4gICAgICAgIHNldHVwOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciB0aGlzT2JqZWN0ID0gdGhpcyxcclxuICAgICAgICAgICAgICAgICR0aGlzID0gJCh0aGlzT2JqZWN0KSxcclxuICAgICAgICAgICAgICAgIG9yaWdUYXJnZXQsXHJcbiAgICAgICAgICAgICAgICBhY3Rpb24sXHJcbiAgICAgICAgICAgICAgICBmaXJzdFRhcCA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBvcmlnRXZlbnQsXHJcblx0XHRcdFx0Y29vbG9mZixcclxuXHRcdFx0XHRjb29saW5nID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAkdGhpcy5vbihzZXR0aW5ncy5zdGFydGV2ZW50LCBmdW5jdGlvbiBkb3VibGVUYXBGdW5jMShlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZS53aGljaCAmJiBlLndoaWNoICE9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAkdGhpcy5kYXRhKCdkb3VibGV0YXBwZWQnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICBvcmlnVGFyZ2V0ID0gZS50YXJnZXQ7XHJcbiAgICAgICAgICAgICAgICAkdGhpcy5kYXRhKCdjYWxsZWUxJywgZG91YmxlVGFwRnVuYzEpO1xyXG5cclxuICAgICAgICAgICAgICAgIG9yaWdFdmVudCA9IGUub3JpZ2luYWxFdmVudDtcclxuICAgICAgICAgICAgICAgIGlmICghZmlyc3RUYXApIHtcclxuICAgICAgICAgICAgICAgICAgICBmaXJzdFRhcCA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3Bvc2l0aW9uJzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3gnOiAoc2V0dGluZ3MudG91Y2hfY2FwYWJsZSkgPyBvcmlnRXZlbnQudG91Y2hlc1swXS5wYWdlWCA6IGUucGFnZVgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAneSc6IChzZXR0aW5ncy50b3VjaF9jYXBhYmxlKSA/IG9yaWdFdmVudC50b3VjaGVzWzBdLnBhZ2VZIDogZS5wYWdlWVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnb2Zmc2V0Jzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3gnOiAoc2V0dGluZ3MudG91Y2hfY2FwYWJsZSkgPyBNYXRoLnJvdW5kKG9yaWdFdmVudC5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWCAtICgkdGhpcy5vZmZzZXQoKSA/ICR0aGlzLm9mZnNldCgpLmxlZnQgOiAwKSkgOiBNYXRoLnJvdW5kKGUucGFnZVggLSAoJHRoaXMub2Zmc2V0KCkgPyAkdGhpcy5vZmZzZXQoKS5sZWZ0IDogMCkpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3knOiAoc2V0dGluZ3MudG91Y2hfY2FwYWJsZSkgPyBNYXRoLnJvdW5kKG9yaWdFdmVudC5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWSAtICgkdGhpcy5vZmZzZXQoKSA/ICR0aGlzLm9mZnNldCgpLnRvcCA6IDApKSA6IE1hdGgucm91bmQoZS5wYWdlWSAtICgkdGhpcy5vZmZzZXQoKSA/ICR0aGlzLm9mZnNldCgpLnRvcCA6IDApKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAndGltZSc6IERhdGUubm93KCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICd0YXJnZXQnOiBlLnRhcmdldCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ2VsZW1lbnQnOiBlLm9yaWdpbmFsRXZlbnQuc3JjRWxlbWVudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ2luZGV4JzogICAkKGUudGFyZ2V0KS5pbmRleCgpXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfSkub24oc2V0dGluZ3MuZW5kZXZlbnQsIGZ1bmN0aW9uIGRvdWJsZVRhcEZ1bmMyKGUpIHtcclxuXHRcdFx0XHRcclxuICAgICAgICAgICAgICAgIHZhciBub3cgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGxhc3RUb3VjaCA9ICR0aGlzLmRhdGEoJ2xhc3RUb3VjaCcpIHx8IG5vdyArIDE7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGVsdGEgPSBub3cgLSBsYXN0VG91Y2g7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KGFjdGlvbik7XHJcbiAgICAgICAgICAgICAgICAkdGhpcy5kYXRhKCdjYWxsZWUyJywgZG91YmxlVGFwRnVuYzIpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChkZWx0YSA8IHNldHRpbmdzLmRvdWJsZXRhcF9pbnQgJiYgKCQoZS50YXJnZXQpLmluZGV4KCkgPT0gZmlyc3RUYXAuaW5kZXgpICYmIGRlbHRhID4gMTAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHRoaXMuZGF0YSgnZG91YmxldGFwcGVkJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmNsZWFyVGltZW91dChzZXR0aW5ncy50YXBfdGltZXIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBOb3cgZ2V0IHRoZSBjdXJyZW50IGV2ZW50OlxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBsYXN0VGFwID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAncG9zaXRpb24nOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAneCc6IChzZXR0aW5ncy50b3VjaF9jYXBhYmxlKSA/IGUub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWCA6IGUucGFnZVgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAneSc6IChzZXR0aW5ncy50b3VjaF9jYXBhYmxlKSA/IGUub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWSA6IGUucGFnZVlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ29mZnNldCc6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd4JzogKHNldHRpbmdzLnRvdWNoX2NhcGFibGUpID8gTWF0aC5yb3VuZChvcmlnRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVggLSAoJHRoaXMub2Zmc2V0KCkgPyAkdGhpcy5vZmZzZXQoKS5sZWZ0IDogMCkpIDogTWF0aC5yb3VuZChlLnBhZ2VYIC0gKCR0aGlzLm9mZnNldCgpID8gJHRoaXMub2Zmc2V0KCkubGVmdCA6IDApKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd5JzogKHNldHRpbmdzLnRvdWNoX2NhcGFibGUpID8gTWF0aC5yb3VuZChvcmlnRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVkgLSAoJHRoaXMub2Zmc2V0KCkgPyAkdGhpcy5vZmZzZXQoKS50b3AgOiAwKSkgOiBNYXRoLnJvdW5kKGUucGFnZVkgLSAoJHRoaXMub2Zmc2V0KCkgPyAkdGhpcy5vZmZzZXQoKS50b3AgOiAwKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3RpbWUnOiBEYXRlLm5vdygpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAndGFyZ2V0JzogZS50YXJnZXQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdlbGVtZW50JzogZS5vcmlnaW5hbEV2ZW50LnNyY0VsZW1lbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdpbmRleCc6ICQoZS50YXJnZXQpLmluZGV4KClcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgdG91Y2hEYXRhID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnZmlyc3RUYXAnOiBmaXJzdFRhcCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3NlY29uZFRhcCc6IGxhc3RUYXAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdpbnRlcnZhbCc6IGxhc3RUYXAudGltZSAtIGZpcnN0VGFwLnRpbWVcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWNvb2xpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICBcdHRyaWdnZXJDdXN0b21FdmVudCh0aGlzT2JqZWN0LCAnZG91YmxldGFwJywgZSwgdG91Y2hEYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3RUYXAgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICBjb29saW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICBjb29sb2ZmID0gd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIFx0Y29vbGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIHNldHRpbmdzLmRvdWJsZXRhcF9pbnQpO1xyXG5cdFx0XHRcdFx0XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICR0aGlzLmRhdGEoJ2xhc3RUb3VjaCcsIG5vdyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uID0gd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaXJzdFRhcCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQoYWN0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBzZXR0aW5ncy5kb3VibGV0YXBfaW50LCBbZV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgJHRoaXMuZGF0YSgnbGFzdFRvdWNoJywgbm93KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICByZW1vdmU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJCh0aGlzKS5vZmYoc2V0dGluZ3Muc3RhcnRldmVudCwgJCh0aGlzKS5kYXRhLmNhbGxlZTEpLm9mZihzZXR0aW5ncy5lbmRldmVudCwgJCh0aGlzKS5kYXRhLmNhbGxlZTIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy8gc2luZ2xldGFwIEV2ZW50OlxyXG4gICAgLy8gVGhpcyBpcyB1c2VkIGluIGNvbmp1Y3Rpb24gd2l0aCBkb3VibGV0YXAgd2hlbiBib3RoIGV2ZW50cyBhcmUgbmVlZGVkIG9uIHRoZSBzYW1lIGVsZW1lbnRcclxuICAgICQuZXZlbnQuc3BlY2lhbC5zaW5nbGV0YXAgPSB7XHJcbiAgICAgICAgc2V0dXA6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHRoaXNPYmplY3QgPSB0aGlzLFxyXG4gICAgICAgICAgICAgICAgJHRoaXMgPSAkKHRoaXNPYmplY3QpLFxyXG4gICAgICAgICAgICAgICAgb3JpZ1RhcmdldCA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBzdGFydFRpbWUgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgc3RhcnRfcG9zID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHg6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgeTogMFxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICR0aGlzLm9uKHNldHRpbmdzLnN0YXJ0ZXZlbnQsIGZ1bmN0aW9uIHNpbmdsZVRhcEZ1bmMxKGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlLndoaWNoICYmIGUud2hpY2ggIT09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0VGltZSA9IERhdGUubm93KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgb3JpZ1RhcmdldCA9IGUudGFyZ2V0O1xyXG4gICAgICAgICAgICAgICAgICAgICR0aGlzLmRhdGEoJ2NhbGxlZTEnLCBzaW5nbGVUYXBGdW5jMSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEdldCB0aGUgc3RhcnQgeCBhbmQgeSBwb3NpdGlvbjpcclxuICAgICAgICAgICAgICAgICAgICBzdGFydF9wb3MueCA9IChlLm9yaWdpbmFsRXZlbnQudGFyZ2V0VG91Y2hlcykgPyBlLm9yaWdpbmFsRXZlbnQudGFyZ2V0VG91Y2hlc1swXS5wYWdlWCA6IGUucGFnZVg7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRfcG9zLnkgPSAoZS5vcmlnaW5hbEV2ZW50LnRhcmdldFRvdWNoZXMpID8gZS5vcmlnaW5hbEV2ZW50LnRhcmdldFRvdWNoZXNbMF0ucGFnZVkgOiBlLnBhZ2VZO1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KS5vbihzZXR0aW5ncy5lbmRldmVudCwgZnVuY3Rpb24gc2luZ2xlVGFwRnVuYzIoZSkge1xyXG4gICAgICAgICAgICAgICAgJHRoaXMuZGF0YSgnY2FsbGVlMicsIHNpbmdsZVRhcEZ1bmMyKTtcclxuICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldCA9PSBvcmlnVGFyZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gR2V0IHRoZSBlbmQgcG9pbnQ6XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVuZF9wb3NfeCA9IChlLm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXMpID8gZS5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VYIDogZS5wYWdlWCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kX3Bvc195ID0gKGUub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlcykgPyBlLm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVkgOiBlLnBhZ2VZO1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFdlIG5lZWQgdG8gY2hlY2sgaWYgaXQgd2FzIGEgdGFwaG9sZDpcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3MudGFwX3RpbWVyID0gd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpZmZfeCA9IChzdGFydF9wb3MueCAtIGVuZF9wb3NfeCksIGRpZmZfeSA9IChzdGFydF9wb3MueSAtIGVuZF9wb3NfeSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZighJHRoaXMuZGF0YSgnZG91YmxldGFwcGVkJykgJiYgISR0aGlzLmRhdGEoJ3RhcGhlbGQnKSAmJiAoKChzdGFydF9wb3MueCA9PSBlbmRfcG9zX3gpICYmIChzdGFydF9wb3MueSA9PSBlbmRfcG9zX3kpKSB8fCAoZGlmZl94ID49IC0oc2V0dGluZ3MudGFwX3BpeGVsX3JhbmdlKSAmJiBkaWZmX3ggPD0gc2V0dGluZ3MudGFwX3BpeGVsX3JhbmdlICYmIGRpZmZfeSA+PSAtKHNldHRpbmdzLnRhcF9waXhlbF9yYW5nZSkgJiYgZGlmZl95IDw9IHNldHRpbmdzLnRhcF9waXhlbF9yYW5nZSkpKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9yaWdFdmVudCA9IGUub3JpZ2luYWxFdmVudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0b3VjaERhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Bvc2l0aW9uJzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAneCc6IChzZXR0aW5ncy50b3VjaF9jYXBhYmxlKSA/IG9yaWdFdmVudC5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWCA6IGUucGFnZVgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd5JzogKHNldHRpbmdzLnRvdWNoX2NhcGFibGUpID8gb3JpZ0V2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VZIDogZS5wYWdlWVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ29mZnNldCc6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3gnOiAoc2V0dGluZ3MudG91Y2hfY2FwYWJsZSkgPyBNYXRoLnJvdW5kKG9yaWdFdmVudC5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWCAtICgkdGhpcy5vZmZzZXQoKSA/ICR0aGlzLm9mZnNldCgpLmxlZnQgOiAwKSkgOiBNYXRoLnJvdW5kKGUucGFnZVggLSAoJHRoaXMub2Zmc2V0KCkgPyAkdGhpcy5vZmZzZXQoKS5sZWZ0IDogMCkpLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHQneSc6IChzZXR0aW5ncy50b3VjaF9jYXBhYmxlKSA/IE1hdGgucm91bmQob3JpZ0V2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VZIC0gKCR0aGlzLm9mZnNldCgpID8gJHRoaXMub2Zmc2V0KCkudG9wIDogMCkpIDogTWF0aC5yb3VuZChlLnBhZ2VZIC0gKCR0aGlzLm9mZnNldCgpID8gJHRoaXMub2Zmc2V0KCkudG9wIDogMCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndGltZSc6IERhdGUubm93KCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RhcmdldCc6IGUudGFyZ2V0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBXYXMgaXQgYSB0YXBob2xkP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoKHRvdWNoRGF0YS50aW1lIC0gc3RhcnRUaW1lKSA8IHNldHRpbmdzLnRhcGhvbGRfdGhyZXNob2xkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyaWdnZXJDdXN0b21FdmVudCh0aGlzT2JqZWN0LCAnc2luZ2xldGFwJywgZSwgdG91Y2hEYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0sIHNldHRpbmdzLmRvdWJsZXRhcF9pbnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICByZW1vdmU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJCh0aGlzKS5vZmYoc2V0dGluZ3Muc3RhcnRldmVudCwgJCh0aGlzKS5kYXRhLmNhbGxlZTEpLm9mZihzZXR0aW5ncy5lbmRldmVudCwgJCh0aGlzKS5kYXRhLmNhbGxlZTIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy8gdGFwIEV2ZW50OlxyXG4gICAgJC5ldmVudC5zcGVjaWFsLnRhcCA9IHtcclxuICAgICAgICBzZXR1cDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgdGhpc09iamVjdCA9IHRoaXMsXHJcbiAgICAgICAgICAgICAgICAkdGhpcyA9ICQodGhpc09iamVjdCksXHJcbiAgICAgICAgICAgICAgICBzdGFydGVkID0gZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBvcmlnVGFyZ2V0ID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIHN0YXJ0X3RpbWUsXHJcbiAgICAgICAgICAgICAgICBzdGFydF9wb3MgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeDogMCxcclxuICAgICAgICAgICAgICAgICAgICB5OiAwXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgdG91Y2hlcztcclxuXHJcbiAgICAgICAgICAgICR0aGlzLm9uKHNldHRpbmdzLnN0YXJ0ZXZlbnQsIGZ1bmN0aW9uIHRhcEZ1bmMxKGUpIHtcclxuICAgICAgICAgICAgICAgICR0aGlzLmRhdGEoJ2NhbGxlZTEnLCB0YXBGdW5jMSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYoIGUud2hpY2ggJiYgZS53aGljaCAhPT0gMSApXHJcblx0XHRcdFx0e1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0e1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0X3Bvcy54ID0gKGUub3JpZ2luYWxFdmVudC50YXJnZXRUb3VjaGVzKSA/IGUub3JpZ2luYWxFdmVudC50YXJnZXRUb3VjaGVzWzBdLnBhZ2VYIDogZS5wYWdlWDtcclxuICAgICAgICAgICAgICAgICAgICBzdGFydF9wb3MueSA9IChlLm9yaWdpbmFsRXZlbnQudGFyZ2V0VG91Y2hlcykgPyBlLm9yaWdpbmFsRXZlbnQudGFyZ2V0VG91Y2hlc1swXS5wYWdlWSA6IGUucGFnZVk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRfdGltZSA9IERhdGUubm93KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgb3JpZ1RhcmdldCA9IGUudGFyZ2V0O1xyXG5cdFx0XHRcdFx0XHJcbiAgICAgICAgICAgICAgICAgICAgdG91Y2hlcyA9IChlLm9yaWdpbmFsRXZlbnQudGFyZ2V0VG91Y2hlcykgPyBlLm9yaWdpbmFsRXZlbnQudGFyZ2V0VG91Y2hlcyA6IFsgZSBdO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KS5vbihzZXR0aW5ncy5lbmRldmVudCwgZnVuY3Rpb24gdGFwRnVuYzIoZSkge1xyXG4gICAgICAgICAgICAgICAgJHRoaXMuZGF0YSgnY2FsbGVlMicsIHRhcEZ1bmMyKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBPbmx5IHRyaWdnZXIgaWYgdGhleSd2ZSBzdGFydGVkLCBhbmQgdGhlIHRhcmdldCBtYXRjaGVzOlxyXG4gICAgICAgICAgICAgICAgdmFyIGVuZF94ID0gKGUub3JpZ2luYWxFdmVudC50YXJnZXRUb3VjaGVzKSA/IGUub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWCA6IGUucGFnZVgsXHJcbiAgICAgICAgICAgICAgICAgICAgZW5kX3kgPSAoZS5vcmlnaW5hbEV2ZW50LnRhcmdldFRvdWNoZXMpID8gZS5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VZIDogZS5wYWdlWSxcclxuICAgICAgICAgICAgICAgICAgICBkaWZmX3ggPSAoc3RhcnRfcG9zLnggLSBlbmRfeCksXHJcbiAgICAgICAgICAgICAgICAgICAgZGlmZl95ID0gKHN0YXJ0X3Bvcy55IC0gZW5kX3kpLFxyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50TmFtZTtcclxuXHRcdFx0XHRcdFxyXG4gICAgICAgICAgICAgICAgaWYgKG9yaWdUYXJnZXQgPT0gZS50YXJnZXQgJiYgc3RhcnRlZCAmJiAoKERhdGUubm93KCkgLSBzdGFydF90aW1lKSA8IHNldHRpbmdzLnRhcGhvbGRfdGhyZXNob2xkKSAmJiAoKHN0YXJ0X3Bvcy54ID09IGVuZF94ICYmIHN0YXJ0X3Bvcy55ID09IGVuZF95KSB8fCAoZGlmZl94ID49IC0oc2V0dGluZ3MudGFwX3BpeGVsX3JhbmdlKSAmJiBkaWZmX3ggPD0gc2V0dGluZ3MudGFwX3BpeGVsX3JhbmdlICYmIGRpZmZfeSA+PSAtKHNldHRpbmdzLnRhcF9waXhlbF9yYW5nZSkgJiYgZGlmZl95IDw9IHNldHRpbmdzLnRhcF9waXhlbF9yYW5nZSkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9yaWdFdmVudCA9IGUub3JpZ2luYWxFdmVudDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdG91Y2hEYXRhID0gWyBdO1xyXG5cdFx0XHRcdFx0XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yKCB2YXIgaSA9IDA7IGkgPCB0b3VjaGVzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRvdWNoID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Bvc2l0aW9uJzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd4JzogKHNldHRpbmdzLnRvdWNoX2NhcGFibGUpID8gb3JpZ0V2ZW50LmNoYW5nZWRUb3VjaGVzW2ldLnBhZ2VYIDogZS5wYWdlWCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAneSc6IChzZXR0aW5ncy50b3VjaF9jYXBhYmxlKSA/IG9yaWdFdmVudC5jaGFuZ2VkVG91Y2hlc1tpXS5wYWdlWSA6IGUucGFnZVlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnb2Zmc2V0Jzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd4JzogKHNldHRpbmdzLnRvdWNoX2NhcGFibGUpID8gTWF0aC5yb3VuZChvcmlnRXZlbnQuY2hhbmdlZFRvdWNoZXNbaV0ucGFnZVggLSAoJHRoaXMub2Zmc2V0KCkgPyAkdGhpcy5vZmZzZXQoKS5sZWZ0IDogMCkpIDogTWF0aC5yb3VuZChlLnBhZ2VYIC0gKCR0aGlzLm9mZnNldCgpID8gJHRoaXMub2Zmc2V0KCkubGVmdCA6IDApKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAneSc6IChzZXR0aW5ncy50b3VjaF9jYXBhYmxlKSA/IE1hdGgucm91bmQob3JpZ0V2ZW50LmNoYW5nZWRUb3VjaGVzW2ldLnBhZ2VZIC0gKCR0aGlzLm9mZnNldCgpID8gJHRoaXMub2Zmc2V0KCkudG9wIDogMCkpIDogTWF0aC5yb3VuZChlLnBhZ2VZIC0gKCR0aGlzLm9mZnNldCgpID8gJHRoaXMub2Zmc2V0KCkudG9wIDogMCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RpbWUnOiBEYXRlLm5vdygpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RhcmdldCc6IGUudGFyZ2V0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgXHRcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG91Y2hEYXRhLnB1c2goIHRvdWNoICk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIFxyXG5cdFx0XHRcdFx0dmFyIGV2dF9uYW1lID0gKCB0b3VjaGVzLmxlbmd0aCA9PSAyICkgPyAndGFwMicgOiAndGFwJztcclxuXHRcdFx0XHRcdFxyXG4gICAgICAgICAgICAgICAgICAgIHRyaWdnZXJDdXN0b21FdmVudCh0aGlzT2JqZWN0LCBldnRfbmFtZSwgZSwgdG91Y2hEYXRhKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICQodGhpcykub2ZmKHNldHRpbmdzLnN0YXJ0ZXZlbnQsICQodGhpcykuZGF0YS5jYWxsZWUxKS5vZmYoc2V0dGluZ3MuZW5kZXZlbnQsICQodGhpcykuZGF0YS5jYWxsZWUyKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIHN3aXBlIEV2ZW50IChhbHNvIGhhbmRsZXMgc3dpcGV1cCwgc3dpcGVyaWdodCwgc3dpcGVkb3duIGFuZCBzd2lwZWxlZnQpOlxyXG4gICAgJC5ldmVudC5zcGVjaWFsLnN3aXBlID0ge1xyXG4gICAgICAgIHNldHVwOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciB0aGlzT2JqZWN0ID0gdGhpcyxcclxuICAgICAgICAgICAgICAgICR0aGlzID0gJCh0aGlzT2JqZWN0KSxcclxuICAgICAgICAgICAgICAgIHN0YXJ0ZWQgPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGhhc1N3aXBlZCA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgb3JpZ2luYWxDb29yZCA9IHtcclxuICAgICAgICAgICAgICAgICAgICB4OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIHk6IDBcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmaW5hbENvb3JkID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHg6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgeTogMFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHN0YXJ0RXZudDtcclxuXHJcbiAgICAgICAgICAgIC8vIFNjcmVlbiB0b3VjaGVkLCBzdG9yZSB0aGUgb3JpZ2luYWwgY29vcmRpbmF0ZVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gdG91Y2hTdGFydChlKSB7XHJcbiAgICAgICAgICAgICAgICAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgICR0aGlzLmRhdGEoJ2NhbGxlZTEnLCB0b3VjaFN0YXJ0KTtcclxuICAgICAgICAgICAgICAgIG9yaWdpbmFsQ29vcmQueCA9IChlLm9yaWdpbmFsRXZlbnQudGFyZ2V0VG91Y2hlcykgPyBlLm9yaWdpbmFsRXZlbnQudGFyZ2V0VG91Y2hlc1swXS5wYWdlWCA6IGUucGFnZVg7XHJcbiAgICAgICAgICAgICAgICBvcmlnaW5hbENvb3JkLnkgPSAoZS5vcmlnaW5hbEV2ZW50LnRhcmdldFRvdWNoZXMpID8gZS5vcmlnaW5hbEV2ZW50LnRhcmdldFRvdWNoZXNbMF0ucGFnZVkgOiBlLnBhZ2VZO1xyXG4gICAgICAgICAgICAgICAgZmluYWxDb29yZC54ID0gb3JpZ2luYWxDb29yZC54O1xyXG4gICAgICAgICAgICAgICAgZmluYWxDb29yZC55ID0gb3JpZ2luYWxDb29yZC55O1xyXG4gICAgICAgICAgICAgICAgc3RhcnRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB2YXIgb3JpZ0V2ZW50ID0gZS5vcmlnaW5hbEV2ZW50O1xyXG4gICAgICAgICAgICAgICAgLy8gUmVhZCBldmVudCBkYXRhIGludG8gb3VyIHN0YXJ0RXZ0OlxyXG4gICAgICAgICAgICAgICAgc3RhcnRFdm50ID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICdwb3NpdGlvbic6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3gnOiAoc2V0dGluZ3MudG91Y2hfY2FwYWJsZSkgPyBvcmlnRXZlbnQudG91Y2hlc1swXS5wYWdlWCA6IGUucGFnZVgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICd5JzogKHNldHRpbmdzLnRvdWNoX2NhcGFibGUpID8gb3JpZ0V2ZW50LnRvdWNoZXNbMF0ucGFnZVkgOiBlLnBhZ2VZXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAnb2Zmc2V0Jzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAneCc6IChzZXR0aW5ncy50b3VjaF9jYXBhYmxlKSA/IE1hdGgucm91bmQob3JpZ0V2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VYIC0gKCR0aGlzLm9mZnNldCgpID8gJHRoaXMub2Zmc2V0KCkubGVmdCA6IDApKSA6IE1hdGgucm91bmQoZS5wYWdlWCAtICgkdGhpcy5vZmZzZXQoKSA/ICR0aGlzLm9mZnNldCgpLmxlZnQgOiAwKSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICd5JzogKHNldHRpbmdzLnRvdWNoX2NhcGFibGUpID8gTWF0aC5yb3VuZChvcmlnRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVkgLSAoJHRoaXMub2Zmc2V0KCkgPyAkdGhpcy5vZmZzZXQoKS50b3AgOiAwKSkgOiBNYXRoLnJvdW5kKGUucGFnZVkgLSAoJHRoaXMub2Zmc2V0KCkgPyAkdGhpcy5vZmZzZXQoKS50b3AgOiAwKSlcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICd0aW1lJzogRGF0ZS5ub3coKSxcclxuICAgICAgICAgICAgICAgICAgICAndGFyZ2V0JzogZS50YXJnZXRcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFN0b3JlIGNvb3JkaW5hdGVzIGFzIGZpbmdlciBpcyBzd2lwaW5nXHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiB0b3VjaE1vdmUoZSkge1xyXG4gICAgICAgICAgICAgICAgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICAkdGhpcy5kYXRhKCdjYWxsZWUyJywgdG91Y2hNb3ZlKTtcclxuICAgICAgICAgICAgICAgIGZpbmFsQ29vcmQueCA9IChlLm9yaWdpbmFsRXZlbnQudGFyZ2V0VG91Y2hlcykgPyBlLm9yaWdpbmFsRXZlbnQudGFyZ2V0VG91Y2hlc1swXS5wYWdlWCA6IGUucGFnZVg7XHJcbiAgICAgICAgICAgICAgICBmaW5hbENvb3JkLnkgPSAoZS5vcmlnaW5hbEV2ZW50LnRhcmdldFRvdWNoZXMpID8gZS5vcmlnaW5hbEV2ZW50LnRhcmdldFRvdWNoZXNbMF0ucGFnZVkgOiBlLnBhZ2VZO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBzd2lwZWRpcjtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBXZSBuZWVkIHRvIGNoZWNrIGlmIHRoZSBlbGVtZW50IHRvIHdoaWNoIHRoZSBldmVudCB3YXMgYm91bmQgY29udGFpbnMgYSBkYXRhLXh0aHJlc2hvbGQgfCBkYXRhLXZ0aHJlc2hvbGQ6XHJcbiAgICAgICAgICAgICAgICB2YXIgZWxlX3hfdGhyZXNob2xkID0gKCR0aGlzLnBhcmVudCgpLmRhdGEoJ3h0aHJlc2hvbGQnKSkgPyAkdGhpcy5wYXJlbnQoKS5kYXRhKCd4dGhyZXNob2xkJykgOiAkdGhpcy5kYXRhKCd4dGhyZXNob2xkJyksXHJcbiAgICAgICAgICAgICAgICAgICAgZWxlX3lfdGhyZXNob2xkID0gKCR0aGlzLnBhcmVudCgpLmRhdGEoJ3l0aHJlc2hvbGQnKSkgPyAkdGhpcy5wYXJlbnQoKS5kYXRhKCd5dGhyZXNob2xkJykgOiAkdGhpcy5kYXRhKCd5dGhyZXNob2xkJyksXHJcbiAgICAgICAgICAgICAgICAgICAgaF90aHJlc2hvbGQgPSAodHlwZW9mIGVsZV94X3RocmVzaG9sZCAhPT0gJ3VuZGVmaW5lZCcgJiYgZWxlX3hfdGhyZXNob2xkICE9PSBmYWxzZSAmJiBwYXJzZUludChlbGVfeF90aHJlc2hvbGQpKSA/IHBhcnNlSW50KGVsZV94X3RocmVzaG9sZCkgOiBzZXR0aW5ncy5zd2lwZV9oX3RocmVzaG9sZCxcclxuICAgICAgICAgICAgICAgICAgICB2X3RocmVzaG9sZCA9ICh0eXBlb2YgZWxlX3lfdGhyZXNob2xkICE9PSAndW5kZWZpbmVkJyAmJiBlbGVfeV90aHJlc2hvbGQgIT09IGZhbHNlICYmIHBhcnNlSW50KGVsZV95X3RocmVzaG9sZCkpID8gcGFyc2VJbnQoZWxlX3lfdGhyZXNob2xkKSA6IHNldHRpbmdzLnN3aXBlX3ZfdGhyZXNob2xkOyBcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgaWYgKG9yaWdpbmFsQ29vcmQueSA+IGZpbmFsQ29vcmQueSAmJiAob3JpZ2luYWxDb29yZC55IC0gZmluYWxDb29yZC55ID4gdl90aHJlc2hvbGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3dpcGVkaXIgPSAnc3dpcGV1cCc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAob3JpZ2luYWxDb29yZC54IDwgZmluYWxDb29yZC54ICYmIChmaW5hbENvb3JkLnggLSBvcmlnaW5hbENvb3JkLnggPiBoX3RocmVzaG9sZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBzd2lwZWRpciA9ICdzd2lwZXJpZ2h0JztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChvcmlnaW5hbENvb3JkLnkgPCBmaW5hbENvb3JkLnkgJiYgKGZpbmFsQ29vcmQueSAtIG9yaWdpbmFsQ29vcmQueSA+IHZfdGhyZXNob2xkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN3aXBlZGlyID0gJ3N3aXBlZG93bic7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAob3JpZ2luYWxDb29yZC54ID4gZmluYWxDb29yZC54ICYmIChvcmlnaW5hbENvb3JkLnggLSBmaW5hbENvb3JkLnggPiBoX3RocmVzaG9sZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBzd2lwZWRpciA9ICdzd2lwZWxlZnQnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHN3aXBlZGlyICE9IHVuZGVmaW5lZCAmJiBzdGFydGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxDb29yZC54ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbENvb3JkLnkgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbmFsQ29vcmQueCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgZmluYWxDb29yZC55ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBzdGFydGVkID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFJlYWQgZXZlbnQgZGF0YSBpbnRvIG91ciBlbmRFdm50OlxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBvcmlnRXZlbnQgPSBlLm9yaWdpbmFsRXZlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVuZEV2bnQgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdwb3NpdGlvbic6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd4JzogKHNldHRpbmdzLnRvdWNoX2NhcGFibGUpID8gb3JpZ0V2ZW50LnRvdWNoZXNbMF0ucGFnZVggOiBlLnBhZ2VYLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3knOiAoc2V0dGluZ3MudG91Y2hfY2FwYWJsZSkgPyBvcmlnRXZlbnQudG91Y2hlc1swXS5wYWdlWSA6IGUucGFnZVlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ29mZnNldCc6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd4JzogKHNldHRpbmdzLnRvdWNoX2NhcGFibGUpID8gTWF0aC5yb3VuZChvcmlnRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVggLSAoJHRoaXMub2Zmc2V0KCkgPyAkdGhpcy5vZmZzZXQoKS5sZWZ0IDogMCkpIDogTWF0aC5yb3VuZChlLnBhZ2VYIC0gKCR0aGlzLm9mZnNldCgpID8gJHRoaXMub2Zmc2V0KCkubGVmdCA6IDApKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd5JzogKHNldHRpbmdzLnRvdWNoX2NhcGFibGUpID8gTWF0aC5yb3VuZChvcmlnRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVkgLSAoJHRoaXMub2Zmc2V0KCkgPyAkdGhpcy5vZmZzZXQoKS50b3AgOiAwKSkgOiBNYXRoLnJvdW5kKGUucGFnZVkgLSAoJHRoaXMub2Zmc2V0KCkgPyAkdGhpcy5vZmZzZXQoKS50b3AgOiAwKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3RpbWUnOiBEYXRlLm5vdygpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAndGFyZ2V0JzogZS50YXJnZXRcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBDYWxjdWxhdGUgdGhlIHN3aXBlIGFtb3VudCAobm9ybWFsaXplZCk6XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHhBbW91bnQgPSBNYXRoLmFicyhzdGFydEV2bnQucG9zaXRpb24ueCAtIGVuZEV2bnQucG9zaXRpb24ueCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHlBbW91bnQgPSBNYXRoLmFicyhzdGFydEV2bnQucG9zaXRpb24ueSAtIGVuZEV2bnQucG9zaXRpb24ueSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0b3VjaERhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdzdGFydEV2bnQnOiBzdGFydEV2bnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdlbmRFdm50JzogZW5kRXZudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ2RpcmVjdGlvbic6IHN3aXBlZGlyLnJlcGxhY2UoJ3N3aXBlJywgJycpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAneEFtb3VudCc6IHhBbW91bnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICd5QW1vdW50JzogeUFtb3VudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ2R1cmF0aW9uJzogZW5kRXZudC50aW1lIC0gc3RhcnRFdm50LnRpbWVcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIGhhc1N3aXBlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgJHRoaXMudHJpZ2dlcignc3dpcGUnLCB0b3VjaERhdGEpLnRyaWdnZXIoc3dpcGVkaXIsIHRvdWNoRGF0YSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHRvdWNoRW5kKGUpIHtcclxuICAgICAgICAgICAgICAgICR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHN3aXBlZGlyID0gXCJcIjtcclxuICAgICAgICAgICAgICAgICR0aGlzLmRhdGEoJ2NhbGxlZTMnLCB0b3VjaEVuZCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaGFzU3dpcGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UgbmVlZCB0byBjaGVjayBpZiB0aGUgZWxlbWVudCB0byB3aGljaCB0aGUgZXZlbnQgd2FzIGJvdW5kIGNvbnRhaW5zIGEgZGF0YS14dGhyZXNob2xkIHwgZGF0YS12dGhyZXNob2xkOlxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBlbGVfeF90aHJlc2hvbGQgPSAkdGhpcy5kYXRhKCd4dGhyZXNob2xkJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZV95X3RocmVzaG9sZCA9ICR0aGlzLmRhdGEoJ3l0aHJlc2hvbGQnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaF90aHJlc2hvbGQgPSAodHlwZW9mIGVsZV94X3RocmVzaG9sZCAhPT0gJ3VuZGVmaW5lZCcgJiYgZWxlX3hfdGhyZXNob2xkICE9PSBmYWxzZSAmJiBwYXJzZUludChlbGVfeF90aHJlc2hvbGQpKSA/IHBhcnNlSW50KGVsZV94X3RocmVzaG9sZCkgOiBzZXR0aW5ncy5zd2lwZV9oX3RocmVzaG9sZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdl90aHJlc2hvbGQgPSAodHlwZW9mIGVsZV95X3RocmVzaG9sZCAhPT0gJ3VuZGVmaW5lZCcgJiYgZWxlX3lfdGhyZXNob2xkICE9PSBmYWxzZSAmJiBwYXJzZUludChlbGVfeV90aHJlc2hvbGQpKSA/IHBhcnNlSW50KGVsZV95X3RocmVzaG9sZCkgOiBzZXR0aW5ncy5zd2lwZV92X3RocmVzaG9sZDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9yaWdFdmVudCA9IGUub3JpZ2luYWxFdmVudDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZW5kRXZudCA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3Bvc2l0aW9uJzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3gnOiAoc2V0dGluZ3MudG91Y2hfY2FwYWJsZSkgPyBvcmlnRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVggOiBlLnBhZ2VYLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3knOiAoc2V0dGluZ3MudG91Y2hfY2FwYWJsZSkgPyBvcmlnRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVkgOiBlLnBhZ2VZXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdvZmZzZXQnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAneCc6IChzZXR0aW5ncy50b3VjaF9jYXBhYmxlKSA/IE1hdGgucm91bmQob3JpZ0V2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VYIC0gKCR0aGlzLm9mZnNldCgpID8gJHRoaXMub2Zmc2V0KCkubGVmdCA6IDApKSA6IE1hdGgucm91bmQoZS5wYWdlWCAtICgkdGhpcy5vZmZzZXQoKSA/ICR0aGlzLm9mZnNldCgpLmxlZnQgOiAwKSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAneSc6IChzZXR0aW5ncy50b3VjaF9jYXBhYmxlKSA/IE1hdGgucm91bmQob3JpZ0V2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VZIC0gKCR0aGlzLm9mZnNldCgpID8gJHRoaXMub2Zmc2V0KCkudG9wIDogMCkpIDogTWF0aC5yb3VuZChlLnBhZ2VZIC0gKCR0aGlzLm9mZnNldCgpID8gJHRoaXMub2Zmc2V0KCkudG9wIDogMCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICd0aW1lJzogRGF0ZS5ub3coKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3RhcmdldCc6IGUudGFyZ2V0XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVhZCBldmVudCBkYXRhIGludG8gb3VyIGVuZEV2bnQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXJ0RXZudC5wb3NpdGlvbi55ID4gZW5kRXZudC5wb3NpdGlvbi55ICYmIChzdGFydEV2bnQucG9zaXRpb24ueSAtIGVuZEV2bnQucG9zaXRpb24ueSA+IHZfdGhyZXNob2xkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzd2lwZWRpciA9ICdzd2lwZXVwJztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXJ0RXZudC5wb3NpdGlvbi54IDwgZW5kRXZudC5wb3NpdGlvbi54ICYmIChlbmRFdm50LnBvc2l0aW9uLnggLSBzdGFydEV2bnQucG9zaXRpb24ueCA+IGhfdGhyZXNob2xkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzd2lwZWRpciA9ICdzd2lwZXJpZ2h0JztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXJ0RXZudC5wb3NpdGlvbi55IDwgZW5kRXZudC5wb3NpdGlvbi55ICYmIChlbmRFdm50LnBvc2l0aW9uLnkgLSBzdGFydEV2bnQucG9zaXRpb24ueSA+IHZfdGhyZXNob2xkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzd2lwZWRpciA9ICdzd2lwZWRvd24nO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhcnRFdm50LnBvc2l0aW9uLnggPiBlbmRFdm50LnBvc2l0aW9uLnggJiYgKHN0YXJ0RXZudC5wb3NpdGlvbi54IC0gZW5kRXZudC5wb3NpdGlvbi54ID4gaF90aHJlc2hvbGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXBlZGlyID0gJ3N3aXBlbGVmdCc7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBDYWxjdWxhdGUgdGhlIHN3aXBlIGFtb3VudCAobm9ybWFsaXplZCk6XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHhBbW91bnQgPSBNYXRoLmFicyhzdGFydEV2bnQucG9zaXRpb24ueCAtIGVuZEV2bnQucG9zaXRpb24ueCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHlBbW91bnQgPSBNYXRoLmFicyhzdGFydEV2bnQucG9zaXRpb24ueSAtIGVuZEV2bnQucG9zaXRpb24ueSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0b3VjaERhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdzdGFydEV2bnQnOiBzdGFydEV2bnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdlbmRFdm50JzogZW5kRXZudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ2RpcmVjdGlvbic6IHN3aXBlZGlyLnJlcGxhY2UoJ3N3aXBlJywgJycpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAneEFtb3VudCc6IHhBbW91bnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICd5QW1vdW50JzogeUFtb3VudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ2R1cmF0aW9uJzogZW5kRXZudC50aW1lIC0gc3RhcnRFdm50LnRpbWVcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICR0aGlzLnRyaWdnZXIoJ3N3aXBlZW5kJywgdG91Y2hEYXRhKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBzdGFydGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBoYXNTd2lwZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgJHRoaXMub24oc2V0dGluZ3Muc3RhcnRldmVudCwgdG91Y2hTdGFydCk7XHJcbiAgICAgICAgICAgICR0aGlzLm9uKHNldHRpbmdzLm1vdmVldmVudCwgdG91Y2hNb3ZlKTtcclxuICAgICAgICAgICAgJHRoaXMub24oc2V0dGluZ3MuZW5kZXZlbnQsIHRvdWNoRW5kKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICByZW1vdmU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJCh0aGlzKS5vZmYoc2V0dGluZ3Muc3RhcnRldmVudCwgJCh0aGlzKS5kYXRhLmNhbGxlZTEpLm9mZihzZXR0aW5ncy5tb3ZlZXZlbnQsICQodGhpcykuZGF0YS5jYWxsZWUyKS5vZmYoc2V0dGluZ3MuZW5kZXZlbnQsICQodGhpcykuZGF0YS5jYWxsZWUzKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIHNjcm9sbHN0YXJ0IEV2ZW50IChhbHNvIGhhbmRsZXMgc2Nyb2xsZW5kKTpcclxuICAgICQuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydCA9IHtcclxuICAgICAgICBzZXR1cDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgdGhpc09iamVjdCA9IHRoaXMsXHJcbiAgICAgICAgICAgICAgICAkdGhpcyA9ICQodGhpc09iamVjdCksXHJcbiAgICAgICAgICAgICAgICBzY3JvbGxpbmcsXHJcbiAgICAgICAgICAgICAgICB0aW1lcjtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHRyaWdnZXIoZXZlbnQsIHN0YXRlKSB7XHJcbiAgICAgICAgICAgICAgICBzY3JvbGxpbmcgPSBzdGF0ZTtcclxuICAgICAgICAgICAgICAgIHRyaWdnZXJDdXN0b21FdmVudCh0aGlzT2JqZWN0LCBzY3JvbGxpbmcgPyAnc2Nyb2xsc3RhcnQnIDogJ3Njcm9sbGVuZCcsIGV2ZW50KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gaVBob25lIHRyaWdnZXJzIHNjcm9sbCBhZnRlciBhIHNtYWxsIGRlbGF5OyB1c2UgdG91Y2htb3ZlIGluc3RlYWRcclxuICAgICAgICAgICAgJHRoaXMub24oc2V0dGluZ3Muc2Nyb2xsZXZlbnQsIGZ1bmN0aW9uIHNjcm9sbEZ1bmMoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgICR0aGlzLmRhdGEoJ2NhbGxlZScsIHNjcm9sbEZ1bmMpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICghc2Nyb2xsaW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcihldmVudCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcclxuICAgICAgICAgICAgICAgIHRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcihldmVudCwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgfSwgNTApO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICByZW1vdmU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJCh0aGlzKS5vZmYoc2V0dGluZ3Muc2Nyb2xsZXZlbnQsICQodGhpcykuZGF0YS5jYWxsZWUpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy8gVGhpcyBpcyB0aGUgb3JpZW50YXRpb24gY2hhbmdlIChsYXJnZWx5IGJvcnJvd2VkIGZyb20galF1ZXJ5IE1vYmlsZSk6XHJcbiAgICB2YXIgd2luID0gJCh3aW5kb3cpLFxyXG4gICAgICAgIHNwZWNpYWxfZXZlbnQsXHJcbiAgICAgICAgZ2V0X29yaWVudGF0aW9uLFxyXG4gICAgICAgIGxhc3Rfb3JpZW50YXRpb24sXHJcbiAgICAgICAgaW5pdGlhbF9vcmllbnRhdGlvbl9pc19sYW5kc2NhcGUsXHJcbiAgICAgICAgaW5pdGlhbF9vcmllbnRhdGlvbl9pc19kZWZhdWx0LFxyXG4gICAgICAgIHBvcnRyYWl0X21hcCA9IHtcclxuICAgICAgICAgICAgJzAnOiB0cnVlLFxyXG4gICAgICAgICAgICAnMTgwJzogdHJ1ZVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgaWYgKHNldHRpbmdzLm9yaWVudGF0aW9uX3N1cHBvcnQpIHtcclxuICAgICAgICB2YXIgd3cgPSB3aW5kb3cuaW5uZXJXaWR0aCB8fCB3aW4ud2lkdGgoKSxcclxuICAgICAgICAgICAgd2ggPSB3aW5kb3cuaW5uZXJIZWlnaHQgfHwgd2luLmhlaWdodCgpLFxyXG4gICAgICAgICAgICBsYW5kc2NhcGVfdGhyZXNob2xkID0gNTA7XHJcblxyXG4gICAgICAgIGluaXRpYWxfb3JpZW50YXRpb25faXNfbGFuZHNjYXBlID0gd3cgPiB3aCAmJiAod3cgLSB3aCkgPiBsYW5kc2NhcGVfdGhyZXNob2xkO1xyXG4gICAgICAgIGluaXRpYWxfb3JpZW50YXRpb25faXNfZGVmYXVsdCA9IHBvcnRyYWl0X21hcFt3aW5kb3cub3JpZW50YXRpb25dO1xyXG5cclxuICAgICAgICBpZiAoKGluaXRpYWxfb3JpZW50YXRpb25faXNfbGFuZHNjYXBlICYmIGluaXRpYWxfb3JpZW50YXRpb25faXNfZGVmYXVsdCkgfHwgKCFpbml0aWFsX29yaWVudGF0aW9uX2lzX2xhbmRzY2FwZSAmJiAhaW5pdGlhbF9vcmllbnRhdGlvbl9pc19kZWZhdWx0KSkge1xyXG4gICAgICAgICAgICBwb3J0cmFpdF9tYXAgPSB7XHJcbiAgICAgICAgICAgICAgICAnLTkwJzogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICc5MCc6IHRydWVcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgJC5ldmVudC5zcGVjaWFsLm9yaWVudGF0aW9uY2hhbmdlID0gc3BlY2lhbF9ldmVudCA9IHtcclxuICAgICAgICBzZXR1cDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvLyBJZiB0aGUgZXZlbnQgaXMgc3VwcG9ydGVkIG5hdGl2ZWx5LCByZXR1cm4gZmFsc2Ugc28gdGhhdCBqUXVlcnlcclxuICAgICAgICAgICAgLy8gd2lsbCBvbiB0byB0aGUgZXZlbnQgdXNpbmcgRE9NIG1ldGhvZHMuXHJcbiAgICAgICAgICAgIGlmIChzZXR0aW5ncy5vcmllbnRhdGlvbl9zdXBwb3J0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIEdldCB0aGUgY3VycmVudCBvcmllbnRhdGlvbiB0byBhdm9pZCBpbml0aWFsIGRvdWJsZS10cmlnZ2VyaW5nLlxyXG4gICAgICAgICAgICBsYXN0X29yaWVudGF0aW9uID0gZ2V0X29yaWVudGF0aW9uKCk7XHJcblxyXG4gICAgICAgICAgICB3aW4ub24oJ3Rocm90dGxlZHJlc2l6ZScsIGhhbmRsZXIpO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHRlYXJkb3duOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChzZXR0aW5ncy5vcmllbnRhdGlvbl9zdXBwb3J0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHdpbi5vZmYoJ3Rocm90dGxlZHJlc2l6ZScsIGhhbmRsZXIpO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGFkZDogZnVuY3Rpb24gKGhhbmRsZU9iaikge1xyXG4gICAgICAgICAgICAvLyBTYXZlIGEgcmVmZXJlbmNlIHRvIHRoZSBib3VuZCBldmVudCBoYW5kbGVyLlxyXG4gICAgICAgICAgICB2YXIgb2xkX2hhbmRsZXIgPSBoYW5kbGVPYmouaGFuZGxlcjtcclxuXHJcbiAgICAgICAgICAgIGhhbmRsZU9iai5oYW5kbGVyID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBldmVudC5vcmllbnRhdGlvbiA9IGdldF9vcmllbnRhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9sZF9oYW5kbGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBJZiB0aGUgZXZlbnQgaXMgbm90IHN1cHBvcnRlZCBuYXRpdmVseSwgdGhpcyBoYW5kbGVyIHdpbGwgYmUgYm91bmQgdG9cclxuICAgIC8vIHRoZSB3aW5kb3cgcmVzaXplIGV2ZW50IHRvIHNpbXVsYXRlIHRoZSBvcmllbnRhdGlvbmNoYW5nZSBldmVudC5cclxuXHJcbiAgICBmdW5jdGlvbiBoYW5kbGVyKCkge1xyXG4gICAgICAgIC8vIEdldCB0aGUgY3VycmVudCBvcmllbnRhdGlvbi5cclxuICAgICAgICB2YXIgb3JpZW50YXRpb24gPSBnZXRfb3JpZW50YXRpb24oKTtcclxuXHJcbiAgICAgICAgaWYgKG9yaWVudGF0aW9uICE9PSBsYXN0X29yaWVudGF0aW9uKSB7XHJcbiAgICAgICAgICAgIC8vIFRoZSBvcmllbnRhdGlvbiBoYXMgY2hhbmdlZCwgc28gdHJpZ2dlciB0aGUgb3JpZW50YXRpb25jaGFuZ2UgZXZlbnQuXHJcbiAgICAgICAgICAgIGxhc3Rfb3JpZW50YXRpb24gPSBvcmllbnRhdGlvbjtcclxuICAgICAgICAgICAgd2luLnRyaWdnZXIoXCJvcmllbnRhdGlvbmNoYW5nZVwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgJC5ldmVudC5zcGVjaWFsLm9yaWVudGF0aW9uY2hhbmdlLm9yaWVudGF0aW9uID0gZ2V0X29yaWVudGF0aW9uID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBpc1BvcnRyYWl0ID0gdHJ1ZSxcclxuICAgICAgICAgICAgZWxlbSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcclxuXHJcbiAgICAgICAgaWYgKHNldHRpbmdzLm9yaWVudGF0aW9uX3N1cHBvcnQpIHtcclxuICAgICAgICAgICAgaXNQb3J0cmFpdCA9IHBvcnRyYWl0X21hcFt3aW5kb3cub3JpZW50YXRpb25dO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlzUG9ydHJhaXQgPSBlbGVtICYmIGVsZW0uY2xpZW50V2lkdGggLyBlbGVtLmNsaWVudEhlaWdodCA8IDEuMTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBpc1BvcnRyYWl0ID8gJ3BvcnRyYWl0JyA6ICdsYW5kc2NhcGUnO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyB0aHJvdHRsZSBIYW5kbGVyOlxyXG4gICAgJC5ldmVudC5zcGVjaWFsLnRocm90dGxlZHJlc2l6ZSA9IHtcclxuICAgICAgICBzZXR1cDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAkKHRoaXMpLm9uKCdyZXNpemUnLCB0aHJvdHRsZV9oYW5kbGVyKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHRlYXJkb3duOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICQodGhpcykub2ZmKCdyZXNpemUnLCB0aHJvdHRsZV9oYW5kbGVyKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciB0aHJvdHRsZSA9IDI1MCxcclxuICAgICAgICB0aHJvdHRsZV9oYW5kbGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjdXJyID0gRGF0ZS5ub3coKTtcclxuICAgICAgICAgICAgZGlmZiA9IGN1cnIgLSBsYXN0Q2FsbDtcclxuXHJcbiAgICAgICAgICAgIGlmIChkaWZmID49IHRocm90dGxlKSB7XHJcbiAgICAgICAgICAgICAgICBsYXN0Q2FsbCA9IGN1cnI7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLnRyaWdnZXIoJ3Rocm90dGxlZHJlc2l6ZScpO1xyXG5cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChoZWxkQ2FsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQoaGVsZENhbGwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIFByb21pc2UgYSBoZWxkIGNhbGwgd2lsbCBzdGlsbCBleGVjdXRlXHJcbiAgICAgICAgICAgICAgICBoZWxkQ2FsbCA9IHdpbmRvdy5zZXRUaW1lb3V0KGhhbmRsZXIsIHRocm90dGxlIC0gZGlmZik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGxhc3RDYWxsID0gMCxcclxuICAgICAgICBoZWxkQ2FsbCxcclxuICAgICAgICBjdXJyLFxyXG4gICAgICAgIGRpZmY7XHJcblxyXG4gICAgLy8gVHJpZ2dlciBhIGN1c3RvbSBldmVudDpcclxuXHJcbiAgICBmdW5jdGlvbiB0cmlnZ2VyQ3VzdG9tRXZlbnQob2JqLCBldmVudFR5cGUsIGV2ZW50LCB0b3VjaERhdGEpIHtcclxuICAgICAgICB2YXIgb3JpZ2luYWxUeXBlID0gZXZlbnQudHlwZTtcclxuICAgICAgICBldmVudC50eXBlID0gZXZlbnRUeXBlO1xyXG5cclxuICAgICAgICAkLmV2ZW50LmRpc3BhdGNoLmNhbGwob2JqLCBldmVudCwgdG91Y2hEYXRhKTtcclxuICAgICAgICBldmVudC50eXBlID0gb3JpZ2luYWxUeXBlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENvcnJlY3RseSBvbiBhbnl0aGluZyB3ZSd2ZSBvdmVybG9hZGVkOlxyXG4gICAgJC5lYWNoKHtcclxuICAgICAgICBzY3JvbGxlbmQ6ICdzY3JvbGxzdGFydCcsXHJcbiAgICAgICAgc3dpcGV1cDogJ3N3aXBlJyxcclxuICAgICAgICBzd2lwZXJpZ2h0OiAnc3dpcGUnLFxyXG4gICAgICAgIHN3aXBlZG93bjogJ3N3aXBlJyxcclxuICAgICAgICBzd2lwZWxlZnQ6ICdzd2lwZScsXHJcbiAgICAgICAgc3dpcGVlbmQ6ICdzd2lwZScsXHJcblx0XHR0YXAyOiAgICAgJ3RhcCcsXHJcblx0XHR0YXBob2xkMjogJ3RhcGhvbGQnXHJcbiAgICB9LCBmdW5jdGlvbiAoZSwgc3JjRSkge1xyXG4gICAgICAgICQuZXZlbnQuc3BlY2lhbFtlXSA9IHtcclxuICAgICAgICAgICAgc2V0dXA6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICQodGhpcykub24oc3JjRSwgJC5ub29wKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9KTtcclxuXHJcbn0oalF1ZXJ5KSk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
