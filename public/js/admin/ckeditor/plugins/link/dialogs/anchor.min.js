CKEDITOR.dialog.add("anchor",function(i){function n(e,t){return e.createFakeElement(e.document.createElement("a",{attributes:t}),"cke_anchor","anchor")}return{title:i.lang.link.anchor.title,minWidth:300,minHeight:60,onOk:function(){var e=CKEDITOR.tools.trim(this.getValueOf("info","txtName")),t={id:e,name:e,"data-cke-saved-name":e};this._.selectedElement?this._.selectedElement.data("cke-realelement")?((e=n(i,t)).replace(this._.selectedElement),CKEDITOR.env.ie&&i.getSelection().selectElement(e)):this._.selectedElement.setAttributes(t):(e=(e=i.getSelection())&&e.getRanges()[0]).collapsed?(t=n(i,t),e.insertNode(t)):(CKEDITOR.env.ie&&CKEDITOR.env.version<9&&(t.class="cke_anchor"),(t=new CKEDITOR.style({element:"a",attributes:t})).type=CKEDITOR.STYLE_INLINE,t.applyToRange(e))},onHide:function(){delete this._.selectedElement},onShow:function(){var e,t=i.getSelection();e=t.getRanges()[0];var n=t.getSelectedElement();e.shrink(CKEDITOR.SHRINK_ELEMENT),e=(n=e.getEnclosedNode())&&n.type===CKEDITOR.NODE_ELEMENT&&("anchor"===n.data("cke-real-element-type")||n.is("a"))?n:void 0;var a=(n=e&&e.data("cke-realelement"))?CKEDITOR.plugins.link.tryRestoreFakeAnchor(i,e):CKEDITOR.plugins.link.getSelectedLink(i);if(a){var l=(this._.selectedElement=a).data("cke-saved-name");this.setValueOf("info","txtName",l||""),!n&&t.selectElement(a),e&&(this._.selectedElement=e)}this.getContentElement("info","txtName").focus()},contents:[{id:"info",label:i.lang.link.anchor.title,accessKey:"I",elements:[{type:"text",id:"txtName",label:i.lang.link.anchor.name,required:!0,validate:function(){return!!this.getValue()||(alert(i.lang.link.anchor.errorName),!1)}}]}]}});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNrZWRpdG9yL3BsdWdpbnMvbGluay9kaWFsb2dzL2FuY2hvci5qcyJdLCJuYW1lcyI6WyJDS0VESVRPUiIsImRpYWxvZyIsImFkZCIsImMiLCJlIiwiYiIsImEiLCJjcmVhdGVGYWtlRWxlbWVudCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImF0dHJpYnV0ZXMiLCJ0aXRsZSIsImxhbmciLCJsaW5rIiwiYW5jaG9yIiwibWluV2lkdGgiLCJtaW5IZWlnaHQiLCJvbk9rIiwidG9vbHMiLCJ0cmltIiwidGhpcyIsImdldFZhbHVlT2YiLCJpZCIsIm5hbWUiLCJkYXRhLWNrZS1zYXZlZC1uYW1lIiwiXyIsInNlbGVjdGVkRWxlbWVudCIsImRhdGEiLCJyZXBsYWNlIiwiZW52IiwiaWUiLCJnZXRTZWxlY3Rpb24iLCJzZWxlY3RFbGVtZW50Iiwic2V0QXR0cmlidXRlcyIsImdldFJhbmdlcyIsImNvbGxhcHNlZCIsImluc2VydE5vZGUiLCJ2ZXJzaW9uIiwic3R5bGUiLCJlbGVtZW50IiwidHlwZSIsIlNUWUxFX0lOTElORSIsImFwcGx5VG9SYW5nZSIsIm9uSGlkZSIsIm9uU2hvdyIsImQiLCJnZXRTZWxlY3RlZEVsZW1lbnQiLCJzaHJpbmsiLCJTSFJJTktfRUxFTUVOVCIsImdldEVuY2xvc2VkTm9kZSIsIk5PREVfRUxFTUVOVCIsImlzIiwiZiIsInBsdWdpbnMiLCJ0cnlSZXN0b3JlRmFrZUFuY2hvciIsImdldFNlbGVjdGVkTGluayIsInNldFZhbHVlT2YiLCJnZXRDb250ZW50RWxlbWVudCIsImZvY3VzIiwiY29udGVudHMiLCJsYWJlbCIsImFjY2Vzc0tleSIsImVsZW1lbnRzIiwicmVxdWlyZWQiLCJ2YWxpZGF0ZSIsImdldFZhbHVlIiwiYWxlcnQiLCJlcnJvck5hbWUiXSwibWFwcGluZ3MiOiJBQUlBQSxTQUFTQyxPQUFPQyxJQUFJLFNBQVMsU0FBU0MsR0FBRyxTQUFTQyxFQUFFQyxFQUFFQyxHQUFHLE9BQU9ELEVBQUVFLGtCQUFrQkYsRUFBRUcsU0FBU0MsY0FBYyxJQUFJLENBQUNDLFdBQVdKLElBQUksYUFBYSxVQUFVLE1BQU0sQ0FBQ0ssTUFBTVIsRUFBRVMsS0FBS0MsS0FBS0MsT0FBT0gsTUFBTUksU0FBUyxJQUFJQyxVQUFVLEdBQUdDLEtBQUssV0FBVyxJQUFJWixFQUFFTCxTQUFTa0IsTUFBTUMsS0FBS0MsS0FBS0MsV0FBVyxPQUFPLFlBQVlmLEVBQUUsQ0FBQ2dCLEdBQUdqQixFQUFFa0IsS0FBS2xCLEVBQUVtQixzQkFBc0JuQixHQUFHZSxLQUFLSyxFQUFFQyxnQkFBZ0JOLEtBQUtLLEVBQUVDLGdCQUFnQkMsS0FBSyxxQkFBb0J0QixFQUFFRCxFQUFFRCxFQUFFRyxJQUFLc0IsUUFBUVIsS0FBS0ssRUFBRUMsaUJBQWlCMUIsU0FBUzZCLElBQUlDLElBQUkzQixFQUFFNEIsZUFBZUMsY0FBYzNCLElBQUllLEtBQUtLLEVBQUVDLGdCQUFnQk8sY0FBYzNCLElBQ3ZoQkQsR0FBR0EsRUFBRUYsRUFBRTRCLGlCQUFpQjFCLEVBQUU2QixZQUFZLElBQUtDLFdBQVc3QixFQUFFRixFQUFFRCxFQUFFRyxHQUFHRCxFQUFFK0IsV0FBVzlCLEtBQUtOLFNBQVM2QixJQUFJQyxJQUFNOUIsU0FBUzZCLElBQUlRLFFBQWYsSUFBeUIvQixFQUFTLE1BQUUsZUFBY0EsRUFBRSxJQUFJTixTQUFTc0MsTUFBTSxDQUFDQyxRQUFRLElBQUk3QixXQUFXSixLQUFNa0MsS0FBS3hDLFNBQVN5QyxhQUFhbkMsRUFBRW9DLGFBQWFyQyxLQUFNc0MsT0FBTyxrQkFBa0J2QixLQUFLSyxFQUFFQyxpQkFBaUJrQixPQUFPLFdBQVcsSUFBdUJ0QyxFQUFuQkQsRUFBRUYsRUFBRTRCLGVBQWlCekIsRUFBRUQsRUFBRTZCLFlBQVksR0FBRyxJQUFJVyxFQUFFeEMsRUFBRXlDLHFCQUFxQnhDLEVBQUV5QyxPQUFPL0MsU0FBU2dELGdCQUFnQjFDLEdBQUd1QyxFQUFFdkMsRUFBRTJDLG9CQUFvQkosRUFBRUwsT0FBT3hDLFNBQVNrRCxlQUFlLFdBQVdMLEVBQUVsQixLQUFLLDBCQUNwZmtCLEVBQUVNLEdBQUcsTUFBTU4sT0FBRSxFQUFPLElBQUlPLEdBQUdQLEVBQUV2QyxHQUFHQSxFQUFFcUIsS0FBSyxvQkFBb0IzQixTQUFTcUQsUUFBUXhDLEtBQUt5QyxxQkFBcUJuRCxFQUFFRyxHQUFHTixTQUFTcUQsUUFBUXhDLEtBQUswQyxnQkFBZ0JwRCxHQUFHLEdBQUdpRCxFQUFFLENBQTBCLElBQUloRCxHQUE3QmdCLEtBQUtLLEVBQUVDLGdCQUFnQjBCLEdBQVV6QixLQUFLLGtCQUFrQlAsS0FBS29DLFdBQVcsT0FBTyxVQUFVcEQsR0FBRyxLQUFLeUMsR0FBR3hDLEVBQUUyQixjQUFjb0IsR0FBRzlDLElBQUljLEtBQUtLLEVBQUVDLGdCQUFnQnBCLEdBQUdjLEtBQUtxQyxrQkFBa0IsT0FBTyxXQUFXQyxTQUFTQyxTQUFTLENBQUMsQ0FBQ3JDLEdBQUcsT0FBT3NDLE1BQU16RCxFQUFFUyxLQUFLQyxLQUFLQyxPQUFPSCxNQUFNa0QsVUFBVSxJQUFJQyxTQUFTLENBQUMsQ0FBQ3RCLEtBQUssT0FBT2xCLEdBQUcsVUFBVXNDLE1BQU16RCxFQUFFUyxLQUFLQyxLQUFLQyxPQUFPUyxLQUFLd0MsVUFBUyxFQUFHQyxTQUFTLFdBQVcsUUFBTzVDLEtBQUs2QyxhQUM3Z0JDLE1BQU0vRCxFQUFFUyxLQUFLQyxLQUFLQyxPQUFPcUQsWUFBVyIsImZpbGUiOiJja2VkaXRvci9wbHVnaW5zL2xpbmsvZGlhbG9ncy9hbmNob3IuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxyXG4gQ29weXJpZ2h0IChjKSAyMDAzLTIwMTcsIENLU291cmNlIC0gRnJlZGVyaWNvIEtuYWJiZW4uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiBGb3IgbGljZW5zaW5nLCBzZWUgTElDRU5TRS5tZCBvciBodHRwOi8vY2tlZGl0b3IuY29tL2xpY2Vuc2VcclxuKi9cclxuQ0tFRElUT1IuZGlhbG9nLmFkZChcImFuY2hvclwiLGZ1bmN0aW9uKGMpe2Z1bmN0aW9uIGUoYixhKXtyZXR1cm4gYi5jcmVhdGVGYWtlRWxlbWVudChiLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIse2F0dHJpYnV0ZXM6YX0pLFwiY2tlX2FuY2hvclwiLFwiYW5jaG9yXCIpfXJldHVybnt0aXRsZTpjLmxhbmcubGluay5hbmNob3IudGl0bGUsbWluV2lkdGg6MzAwLG1pbkhlaWdodDo2MCxvbk9rOmZ1bmN0aW9uKCl7dmFyIGI9Q0tFRElUT1IudG9vbHMudHJpbSh0aGlzLmdldFZhbHVlT2YoXCJpbmZvXCIsXCJ0eHROYW1lXCIpKSxhPXtpZDpiLG5hbWU6YixcImRhdGEtY2tlLXNhdmVkLW5hbWVcIjpifTt0aGlzLl8uc2VsZWN0ZWRFbGVtZW50P3RoaXMuXy5zZWxlY3RlZEVsZW1lbnQuZGF0YShcImNrZS1yZWFsZWxlbWVudFwiKT8oYj1lKGMsYSksYi5yZXBsYWNlKHRoaXMuXy5zZWxlY3RlZEVsZW1lbnQpLENLRURJVE9SLmVudi5pZSYmYy5nZXRTZWxlY3Rpb24oKS5zZWxlY3RFbGVtZW50KGIpKTp0aGlzLl8uc2VsZWN0ZWRFbGVtZW50LnNldEF0dHJpYnV0ZXMoYSk6XHJcbihiPShiPWMuZ2V0U2VsZWN0aW9uKCkpJiZiLmdldFJhbmdlcygpWzBdLGIuY29sbGFwc2VkPyhhPWUoYyxhKSxiLmluc2VydE5vZGUoYSkpOihDS0VESVRPUi5lbnYuaWUmJjk+Q0tFRElUT1IuZW52LnZlcnNpb24mJihhW1wiY2xhc3NcIl09XCJja2VfYW5jaG9yXCIpLGE9bmV3IENLRURJVE9SLnN0eWxlKHtlbGVtZW50OlwiYVwiLGF0dHJpYnV0ZXM6YX0pLGEudHlwZT1DS0VESVRPUi5TVFlMRV9JTkxJTkUsYS5hcHBseVRvUmFuZ2UoYikpKX0sb25IaWRlOmZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXMuXy5zZWxlY3RlZEVsZW1lbnR9LG9uU2hvdzpmdW5jdGlvbigpe3ZhciBiPWMuZ2V0U2VsZWN0aW9uKCksYTthPWIuZ2V0UmFuZ2VzKClbMF07dmFyIGQ9Yi5nZXRTZWxlY3RlZEVsZW1lbnQoKTthLnNocmluayhDS0VESVRPUi5TSFJJTktfRUxFTUVOVCk7YT0oZD1hLmdldEVuY2xvc2VkTm9kZSgpKSYmZC50eXBlPT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoXCJhbmNob3JcIj09PWQuZGF0YShcImNrZS1yZWFsLWVsZW1lbnQtdHlwZVwiKXx8XHJcbmQuaXMoXCJhXCIpKT9kOnZvaWQgMDt2YXIgZj0oZD1hJiZhLmRhdGEoXCJja2UtcmVhbGVsZW1lbnRcIikpP0NLRURJVE9SLnBsdWdpbnMubGluay50cnlSZXN0b3JlRmFrZUFuY2hvcihjLGEpOkNLRURJVE9SLnBsdWdpbnMubGluay5nZXRTZWxlY3RlZExpbmsoYyk7aWYoZil7dGhpcy5fLnNlbGVjdGVkRWxlbWVudD1mO3ZhciBlPWYuZGF0YShcImNrZS1zYXZlZC1uYW1lXCIpO3RoaXMuc2V0VmFsdWVPZihcImluZm9cIixcInR4dE5hbWVcIixlfHxcIlwiKTshZCYmYi5zZWxlY3RFbGVtZW50KGYpO2EmJih0aGlzLl8uc2VsZWN0ZWRFbGVtZW50PWEpfXRoaXMuZ2V0Q29udGVudEVsZW1lbnQoXCJpbmZvXCIsXCJ0eHROYW1lXCIpLmZvY3VzKCl9LGNvbnRlbnRzOlt7aWQ6XCJpbmZvXCIsbGFiZWw6Yy5sYW5nLmxpbmsuYW5jaG9yLnRpdGxlLGFjY2Vzc0tleTpcIklcIixlbGVtZW50czpbe3R5cGU6XCJ0ZXh0XCIsaWQ6XCJ0eHROYW1lXCIsbGFiZWw6Yy5sYW5nLmxpbmsuYW5jaG9yLm5hbWUscmVxdWlyZWQ6ITAsdmFsaWRhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRWYWx1ZSgpP1xyXG4hMDooYWxlcnQoYy5sYW5nLmxpbmsuYW5jaG9yLmVycm9yTmFtZSksITEpfX1dfV19fSk7Il19
